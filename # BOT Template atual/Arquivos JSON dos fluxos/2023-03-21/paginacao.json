{"flow":{"onboarding":{"$contentActions":[{"input":{"bypass":false,"$cardContent":{"document":{"id":"1c27dfa3-2968-40a7-bb7d-e07499eda823","type":"text/plain","content":"User input"},"editable":false,"deletable":false,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"f4078b7c-fd36-47ec-a5d6-57e5392cddaa","$invalid":false,"typeOfStateId":"state"},"$tags":[],"id":"onboarding","root":true,"$title":"Start","$position":{"top":"51.8889px","left":"150.889px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"fallback":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"707ddd82-ac70-4497-ac43-7bc2760e04ea","type":"text/plain","content":"User input"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"error","typeOfStateId":"state","$connId":"con_3","$id":"8be4dbc8-c01d-43cd-823b-a4f2f99fd33b","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$invalid":false},{"stateId":"23db93b0-a85a-41fa-8b51-374afe7e7b68","conditions":[{"source":"context","comparison":"equals","values":["ENCERRAR","FINALIZAR","SAIR"],"variable":"validInputJs@input"}],"$id":"2b261064-4ccb-44a4-ae37-67890ed2d033","$connId":"con_8","$invalid":false,"typeOfStateId":"state"},{"stateId":"error","typeOfStateId":"state","$connId":"con_13","$id":"664b79a0-0dc4-4d09-a34e-f282a009e8a0","conditions":[{"source":"context","comparison":"notEquals","values":["success","sucesso"],"variable":"validInputJs@type"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"b7d8a5e8-fe2c-4a36-827d-db4e935f9c3d","$typeOfContent":"","type":"ExecuteScript","$title":"exception","$invalid":false,"settings":{"function":"run","source":"function run(previousState, typeInput) {\n    try {\n        typeInput = JSON.parse(typeInput).input\n        let idFormated = previousState.split(' ');\n        idFormated = idFormated[0].replace(/\\[/g,'').replace(/\\]/g,'').replace(/\\./g,'');\n        const exception = {\n            id: `${idFormated}`,\n            input: '{{input.content}}',\n            redirectMenu: `${typeInput}`\n        }\n        return exception\n    }\n    catch (e) {\n        return 'error'\n    }\n}","inputVariables":["state.previous.name","validInputJs"],"outputVariable":"exception","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"$tags":[{"background":"#FF6F1E","label":"executeScript","id":"blip-tag-df3af129-53bb-ec72-481d-85ae1c73cfe0","canChangeBackground":false}],"id":"fallback","$title":"Exceptions","$position":{"top":"44px","left":"1700px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"error":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"fbf92afc-a1bf-400c-8e40-22d772bf16fa","type":"text/plain","content":"User input"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"7d31e570-2f6e-4693-9895-eb1669fe5c4d","$typeOfContent":"","type":"Redirect","$title":"[GO TO] Exceções","$invalid":false,"settings":{"context":{"type":"text/plain","value":"{{exception}}"},"address":"cluexcecao"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"$tags":[{"background":"#0A6045","label":"REDIRECT TO","id":"blip-tag-31fd5180-97e8-b29a-b296-110803b6277e","canChangeBackground":false}],"id":"error","$title":"[REDIRECT TO] Exceções","$position":{"top":"45px","left":"1902px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#c8e6c9","textColor":"#000000"}},"f4078b7c-fd36-47ec-a5d6-57e5392cddaa":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"d177afe0-1fc9-47f7-8d6d-a8888d6c114c","type":"text/plain","textContent":"User input","content":"User input"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"a9bb41ca-9bef-4b1d-a5ca-a3688ef77898","typeOfStateId":"state","$connId":"con_18","$id":"a67efdf5-bbfd-4800-b030-2378aacdf05f","conditions":[{"source":"context","comparison":"equals","values":["true"],"variable":"returnException"}],"$invalid":false},{"stateId":"b1a69b2e-1b1f-466e-9d09-bceb3aaf9130","typeOfStateId":"state","$connId":"con_23","$id":"86a9b2b8-e6ae-45c6-957a-70486302f314","conditions":[{"source":"context","comparison":"equals","values":["Não"],"variable":"confirmCpfcnpj"}],"$invalid":false},{"stateId":"3cbc592d-dfe0-4a7c-a5a3-ffe517ac0cb7","typeOfStateId":"state","$connId":"con_28","$id":"1b7c44de-4b33-4897-887a-f81a9c82ad86","conditions":[{"source":"context","comparison":"equals","values":["Sim"],"variable":"confirmCpfcnpj"}],"$invalid":false},{"stateId":"b1a69b2e-1b1f-466e-9d09-bceb3aaf9130","typeOfStateId":"state","$connId":"con_33","$id":"7b2a3169-1ab5-458b-9306-b5071dc3e6c1","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"98c87606-f80d-41c9-85b9-ba045acd21be","$typeOfContent":"","type":"SetVariable","$title":"SERVICE","$invalid":false,"settings":{"variable":"service","value":"cluteste"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[{"background":"#FF4A1E","label":"Set variable","id":"blip-tag-3bd66a4b-ba56-e3ff-bda5-086e2b1011ab","canChangeBackground":false},{"background":"#FF6F1E","label":"executeScript","id":"blip-tag-df3af129-53bb-ec72-481d-85ae1c73cfe0","canChangeBackground":false},{"background":"#FF1E90","label":"HTTP Request","id":"blip-tag-d2f6d32a-8f3d-ae80-2164-881f1467e0ac","canChangeBackground":false},{"background":"#7762E3","label":"Set Contact","id":"blip-tag-34536386-696f-5928-5ea7-4c06b8dfb34e","canChangeBackground":false}],"id":"f4078b7c-fd36-47ec-a5d6-57e5392cddaa","root":false,"$title":"[REQUIREMENTS]","$position":{"top":"194px","left":"156px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#000000","textColor":"#ffffff","commentsIdList":[]}},"a4425c36-b361-4363-97cc-0bb558f88edf":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"581d2ca6-5ab2-4e38-8726-d22b30bcf23c","type":"text/plain","textContent":"User input","content":"User input"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"23db93b0-a85a-41fa-8b51-374afe7e7b68","$invalid":false,"typeOfStateId":"state"},"$tags":[{"background":"#3A4A65","label":"GO TO","id":"blip-tag-2950aeab-5ffc-4bfb-8c0d-5677eb652059","canChangeBackground":false}],"id":"a4425c36-b361-4363-97cc-0bb558f88edf","root":false,"$title":"[GO TO] Finalização","$position":{"top":"215px","left":"1283px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#fff9c4","textColor":"#000000","commentsIdList":[]}},"3b904cac-d437-46b1-8b32-fe2450a423d7":{"$contentActions":[{"action":{"$id":"40ccc244-df19-4bf9-a7d1-e4f5f4c46722","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"19eb619d-6f11-4923-b326-72ab8352b8ba","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"19eb619d-6f11-4923-b326-72ab8352b8ba","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"b5a6f654-d2d1-4e03-b68a-1f821b914c28","$typeOfContent":"raw-content","type":"SendRawMessage","settings":{"metadata":{},"type":"{{objMenu@type}}","rawContent":"{{contentJs}}"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"be996d59-606a-485c-bd73-cb31970b6f66","type":"text/plain","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"0:1"},"$invalid":false}],"$conditionOutputs":[{"stateId":"a4425c36-b361-4363-97cc-0bb558f88edf","typeOfStateId":"state","$connId":"con_38","$id":"7e7cff67-6680-44da-9e70-bb398a9a0334","conditions":[{"source":"context","comparison":"equals","values":["SAIR"],"variable":"validInputJs@input"}],"$invalid":false},{"stateId":"fa878c43-b5a2-4997-94a1-521013c240c8","typeOfStateId":"state","$connId":"con_43","$id":"7ad6e10d-366d-456b-8fcf-f201591999a9","conditions":[{"source":"context","comparison":"equals","values":["Informações"],"variable":"validInputJs@input"}],"$invalid":false},{"stateId":"68862337-f436-4b3e-83a2-c499a0cf0a8e","typeOfStateId":"state","$connId":"con_48","$id":"28503015-2190-4454-83f7-a6a9e5b95a81","conditions":[{"source":"context","comparison":"equals","values":["Elogios"],"variable":"validInputJs@input"}],"$invalid":false},{"stateId":"2e009768-50e9-4520-86e9-581a91352fcc","typeOfStateId":"state","$connId":"con_53","$id":"d07fdb41-2e32-4586-ae53-419b0d78eb3b","conditions":[{"source":"context","comparison":"equals","values":["Dúvidas"],"variable":"validInputJs@input"}],"$invalid":false},{"stateId":"4d3926d6-006a-4325-b1ea-1a6b34e894fe","typeOfStateId":"state","$connId":"con_58","$id":"0c0474f1-f3c8-474e-ba94-0d82bbed4a47","conditions":[{"source":"context","comparison":"equals","values":["Sugestões"],"variable":"validInputJs@input"}],"$invalid":false},{"stateId":"e1ec8e88-b921-498b-87c6-ef7caee990b3","typeOfStateId":"state","$connId":"con_63","$id":"fb36986e-4597-4673-b524-7139e9f9d32c","conditions":[{"source":"context","comparison":"equals","values":["Reclamações"],"variable":"validInputJs@input"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"0af07bf9-f694-4636-a08b-fc1d339ed605","$typeOfContent":"","type":"ExecuteScript","$title":"inputOptionJs","$invalid":false,"settings":{"function":"run","source":"function run() {\n\n  let properties = {\n    'text': 'Eu trouxe aqui alguns assuntos que podem ajudar. 😃\\n{{n1}}Agora digite o número da opção que deseja:{{n2}}',\n    'options': [\"Informações\", \"Dúvidas\", \"Reclamações\", \"Elogios\", \"Sugestões\"],\n    'values': [\"Informações\", \"Dúvidas\", \"Reclamações\", \"Elogios\", \"Sugestões\"],\n    'description': [],\n    'itens': [\n      { name: ['Informações'] },\n      { name: ['Dúvidas'] },\n      { name: ['Reclamações'] },\n      { name: ['Elogios'] },\n      { name: ['Sugestões'] }\n    ]\n  }\n\n  properties.itens = addItensNumeracao(properties.itens);\n\n  // Adição de opções sem numeração\n  let opcoesExtras = [\n    { name: ['Menu', 'Voltar ao início', 'Reiniciar'] },\n    { name: ['Sair', 'Finalizar', 'Encerrar'] }\n  ]\n\n  opcoesExtras = addItens(opcoesExtras);\n\n  for (let i = 0; i < opcoesExtras.length; i++) {\n    properties.itens.push(opcoesExtras[i]);\n  }\n\n  return JSON.stringify(properties);\n}\n\nfunction addItens(itens) {\n  let newItens = [];\n  let newNames;\n  let name;\n  let match;\n  for (let i = 0; i < itens.length; i++) {\n    name = itens[i].name;\n    newNames = []\n    for (let y = 0; y < itens[i].name.length; y++) {\n      match = name[y];\n      newNames.push(match);\n      // Adiciona uma variação lowerCase e UpperCase para cada opção do itens\n      newNames.push(match.toLowerCase());\n      newNames.push(match.toUpperCase());\n      newItens[i] = { name: newNames };\n    }\n  }\n  return newItens;\n}\n\nfunction addItensNumeracao(itens) {\n  let newItens = [];\n  let newNames;\n  let name;\n  let match;\n  for (let i = 0; i < itens.length; i++) {\n    name = itens[i].name;\n    newNames = []\n    for (let y = 0; y < itens[i].name.length; y++) {\n      match = name[y];\n      newNames.push(match);\n      // Adiciona uma variação lowerCase e UpperCase para cada opção do itens\n      newNames.push(match.toLowerCase());\n      newNames.push(match.toUpperCase());\n      newItens[i] = { name: newNames };\n    }\n    newNames.push(`${ i + 1 }`); // Acrescenta numeração automática\n  }\n  return newItens;\n} \n","inputVariables":[],"outputVariable":"inputOptionJs","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"181a73ce-4d24-4c10-90f2-d2e8c352791e","$typeOfContent":"","type":"ExecuteScript","$title":"objMenu","$invalid":false,"settings":{"function":"run","source":"{{resource.FunctionGetMenu}}\n\nconst run = (platform, menu) => {\n  let convertPlatform = platform.toLowerCase();\n  menu = JSON.parse(menu);\n  platform = platform.toLowerCase();\n\n  if (platform == 'instagram' || platform == 'messenger') {\n    const objectType = {\n      'type': `text/plain`\n    }\n    return objectType\n  };\n\n  let default_msg = {\n    \"text\": menu.text,\n    \"header\": 'Menu',\n    \"body\": menu.text,\n    \"footer\": '',\n    \"button\": 'Menu',\n    \"title\": 'Menu',\n    \"namespaceTemplate\": '',\n    \"nameTemplate\": '',\n    \"options\": menu.options,\n    \"values\": menu.values,\n    \"submenu\": [],\n    \"description\": menu.description,\n    \"menuScope\": {\n      \"whatsappButton\": false,\n      \"whatsappList\": false,\n      \"blipchatQuickReply\": false,\n      \"blipchatMenu\": false,\n      \"defaultText\": true,\n      \"platform\": convertPlatform\n    },\n  };\n\n  var newMenu = getMenuForPlatform(default_msg);\n\n  return newMenu;\n};","inputVariables":["platform","inputOptionJs"],"outputVariable":"objMenu","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"18db78c0-fa11-4575-866e-6f13d900f271","$typeOfContent":"","type":"ExecuteScript","$title":"contentJs","$invalid":false,"settings":{"function":"run","source":"function run(menu, platform, objMenu) {\n  objMenu = JSON.parse(objMenu);\n  platform = platform.toLowerCase();\n\n  switch (platform) {\n    case 'instagram':\n      return geraMenuNumerico(menu);\n\n    case 'messenger':\n      return geraMenuNumerico(menu);\n\n    default:\n      return objMenu.content;\n  }\n}\n\nfunction geraMenuNumerico(menu) {\n  menu = JSON.parse(menu);\n\n  let listaOptions = '\\n\\n';\n  for (let i = 0; i < menu.options.length; i++) {\n    listaOptions = listaOptions + (i + 1) + '. ' + menu.options[i] + '\\n';\n  }\n\n  return menu.text + listaOptions;\n}","inputVariables":["inputOptionJs","platform","objMenu"],"outputVariable":"contentJs","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"19b44b1c-95c2-4d6f-be90-4d0f0d3f8a6e","$typeOfContent":"","type":"TrackEvent","$title":"menu principal oncoclinicas sac exibicao","$invalid":false,"settings":{"extras":{},"category":"menu principal oncoclinicas sac exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[{"$id":"4c3fd580-c601-45cc-8eae-e805e71a605f","$typeOfContent":"","type":"ExecuteScript","$title":"validInputJs","$invalid":false,"settings":{"function":"run","source":"// ============================================================================\n//      TYPE\n// ============================================================================\n// - reserved => quando há alguma palavra reservada que o bot deverá processar, \n// como SAIR E MENU por exemplo\n// - error => quando alguma validação deverá retornar um erro para cair em exceção\n// - success => quando a validação foi bem sucedida.\n// ============================================================================\n//      INPUT\n// ============================================================================\n// Retorna o input após processamento.\n// - Se type == error => o input será a descrição do erro. Ex: ERRO CEP\n// - Se type == success => o input será o input original processado.\n// ============================================================================\n//      VALIDATION\n// ============================================================================\n// Retorna em qual validação o input foi processado. Ex: cep\n// ============================================================================\n{{resource.FunctionProcessInput}}\n\nfunction run(input, inputType, platform, menu) {\n    try {\n\n        // =================================================================================\n        //             ATENÇÃO: MANIPULAR SOMENTE AS DUAS CONSTANTES A SEGUIR\n        // =================================================================================\n        // - validacaoMenu => true para validação de Menu, false para Input\n        // - validacoesInput => insira aqui que tipo de validação de input vai ser  \n        //   necessário (se mais de um for selecionado, apenas o mais acima será validado)\n        // - erroMenuEspecial => altere somente se, caso a validação seja um Menu e para\n        //   este menu haja um tratamento diferente de exceção.\n        // =================================================================================\n        const validacaoMenu = true;\n        const erroMenuEspecial = 'ERRO DINAMICO';\n        const validacoesInput = {\n            data: false,\n            email: false,\n            cep: false,\n            img: false,\n            imgTxt: false,\n            nome: false\n        };\n        // ========================================================================\n\n        // Inicia o objeto que será retornado pela função\n        let processedInput = {\n            'type': null,\n            'input': null,\n            'validation': 'none'\n        }\n\n        // Verifica se o usuário digitou SAIR ou MENU\n        if (input == 'sair' || input == 'SAIR' || input == 'Sair') {\n            processedInput.type = 'reserved'\n            processedInput.input = 'SAIR'\n            return JSON.stringify(processedInput)\n        } else if (input == 'menu' || input == 'MENU' || input == 'Menu') {\n            processedInput.type = 'reserved'\n            processedInput.input = 'MENU'\n            return JSON.stringify(processedInput)\n        }\n\n        // Formata variáveis\n        menu = JSON.parse(menu);\n        platform = platform.toUpperCase()\n\n        if (validacaoMenu) {\n            // Validação de MENU\n            processedInput = validaMenu(input, menu, platform)\n\n            // Verifica se precisa mudar a mensagem de erro do Menu Dinâmico para o Especial\n            if ((processedInput.input == 'ERRO DINAMICO' || processedInput.input == 'ERRO NUMERICO') && erroMenuEspecial != '') {\n                processedInput.input = erroMenuEspecial; \n            }\n            return JSON.stringify(processedInput);\n\n        } else {\n            // Validação de INPUT\n            const val = Object.entries(validacoesInput);\n            processedInput = validaInput(val, input, inputType)\n\n            // Se nenhuma validação foi processada, retorna o input sem validação\n            if (processedInput.input == 'INPUT SEM VALIDAÇÕES') {\n                return JSON.stringify({type: 'success', input: input, validation: 'none'});\n\n            } else {\n                return JSON.stringify(processedInput);\n            }\n        }\n\n    } catch (e) {\n        return {type: 'error', input: 'ERRO INESPERADO', validation: 'none'}\n    }\n}","inputVariables":["input.content","input.type","platform","inputOptionJs"],"outputVariable":"validInputJs"},"conditions":[]},{"$id":"df568ace-ba78-4a52-9b1f-95e2cbbdca70","$typeOfContent":"","type":"SetVariable","$title":"menu opcao escolhida","$invalid":false,"settings":{"variable":"menuOptEscolhido","value":"{{validInputJs@input}}"},"conditions":[{"source":"context","comparison":"equals","variable":"validInputJs@type","values":["success"]},{"source":"input","comparison":"exists","values":[]}]},{"$id":"ca0780fb-4590-4991-b281-fda1d115b2b6","$typeOfContent":"","type":"TrackEvent","$title":"menu principal oncoclinicas sac selecao","$invalid":false,"settings":{"extras":{},"category":"menu principal oncoclinicas sac selecao","action":"{{validInputJs@input}}"},"conditions":[{"source":"context","comparison":"equals","values":["success"],"variable":"validInputJs@type"},{"source":"input","comparison":"exists","values":[]}]},{"$id":"66155932-cd0b-4c34-9628-39d25d459551","$typeOfContent":"","type":"TrackEvent","$title":"menu principal oncoclinicas sac input inesperado","$invalid":false,"settings":{"extras":{},"category":"menu principal oncoclinicas sac input inesperado","action":"{{input.content}}"},"conditions":[{"source":"input","comparison":"exists","values":[]},{"source":"context","comparison":"equals","variable":"validInputJs@type","values":["error","reserved"]}]},{"$id":"3bf5dbe0-4929-423e-a075-dcc5768a9460","$typeOfContent":"","type":"SetVariable","$title":"return - true","$invalid":false,"settings":{"variable":"return","value":"true"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false,"typeOfStateId":"state"},"$tags":[{"background":"#61D36F","label":"Event tracking","id":"blip-tag-c54b55c8-285f-be44-167f-ddb9370efbe9","canChangeBackground":false},{"background":"#FF6F1E","label":"executeScript","id":"blip-tag-df3af129-53bb-ec72-481d-85ae1c73cfe0","canChangeBackground":false},{"background":"#FFEC03","label":"userInput","id":"blip-tag-59565120-de68-cdcc-653c-94c14e2b5e9e","canChangeBackground":false}],"id":"3b904cac-d437-46b1-8b32-fe2450a423d7","$title":"[S.1.0.3] [MENU] Menu Principal","$position":{"top":"19px","left":"992px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#455a64","textColor":"#ffffff"}},"a9bb41ca-9bef-4b1d-a5ca-a3688ef77898":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"aebf3f0a-56ac-4466-b042-70cabc54dbf4","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"{{returnBlockId}}","typeOfStateId":"variable","$id":"5a5e1d62-fe29-4e31-87f5-baa07e27c542","conditions":[{"source":"context","comparison":"notEquals","values":["ERROR"],"variable":"returnBlockId"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"ad440f48-87c3-4fa8-be77-43d1b0e5b835","$typeOfContent":"","type":"SetVariable","$title":"returnException","$invalid":false,"settings":{"variable":"returnException","value":"false"},"conditions":[]},{"$id":"c8ef55ca-3bf7-4e60-8e94-8a2a9ae327c5","$typeOfContent":"","type":"ExecuteScript","$title":"returnBlockId","$invalid":false,"settings":{"function":"run","source":"function run(exception) {\n  try {\n    exception = JSON.parse(exception)\n    const exceptionId = exception.id\n\n    const blockList = [\n      { exceptionId: \"A100\", blockId: \"b1a69b2e-1b1f-466e-9d09-bceb3aaf9130\" },\n      { exceptionId: \"A201\", blockId: \"56068a5e-38a5-4a86-95ec-61a4c469b8df\" },\n      { exceptionId: \"A101\", blockId: \"eb302efb-0895-4447-9a9f-af08a26cc557\" },\n      \n    ]\n\n    let returnBlockId = \"\"\n\n    blockList.forEach(element => {\n      var find = exceptionId == element.exceptionId ? element.blockId : ''\n      if (find != '') {\n        returnBlockId = find\n      }\n    })\n\n    if (returnBlockId == \"\") {\n      returnBlockId = \"ERROR: COULDN'T MATCH EXCEPTION ID. DID YOU LINKED EXCEPTION ID TO BLOCK ID?\"\n    }\n\n    return returnBlockId\n  } catch (e) {\n    return \"ERROR: SCRIPT FAILURE\"\n  }\n}","inputVariables":["exception"],"outputVariable":"returnBlockId","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[{"background":"#FF6F1E","label":"executeScript","id":"blip-tag-df3af129-53bb-ec72-481d-85ae1c73cfe0","canChangeBackground":false},{"background":"#FF4A1E","label":"Set variable","id":"blip-tag-3bd66a4b-ba56-e3ff-bda5-086e2b1011ab","canChangeBackground":false}],"id":"a9bb41ca-9bef-4b1d-a5ca-a3688ef77898","root":false,"$title":"Retorno Exceção","$position":{"top":"152px","left":"367px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#eb9694","textColor":"#000000"}},"fa878c43-b5a2-4997-94a1-521013c240c8":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"fa5dfe1f-4ded-40d1-bb39-60cafdbd66b2","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[{"background":"#3A4A65","label":"GO TO","id":"blip-tag-2950aeab-5ffc-4bfb-8c0d-5677eb652059","canChangeBackground":false}],"id":"fa878c43-b5a2-4997-94a1-521013c240c8","root":false,"$title":"[GO TO] Informações","$position":{"top":"164px","left":"902px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#fff9c4","textColor":"#000000"}},"23db93b0-a85a-41fa-8b51-374afe7e7b68":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"581d2ca6-5ab2-4e38-8726-d22b30bcf23c","type":"text/plain","textContent":"User input","content":"User input"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"8735939c-ee24-45e9-ba72-24fe28e39c0d","$typeOfContent":"","type":"Redirect","$title":"[GO TO] Finalizar","$invalid":false,"settings":{"context":{"type":"text/plain","value":"finalizacao"},"address":"clufinalizacao"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false,"typeOfStateId":"state"},"$tags":[{"background":"#0A6045","label":"REDIRECT TO","id":"blip-tag-31fd5180-97e8-b29a-b296-110803b6277e","canChangeBackground":false}],"id":"23db93b0-a85a-41fa-8b51-374afe7e7b68","root":false,"$title":"[REDIRECT TO] Finalização","$position":{"top":"174px","left":"1902px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#c8e6c9","textColor":"#000000","commentsIdList":[]}},"3b3a1408-7f24-45dc-b193-40fe62bb4fd7":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"581d2ca6-5ab2-4e38-8726-d22b30bcf23c","type":"text/plain","textContent":"User input","content":"User input"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"8735939c-ee24-45e9-ba72-24fe28e39c0d","$typeOfContent":"","type":"Redirect","$title":"[GO TO] Transbordo","$invalid":false,"settings":{"context":{"type":"text/plain","value":"transbordo"},"address":"clutransbordo"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false,"typeOfStateId":"state"},"$tags":[{"background":"#0A6045","label":"REDIRECT TO","id":"blip-tag-31fd5180-97e8-b29a-b296-110803b6277e","canChangeBackground":false}],"id":"3b3a1408-7f24-45dc-b193-40fe62bb4fd7","root":false,"$title":"[REDIRECT TO] Transbordo","$position":{"top":"302.143px","left":"1901.57px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#c8e6c9","textColor":"#000000","commentsIdList":[]}},"2e009768-50e9-4520-86e9-581a91352fcc":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"fa5dfe1f-4ded-40d1-bb39-60cafdbd66b2","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[{"background":"#3A4A65","label":"GO TO","id":"blip-tag-2950aeab-5ffc-4bfb-8c0d-5677eb652059","canChangeBackground":false}],"id":"2e009768-50e9-4520-86e9-581a91352fcc","root":false,"$title":"[GO TO] Dúvidas","$position":{"top":"276px","left":"905px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#fff9c4","textColor":"#000000","commentsIdList":[]}},"68862337-f436-4b3e-83a2-c499a0cf0a8e":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"fa5dfe1f-4ded-40d1-bb39-60cafdbd66b2","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[{"background":"#3A4A65","label":"GO TO","id":"blip-tag-2950aeab-5ffc-4bfb-8c0d-5677eb652059","canChangeBackground":false}],"id":"68862337-f436-4b3e-83a2-c499a0cf0a8e","root":false,"$title":"[GO TO] Elogios","$position":{"top":"162px","left":"1090px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#fff9c4","textColor":"#000000","commentsIdList":[]}},"4d3926d6-006a-4325-b1ea-1a6b34e894fe":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"fa5dfe1f-4ded-40d1-bb39-60cafdbd66b2","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[{"background":"#3A4A65","label":"GO TO","id":"blip-tag-2950aeab-5ffc-4bfb-8c0d-5677eb652059","canChangeBackground":false}],"id":"4d3926d6-006a-4325-b1ea-1a6b34e894fe","root":false,"$title":"[GO TO] Sugestões","$position":{"top":"275px","left":"1092px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#fff9c4","textColor":"#000000","commentsIdList":[]}},"e1ec8e88-b921-498b-87c6-ef7caee990b3":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"fa5dfe1f-4ded-40d1-bb39-60cafdbd66b2","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[{"background":"#3A4A65","label":"GO TO","id":"blip-tag-2950aeab-5ffc-4bfb-8c0d-5677eb652059","canChangeBackground":false}],"id":"e1ec8e88-b921-498b-87c6-ef7caee990b3","root":false,"$title":"[GO TO] Reclamações","$position":{"top":"401px","left":"998px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#fff9c4","textColor":"#000000","commentsIdList":[]}},"b1a69b2e-1b1f-466e-9d09-bceb3aaf9130":{"$contentActions":[{"action":{"$id":"3ca20bf5-40b6-43ab-bdf0-1d594d0cbcb8","$typeOfContent":"text","type":"SendMessage","settings":{"id":"2c1de04e-6b5b-453d-b775-c507cf8118f6","type":"text/plain","content":"{{text}}","metadata":{}},"$cardContent":{"document":{"id":"2c1de04e-6b5b-453d-b775-c507cf8118f6","type":"text/plain","content":"{{text}}"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"be996d59-606a-485c-bd73-cb31970b6f66","type":"text/plain","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"0:1"},"$invalid":false}],"$conditionOutputs":[{"stateId":"3cbc592d-dfe0-4a7c-a5a3-ffe517ac0cb7","typeOfStateId":"state","$connId":"con_68","$id":"1a9890a6-64bc-4f20-8b18-03dbff65fcfd","conditions":[{"source":"context","comparison":"equals","values":["success","sucesso"],"variable":"validInputJs@type"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"56b73b9c-7723-4d9e-8e2b-71399865abd4","$typeOfContent":"","type":"ExecuteScript","$title":"Exibe texto","$invalid":false,"settings":{"function":"run","source":"function run(hide) {\n\n    let inputText = \"Por favor, me informe o {{n1}}CPF ou CNPJ do titular{{n2}} do contrato. ✍🏻\"\n\n    if (hide == true || hide == \"true\") {\n        return \"\";\n    } else  {\n        return inputText\n    }\n}\n\n","inputVariables":["hideInputText"],"outputVariable":"text","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"f71c4299-3a26-4d62-99c5-d3b834ad0792","$typeOfContent":"","type":"TrackEvent","$title":"solicita cpf cnpj exibicao","$invalid":false,"settings":{"extras":{},"action":"exibicao","category":"solicita cpf cnpj exibicao"},"conditions":[]}],"$leavingCustomActions":[{"$id":"4c3fd580-c601-45cc-8eae-e805e71a605f","$typeOfContent":"","type":"ExecuteScript","$title":"validInputJs","$invalid":false,"settings":{"function":"run","source":"{{resource.FunctionProcessInput}}\n\nfunction run(input, inputType, platform, menu) {\n    try {\n\n        // =================================================================================\n        //             ATENÇÃO: MANIPULAR SOMENTE AS DUAS CONSTANTES A SEGUIR\n        // =================================================================================\n        // - validacaoMenu => true para validação de Menu, false para Input\n        // - validacoesInput => insira aqui que tipo de validação de input vai ser  \n        //   necessário (se mais de um for selecionado, apenas o mais acima será validado)\n        // - erroMenuEspecial => altere somente se, caso a validação seja um Menu e para\n        //   este menu haja um tratamento diferente de exceção.\n        // =================================================================================\n        const validacaoMenu = false;\n        const erroMenuEspecial = 'ERRO DINAMICO';\n        const validacoesInput = {\n            data: false,\n            email: false,\n            cep: false,\n            img: false,\n            imgTxt: false,\n            nome: false,\n            cpfcnpj: true\n        };\n        // ========================================================================\n\n        // Inicia o objeto que será retornado pela função\n        let processedInput = {\n            'type': null,\n            'input': null,\n            'validation': 'none'\n        }\n\n        // Verifica se o usuário digitou SAIR ou MENU\n        if (input == 'sair' || input == 'SAIR' || input == 'Sair') {\n            processedInput.type = 'reserved'\n            processedInput.input = 'SAIR'\n            return JSON.stringify(processedInput)\n        } else if (input == 'menu' || input == 'MENU' || input == 'Menu') {\n            processedInput.type = 'reserved'\n            processedInput.input = 'MENU'\n            return JSON.stringify(processedInput)\n        }\n\n        // Formata variáveis\n        menu = JSON.parse(menu);\n        platform = platform.toUpperCase()\n\n        if (validacaoMenu) {\n            // Validação de MENU\n            processedInput = validaMenu(input, menu, platform)\n\n            // Verifica se precisa mudar a mensagem de erro do Menu Dinâmico para o Especial\n            if ((processedInput.input == 'ERRO DINAMICO' || processedInput.input == 'ERRO NUMERICO') && erroMenuEspecial != '') {\n                processedInput.input = erroMenuEspecial; \n            }\n            return JSON.stringify(processedInput);\n\n        } else {\n            // Validação de INPUT\n            const val = Object.entries(validacoesInput);\n            processedInput = validaInput(val, input, inputType)\n\n            // Se nenhuma validação foi processada, retorna o input sem validação\n            if (processedInput.input == 'INPUT SEM VALIDAÇÕES') {\n                return JSON.stringify({type: 'success', input: input, validation: 'none'});\n\n            } else {\n                return JSON.stringify(processedInput);\n            }\n        }\n\n    } catch (e) {\n        return {type: 'error', input: 'ERRO INESPERADO', validation: 'none'}\n    }\n}","inputVariables":["input.content","input.type","platform","inputOptionJs"],"outputVariable":"validInputJs"},"conditions":[]},{"$id":"6b331da7-d90e-4638-bda1-ed15c44190a6","$typeOfContent":"","type":"SetVariable","$title":"cpfcnpj","$invalid":false,"settings":{"variable":"cpfcnpj","value":"{{validInputJs@input}}"},"conditions":[{"source":"context","comparison":"equals","variable":"validInputJs@type","values":["success"]}]},{"$id":"8d3ad0c7-9f6f-478e-a13f-9c1cf7e86b56","$typeOfContent":"","type":"SetVariable","$title":"hideInputText [false]","$invalid":false,"settings":{"variable":"hideInputText","value":"false"},"conditions":[]},{"$id":"bf892763-8648-408f-bdd0-cb187440c673","$typeOfContent":"","type":"TrackEvent","$title":"cpf cnpj input","$invalid":false,"settings":{"extras":{},"action":"{{validInputJs@input}}","category":"cpf cnpj input"},"conditions":[{"source":"context","comparison":"equals","variable":"validInputJs@type","values":["success"]}]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false,"typeOfStateId":"state"},"$tags":[{"background":"#61D36F","label":"Event tracking","id":"blip-tag-ed2ab0b6-d476-fa9f-0ed2-e09dd9fec033","canChangeBackground":false},{"background":"#FF961E","label":"ExecuteScript","id":"blip-tag-4cffa4e2-3244-409f-90a7-9fff4b556eb1","canChangeBackground":false},{"background":"#FFEC03","label":"userInput","id":"blip-tag-59565120-de68-cdcc-653c-94c14e2b5e9e","canChangeBackground":false},{"background":"#7762E3","label":"Set Contact","id":"blip-tag-34536386-696f-5928-5ea7-4c06b8dfb34e","canChangeBackground":false},{"background":"#FF4A1E","label":"Set variable","id":"blip-tag-3bd66a4b-ba56-e3ff-bda5-086e2b1011ab","canChangeBackground":false}],"id":"b1a69b2e-1b1f-466e-9d09-bceb3aaf9130","$title":"[A.1.0.0] Solicita CPF / CNPJ","$position":{"top":"311px","left":"156px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"2b71f43f-7aa5-4d19-8557-87fbb4f8fd48":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"fa5dfe1f-4ded-40d1-bb39-60cafdbd66b2","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"3b3a1408-7f24-45dc-b193-40fe62bb4fd7","$invalid":false,"typeOfStateId":"state"},"$tags":[{"background":"#3A4A65","label":"GO TO","id":"blip-tag-2950aeab-5ffc-4bfb-8c0d-5677eb652059","canChangeBackground":false}],"id":"2b71f43f-7aa5-4d19-8557-87fbb4f8fd48","root":false,"$title":"[GO TO] Transbordo","$position":{"top":"505.286px","left":"748.286px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#fff9c4","textColor":"#000000","commentsIdList":[]}},"3cbc592d-dfe0-4a7c-a5a3-ffe517ac0cb7":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"27252f47-9c71-4e18-a441-41c9a47a566e","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"fallback","typeOfStateId":"state","$connId":"con_73","$id":"ad0c0775-ea08-4f87-bfb8-a67f59dceb1e","conditions":[{"source":"context","comparison":"contains","values":["ERRO"],"variable":"token"}],"$invalid":false},{"stateId":"56068a5e-38a5-4a86-95ec-61a4c469b8df","typeOfStateId":"state","$connId":"con_78","$id":"d8b1fcde-4c91-4044-8c70-db7ab8fa70ae","conditions":[{"source":"context","comparison":"equals","values":["false"],"variable":"validCpfCnpj"}],"$invalid":false},{"stateId":"fallback","typeOfStateId":"state","$connId":"con_83","$id":"6efb56ac-1fb5-47af-addb-0cf2f15f4c18","conditions":[{"source":"context","comparison":"contains","values":["ERROR"],"variable":"lista"}],"$invalid":false},{"stateId":"ee7b3735-8fd2-458c-8941-9169461f12a6","typeOfStateId":"state","$connId":"con_88","$id":"6aafa488-a00a-4633-af4f-8b778f48184f","conditions":[{"source":"context","comparison":"equals","values":["1"],"variable":"lista@total"}],"$invalid":false},{"stateId":"eb302efb-0895-4447-9a9f-af08a26cc557","typeOfStateId":"state","$connId":"con_93","$id":"012562a8-a710-4510-9b0e-307461b27767","conditions":[{"source":"context","comparison":"greaterThanOrEquals","values":["2"],"variable":"lista@total"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"d8db2173-8f8a-45d7-a791-b80c66d891d3","$typeOfContent":"","type":"ProcessHttp","$title":"Gera Token [POST]","$invalid":false,"settings":{"headers":{"Content-Type":"application/json","Authorization":"Bearer {{resource.tokenUnir1}}"},"method":"POST","body":"{\n    \"usuario\": \"TAKEBLIP\",\n    \"senha\": \"Takeblip2023\"\n}","uri":"{{resource.urlApi}}/v2/usuario/autenticar","responseStatusVariable":"statusGeraToken","responseBodyVariable":"responseGeraToken"},"conditions":[]},{"$id":"ce4ce4b7-bacf-4a64-b3f1-8e0168109ea7","$typeOfContent":"","type":"ExecuteScript","$title":"Salva Token Usuário","$invalid":false,"settings":{"function":"run","source":"\nfunction run(response) {\n    response = JSON.parse(response)\n\n    if (response.hasOwnProperty(\"token_usuario\")) {\n        return response.token_usuario\n    } else {\n        return 'ERRO: NÃO POSSUI PROPRIEDADE token_usuario'\n    }\n}","inputVariables":["responseGeraToken"],"outputVariable":"token","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"5059cb14-4e8b-493d-9be4-a4565b8e6133","$typeOfContent":"","type":"ProcessHttp","$title":"Buscar CPF CNPJ [GET]","$invalid":false,"settings":{"headers":{"Content-Type":"application/json","Authorization":"Bearer {{token}}"},"method":"GET","uri":"{{resource.urlApi}}/v2/associado/buscar/{{cpfcnpj}}","responseStatusVariable":"statusBuscarCpfCnpj","responseBodyVariable":"responseBuscarCpfCnpj"},"conditions":[]},{"$id":"716defb9-c830-4068-987d-888215c7e590","$typeOfContent":"","type":"SetVariable","$title":"qtdPorPagina","$invalid":false,"settings":{"variable":"qtdPorPagina","value":"3"},"conditions":[]},{"$id":"ca0fd8a4-f06b-42f2-a63a-92175cf37838","$typeOfContent":"","type":"ExecuteScript","$title":"Lista de veículos","$invalid":false,"settings":{"function":"run","source":"function run(response, status, qtdPorPagina) {\n  try {\n    response = JSON.parse(response);\n    status = parseInt(status);\n    qtdPorPagina = parseInt(qtdPorPagina);\n    let associado;\n\n    if (status < 200 || status >= 299) {\n      return `ERROR: STATUS ${status}`;\n    }\n\n    if (response.hasOwnProperty(\"error\")) {\n      return `ERROR: ${response}`;\n    }\n\n    if (response.hasOwnProperty(\"veiculos\")) {\n      const veiculos = response.veiculos.map((veiculo) => {\n        return {\n          modelo: veiculo.descricao_modelo,\n          placa: veiculo.placa,\n          situacao: veiculo.situacao,\n        };\n      });      \n\n    const totalPaginas = Math.ceil(veiculos.length / qtdPorPagina)\n\n      return JSON.stringify({\n        total: veiculos.length, \n        totalPaginas: totalPaginas,\n        lista: veiculos,\n      });\n    }\n\n    return `ERROR: ${status}: ${response}`;\n  } catch (e) {\n    return `ERROR: SCRIPT ERROR`;\n  }\n}\n","inputVariables":["responseBuscarCpfCnpj","statusBuscarCpfCnpj","qtdPorPagina"],"outputVariable":"lista","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"e099a24b-e2ea-430e-b09d-ebfcf792818b","$typeOfContent":"","type":"SetVariable","$title":"pagAtual [Inicialização]","$invalid":false,"settings":{"variable":"pagAtual","value":"1"},"conditions":[]},{"$id":"84292070-06fa-496c-9e7f-9fca60f213e4","$typeOfContent":"","type":"ExecuteScript","$title":"Valida CpfCnpj","$invalid":false,"settings":{"function":"run","source":"            function run(response) {\n               // response = JSON.stringify(response)\n               // response = response.split(\"codigo_associado\")\n               if (response.includes(\"error\")){\n                   return false\n               }\n\n                return true\n            }","inputVariables":["responseBuscarCpfCnpj"],"outputVariable":"validCpfCnpj","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false,"typeOfStateId":"state"},"$tags":[{"background":"#FF1E90","label":"HTTP Request","id":"blip-tag-d2f6d32a-8f3d-ae80-2164-881f1467e0ac","canChangeBackground":false},{"background":"#FF6F1E","label":"executeScript","id":"blip-tag-df3af129-53bb-ec72-481d-85ae1c73cfe0","canChangeBackground":false},{"background":"#FF4A1E","label":"Set variable","id":"blip-tag-3bd66a4b-ba56-e3ff-bda5-086e2b1011ab","canChangeBackground":false}],"id":"3cbc592d-dfe0-4a7c-a5a3-ffe517ac0cb7","root":false,"$title":"API","$position":{"top":"459px","left":"155.75px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#f06292","textColor":"#000000","commentsIdList":[]}},"eb302efb-0895-4447-9a9f-af08a26cc557":{"$contentActions":[{"action":{"$id":"71d87370-4ca2-4993-b09d-b61fa3f9bd93","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"0ffd8b9b-b756-447c-a6b0-82ae5c5e8a49","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"0ffd8b9b-b756-447c-a6b0-82ae5c5e8a49","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"a9bccafc-9201-4712-8366-d7d0aff1f3de","$typeOfContent":"text","type":"SendMessage","settings":{"id":"7087bb1a-fb0b-4748-9ee3-2ef1e08ceeb3","type":"text/plain","content":"{{textMenuPaginadoJs}}","metadata":{}},"$cardContent":{"document":{"id":"7087bb1a-fb0b-4748-9ee3-2ef1e08ceeb3","type":"text/plain","content":"{{textMenuPaginadoJs}}"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"e01fb4eb-3cde-4a6a-b322-9a8eab424ad4","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"eb302efb-0895-4447-9a9f-af08a26cc557","typeOfStateId":"state","$connId":"con_98","$id":"e785a0d1-b846-4aab-bbbd-4086e20fd1e3","conditions":[{"source":"context","comparison":"equals","values":["VOLTAR","0","VER MAIS"],"variable":"validInputJs@input"}],"$invalid":false},{"stateId":"51d9d00a-ef6b-49d3-aedf-e11126495fba","typeOfStateId":"state","$connId":"con_103","$id":"a6aef7a4-6dac-42e8-bffb-848f7fba37a7","conditions":[{"source":"context","comparison":"equals","values":["success"],"variable":"validInputJs@type"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"74f967ae-99ba-4286-b336-b2667f5def50","$typeOfContent":"","type":"ExecuteScript","$title":"getMenuOptionsPaginadoJs","$invalid":false,"settings":{"function":"run","source":"function run(lista, pagAtual, qtdPorPagina) {\n  \n  lista = JSON.parse(lista);\n  pagAtual = parseInt(pagAtual);\n  qtdPorPagina = parseInt(qtdPorPagina);\n\n  const Paginatio = (lista, page_size) => {\n    const paginate = (array, page_size, page_number) => {\n      return array.slice(\n        (page_number - 1) * page_size,\n        page_number * page_size\n      );\n    };\n\n    const getPage = (page_number) => {\n      const page = paginate(lista, page_size, page_number);\n      const pageFormated = getPageFormated(page);\n      return pageFormated;\n    };\n\n    const getPageFormated = (listaPaginated) => {\n      return listaPaginated.map((l) => {\n        const index = lista.findIndex((x) => x.placa === l.placa) + 1;\n        // aqui entra o formato do menu\n        // TRABALHA O QUE QUER RETORNAR AQUI\n        return {index: `${index}`, text: `{{n1}}${index}.{{n2}} Veículo: ${l.modelo}\\nPlaca: ${l.placa}\\nSituação: ${l.situacao}\\n\\n`}\n      });\n    };\n\n    return {\n      getPage: getPage,\n    };\n  };\n\n  const a = Paginatio(lista.lista, qtdPorPagina);\n  return JSON.stringify(a.getPage(pagAtual));\n}","inputVariables":["lista","pagAtual","qtdPorPagina"],"outputVariable":"getMenuOptionsPaginadoJs","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"e70e7cab-8e6b-4257-a9fc-085b37e82c41","$typeOfContent":"","type":"ExecuteScript","$title":"textMenuPaginadoJs","$invalid":false,"settings":{"function":"run","source":"function run(getMenuOptionsPaginadoJs, lista, pagAtual) {\n\n  let menuPaginado = JSON.parse(getMenuOptionsPaginadoJs);\n  lista = JSON.parse(lista);\n  pagAtual = parseInt(pagAtual);\n  let totalPaginas = lista.totalPaginas;\n\n  let texto =\n    \"{{firstName}}, {{n1}}sobre qual veículo{{n2}} você gostaria de falar? 🤔\\n\\n💡 Digite o número de uma das opções a seguir:\\n\\n\";\n\n  if (totalPaginas == 1) {\n    menuPaginado.forEach((element) => {\n      texto += element.text;\n    });\n    //se total de páginas maior que 1 e página atual for 1 (ver mais)\n  } else if (totalPaginas > 1 && pagAtual == 1) {\n    menuPaginado.forEach((element) => {\n      texto += element.text;\n    });\n    texto += `{{n1}}0.{{n2}} Ver mais veículos`;\n    //se total de páginas maior que 1 e pagina atual for menor que total de páginas (ver mais e ver menos)\n  } else if (totalPaginas > 1 && pagAtual < totalPaginas) {\n    menuPaginado.forEach((element) => {\n      texto += element.text;\n    });\n    texto += `{{n1}}0.{{n2}} Ver mais Veículos\\n👉 Digite “voltar” para visualizar as opções anteriores.`;\n    //se total de páginas maior que 1 e pagina atual fou igual ao total de páginas (ver menos)\n  } else if (totalPaginas > 1 && pagAtual == totalPaginas) {\n    menuPaginado.forEach((element) => {\n      texto += element.text;\n    });\n    texto += '👉 Digite “voltar” para visualizar as opções anteriores.'\n  }\n\n  return texto;\n}","inputVariables":["getMenuOptionsPaginadoJs","lista","pagAtual"],"outputVariable":"textMenuPaginadoJs","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[{"$id":"d85cf8ff-5f13-4466-9b1c-f82c76605475","$typeOfContent":"","type":"ExecuteScript","$title":"validInputJs","$invalid":false,"settings":{"function":"run","source":"function run(input, getMenuOptionsPaginadoJs, lista, pagAtual) {\n  try {\n    input = input.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\n    input = input.toUpperCase();\n\n    lista = JSON.parse(lista);\n    getMenuOptionsPaginadoJs = JSON.parse(getMenuOptionsPaginadoJs);\n    pagAtual = parseInt(pagAtual);\n\n    let opcao = [\n      // { name: ['ERRO NUMERICO', 'OI'] }\n    ];\n\n    // Adiciona cenários onde deve reconhecer o Ver mais empreendimentos\n    // input = input\n    if (pagAtual != 1 && pagAtual < lista.totalPaginas) {\n      opcao.push({ name: [\"VER MAIS\", \"0\"] });\n    }\n    if (pagAtual == 1 && lista.totalPaginas != 1) {\n      opcao.push({ name: [\"VER MAIS\", \"0\"] });\n    }\n\n    // Adiciona cenários onde deve reconhecer o voltar\n    if (pagAtual > 1) {\n      opcao.push({ name: [\"VOLTAR\"] });\n    }\n\n    // Adiciona as numerações que vem do getMenuOptionsPaginadoJs para serem reconhecidas\n    for (let i = 0; i < getMenuOptionsPaginadoJs.length; i++) {\n      let index = getMenuOptionsPaginadoJs[i].index;\n      opcao.push({ name: [JSON.stringify(lista.lista[index - 1]), index] });\n      // console.log(opcao)\n    }\n\n    // MATCH getMenuOptionsPaginadoJs.index e lista[i]\n    if (input.length > 1) {\n      for (i = 0; i < opcao.length; i++) {\n        for (x = 0; x < opcao[i].name.length; x++) {\n          if (opcao[i].name[x].toString().includes(input)) {\n            return {\n              type: \"success\",\n              input: `${opcao[i].name[0]}`,\n              validation: \"paginacao\",\n            };\n          }\n        }\n      }\n    }\n\n    for (i = 0; i < opcao.length; i++) {\n      for (x = 0; x < opcao[i].name.length; x++) {\n        if (opcao[i].name[x] == input) {\n          return {\n            type: \"success\",\n            input: `${opcao[i].name[0]}`,\n            validation: \"paginacao\",\n          };\n        }\n      }\n    }\n\n    return { type: \"error\", input: \"ERRO NUMERICO\", validation: \"paginacao\" };\n  } catch (e) {\n    return \"error\";\n  }\n}\n","inputVariables":["input.content","getMenuOptionsPaginadoJs","lista","pagAtual"],"outputVariable":"validInputJs"},"conditions":[]},{"$id":"462a2596-5d2c-4818-9551-a0bf23cb3ae0","$typeOfContent":"","type":"ExecuteScript","$title":"pagAtual +ou-","$invalid":false,"settings":{"function":"run","source":"function run(pagAtual, input){\n    try{\n        pagAtual = parseInt(pagAtual)\n        input = JSON.parse(input).input\n        input = input.toUpperCase()\n        //Voltar a página anterior\n        if(input == 'VOLTAR'){\n            if (pagAtual <= 1) {\n                return pagAtual\n            }\n            return (pagAtual - 1)\n        }\n        \n        //ir para a próxima página\n        if(input == 'VER MAIS' || input == '0'){\n            return (pagAtual + 1)\n        }\n\n        if (pagAtual == NaN || pagAtual == 'NaN') {return 1}\n\n        if (pagAtual == undefined || pagAtual == 'undefined') {return 1}\n\n    return pagAtual;\n\n    }\n    catch(e){\n        return 'error'\n    }\n\n}","inputVariables":["pagAtual","validInputJs"],"outputVariable":"pagAtual"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false,"typeOfStateId":"state"},"$tags":[{"background":"#FF6F1E","label":"executeScript","id":"blip-tag-df3af129-53bb-ec72-481d-85ae1c73cfe0","canChangeBackground":false},{"background":"#FFEC03","label":"userInput","id":"blip-tag-59565120-de68-cdcc-653c-94c14e2b5e9e","canChangeBackground":false}],"id":"eb302efb-0895-4447-9a9f-af08a26cc557","root":false,"$title":"[A.1.0.1] Mais de um contrato","$position":{"top":"641px","left":"77px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"ee7b3735-8fd2-458c-8941-9169461f12a6":{"$contentActions":[{"action":{"$id":"c6fb4318-a7a9-453c-908e-52ca17c6093e","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"0a4c440d-b95c-4a8c-a5c6-3e34e9a578af","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"0a4c440d-b95c-4a8c-a5c6-3e34e9a578af","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"5a52b8c8-0ba5-4040-a76d-f28a343b8134","$typeOfContent":"text","type":"SendMessage","settings":{"id":"cb3d7921-5b4a-4988-865a-f705739c7606","type":"text/plain","content":"🚗 Veículo selecionado:\n\nVeículo: {{oneValueOnList@modelo}}\nPlaca: {{oneValueOnList@placa}}\nSituação: {{oneValueOnList@situacao}}","metadata":{}},"$cardContent":{"document":{"id":"cb3d7921-5b4a-4988-865a-f705739c7606","type":"text/plain","content":"🚗 Veículo selecionado:\n\nVeículo: {{oneValueOnList@modelo}}\nPlaca: {{oneValueOnList@placa}}\nSituação: {{oneValueOnList@situacao}}"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"2345b652-5a4e-45b2-8870-50a80a9635e6","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[{"$id":"422f9cce-a544-4132-922d-62db311e6db9","$typeOfContent":"","type":"ExecuteScript","$title":"oneValueOnList","$invalid":false,"settings":{"function":"run","source":"function run(list) {\n    list = JSON.parse(list)\n    \n    return JSON.stringify(list.lista[0])\n}","inputVariables":["lista"],"outputVariable":"oneValueOnList","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[{"background":"#FF6F1E","label":"executeScript","id":"blip-tag-df3af129-53bb-ec72-481d-85ae1c73cfe0","canChangeBackground":false}],"id":"ee7b3735-8fd2-458c-8941-9169461f12a6","root":false,"$title":"[A.1.0.3] 1 Contrato","$position":{"top":"645px","left":"295px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"51d9d00a-ef6b-49d3-aedf-e11126495fba":{"$contentActions":[{"action":{"$id":"0689865e-08db-4570-a1b4-b25a5ccf8969","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"ee667cc5-065b-402d-b1c5-201cfd6ab2f0","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"ee667cc5-065b-402d-b1c5-201cfd6ab2f0","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"7fcd1b1c-0f65-4934-a915-782cd2ef6761","$typeOfContent":"text","type":"SendMessage","settings":{"id":"69964f96-2a13-4193-addb-b0d6f38ac5a4","type":"text/plain","content":"🚗 Veículo selecionado:\n\nVeículo: {{modelo}}\nPlaca: {{placa}}\nSituação: {{contrato ativo/inativo}}","metadata":{}},"$cardContent":{"document":{"id":"69964f96-2a13-4193-addb-b0d6f38ac5a4","type":"text/plain","content":"🚗 Veículo selecionado:\n\nVeículo: {{modelo}}\nPlaca: {{placa}}\nSituação: {{contrato ativo/inativo}}"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"bbdb48ac-3073-4b55-8e77-09a9fcc46235","$typeOfContent":"text","type":"SendMessage","settings":{"id":"a1a2f442-3de0-4cb3-a9f2-cdee2b6e82d2","type":"text/plain","content":"SUCESSO","metadata":{}},"$cardContent":{"document":{"id":"a1a2f442-3de0-4cb3-a9f2-cdee2b6e82d2","type":"text/plain","content":"SUCESSO"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"0b96fe18-275c-4b2d-aaa7-1c506b36e848","$typeOfContent":"text","type":"SendMessage","settings":{"id":"3093e608-5f29-4f3f-9a77-419aecb2a437","type":"text/plain","content":"validInputJs: {{validInputJs}}","metadata":{}},"$cardContent":{"document":{"id":"3093e608-5f29-4f3f-9a77-419aecb2a437","type":"text/plain","content":"validInputJs: {{validInputJs}}"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"47e7e166-a35d-4530-a7c7-b15b7168b831","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false,"typeOfStateId":"state"},"$tags":[],"id":"51d9d00a-ef6b-49d3-aedf-e11126495fba","root":false,"$title":"Paginação SUCESSO","$position":{"top":"784px","left":"77px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"56068a5e-38a5-4a86-95ec-61a4c469b8df":{"$contentActions":[{"action":{"$id":"1140bc4a-9e9c-4763-aa9e-aa3f999b5adb","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"6eb5b7b6-6aed-41bd-8040-d109939ab609","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"6eb5b7b6-6aed-41bd-8040-d109939ab609","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:435"},{"action":{"$id":"7fb59dbb-1b13-495b-a0cf-c7f9ae9ba40f","$typeOfContent":"text","type":"SendMessage","settings":{"id":"d2851bc1-91b5-4f37-9938-ab655bfb0b3d","type":"text/plain","content":"{{firstName}}, não encontrei nenhum contrato com esses dados. 🤔","metadata":{}},"$cardContent":{"document":{"id":"d2851bc1-91b5-4f37-9938-ab655bfb0b3d","type":"text/plain","content":"{{firstName}}, não encontrei nenhum contrato com esses dados. 🤔"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:436"},{"action":{"$id":"7b067dc4-5edb-4405-b5b0-893daeb4315d","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"75f54887-6df2-4e8f-9885-237625616726","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"75f54887-6df2-4e8f-9885-237625616726","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:437"},{"action":{"$id":"aaa26fdf-ef79-488d-a5bb-dc2539672349","$typeOfContent":"text","type":"SendMessage","settings":{"id":"ea9d057b-bbbf-4f24-b1fd-9d0862c95a94","type":"text/plain","content":"Humm, eu não consigo te ajudar por aqui. ","metadata":{}},"$cardContent":{"document":{"id":"ea9d057b-bbbf-4f24-b1fd-9d0862c95a94","type":"text/plain","content":"Humm, eu não consigo te ajudar por aqui. "},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:438"},{"input":{"bypass":true,"$cardContent":{"document":{"id":"64f63fbf-6e80-4ea2-a6f8-ec0d38f54a0b","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false,"$$hashKey":"object:439"}],"$conditionOutputs":[{"stateId":"2b71f43f-7aa5-4d19-8557-87fbb4f8fd48","typeOfStateId":"state","$connId":"con_108","$id":"132f7862-3d37-49b8-a10b-4629a7eccac1","conditions":[{"source":"input","comparison":"exists","values":[],"$$hashKey":"object:468"}],"$invalid":false,"$$hashKey":"object:462"}],"$enteringCustomActions":[{"$id":"b277893d-e2a6-421d-b6d5-a54131b01c3b","$typeOfContent":"","type":"TrackEvent","$title":"nao encontrado exibicao","$invalid":false,"settings":{"extras":{},"category":"nao encontrado exibicao","action":"exibicao"},"conditions":[]},{"$id":"54bc67c9-7e61-4fbf-ad67-2a30b5bc5b0c","$typeOfContent":"","type":"MergeContact","$title":"TEAM: Administrativo","$invalid":false,"settings":{"extras":{"Team":"Evento"}},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"2b71f43f-7aa5-4d19-8557-87fbb4f8fd48","$invalid":false,"typeOfStateId":"state"},"$tags":[{"background":"#7762E3","label":"Set Contact","id":"blip-tag-34536386-696f-5928-5ea7-4c06b8dfb34e","canChangeBackground":false},{"background":"#61D36F","label":"Event tracking","id":"blip-tag-c54b55c8-285f-be44-167f-ddb9370efbe9","canChangeBackground":false}],"id":"56068a5e-38a5-4a86-95ec-61a4c469b8df","root":false,"$title":"[A.2.0.1] - Doc não encontrado","$position":{"top":"493.571px","left":"540.429px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false}},"globalActions":{"$contentActions":[],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[],"id":"global-actions","$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false}}