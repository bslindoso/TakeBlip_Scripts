{"flow":{"onboarding":{"$contentActions":[{"input":{"bypass":false,"$cardContent":{"document":{"id":"e46361e2-38f5-4e9b-9ea8-7d7795f3712f","type":"text/plain","content":"User input"},"editable":false,"deletable":false,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"welcome","conditions":[{"source":"input","comparison":"matches","values":[".*"]}],"$id":"713f5ae5-024c-48ce-a665-476b11ff8d12","$connId":"con_3","$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[],"id":"onboarding","root":true,"$title":"Start","$position":{"top":"135.5px","left":"376.5px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"fallback":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"d514b2b9-4f0c-421c-9f79-9fa54ff89dcc","type":"text/plain","content":"User input"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"377afe1e-202d-4223-9c32-b36c39c0b811","typeOfStateId":"state","$connId":"con_8","$id":"a2218525-d54a-4459-8b4e-2ad124f0ad8e","conditions":[{"source":"input","comparison":"notExists","values":[]}],"$invalid":false},{"stateId":"377afe1e-202d-4223-9c32-b36c39c0b811","typeOfStateId":"state","$connId":"con_13","$id":"1a305d89-8f67-4c09-b258-ea3746b7f5b2","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"0160eb16-c120-4889-8151-6c8d4967e5b6","$typeOfContent":"","type":"ExecuteScript","$title":"exception","$invalid":false,"settings":{"function":"run","source":"function run(previousState, typeInput, previousId) {\n    try {\n        typeInput = JSON.parse(typeInput).input\n        let idFormated = previousState.split(' ');\n        idFormated = idFormated[0].replace(/\\[/g,'').replace(/\\]/g,'').replace(/\\./g,'');\n        const exception = {\n            id: `${idFormated}`,\n            input: '{{input.content}}',\n            redirectMenu: `${typeInput}`,\n            blockId: previousId\n        }\n        return exception\n    }\n    catch (e) {\n        return 'error'\n    }\n}","inputVariables":["state.previous.name","validInputJs","state.previous.id"],"outputVariable":"exception","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"$tags":[{"background":"#FF961E","label":"executeScript","id":"blip-tag-10da33cd-3fdf-48d2-f8c7-275ffd02103c","canChangeBackground":false}],"id":"fallback","$title":"Exceptions","$position":{"top":"122px","left":"877px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"welcome":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"f961d4b1-ed0e-4055-8a4c-65a8c884cedb","type":"text/plain","content":"User input"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"959b012a-ccc6-442f-b9a0-28ea0ae1b8d8","typeOfStateId":"state","$connId":"con_18","$id":"4c701ca2-f14b-44c6-a2e2-8a66dc700445","conditions":[{"source":"context","comparison":"equals","values":["true"],"variable":"returnException"}],"$invalid":false},{"stateId":"556c434f-4e7f-46d6-ad5d-33960a7ae4fa","typeOfStateId":"state","$connId":"con_23","$id":"13c61d70-bf33-453e-9097-d4ed96a55340","conditions":[{"source":"context","comparison":"equals","values":["IB04"],"variable":"validaIcebreakers@validation"}],"$invalid":false},{"stateId":"08a4cf74-6174-4e82-8e39-c012939c432b","typeOfStateId":"state","$connId":"con_28","$id":"304c85a0-f498-48a8-b3cb-e9e31b02fad6","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"fdc1d3a5-3c54-4f20-936f-e3b3dd4d1ddd","$typeOfContent":"","type":"SetVariable","$title":"service","$invalid":false,"settings":{"variable":"service","value":"servicos"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[{"background":"#FF4A1E","label":"Set variable","id":"blip-tag-024ed08b-c8b4-9452-aa33-a09569f77a2d","canChangeBackground":false}],"id":"welcome","$title":"[REQUERIMENTS]","$position":{"top":"237px","left":"377px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#000000","textColor":"#ffffff"}},"377afe1e-202d-4223-9c32-b36c39c0b811":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"f4a76ec3-f892-4cad-ad43-60297c09eb7b","type":"text/plain","content":"User input"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"3fb7ef00-299c-4276-8405-acb5cf3a78a4","$typeOfContent":"","type":"Redirect","$title":"[GO TO] Exceções","$invalid":false,"settings":{"context":{"type":"text/plain","value":"{{exception}}"},"address":"{{resource.serviceList@excecao}}"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"$tags":[{"background":"#0A6045","label":"REDIRECT TO","id":"blip-tag-82243cbc-e3cc-2e9d-4799-05fe802b8731","canChangeBackground":false}],"id":"377afe1e-202d-4223-9c32-b36c39c0b811","$title":"[REDIRECT TO] Exceções","$position":{"top":"122px","left":"1061px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#c8e6c9","textColor":"#000000"}},"20f2a16a-1d69-47d1-9a24-d087fc0b331b":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"581d2ca6-5ab2-4e38-8726-d22b30bcf23c","type":"text/plain","textContent":"User input","content":"User input"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[{"$id":"3ed14941-bd24-4013-a18d-1f4c6e4ace91","$typeOfContent":"","type":"SetVariable","$title":"clearException","$invalid":false,"settings":{"variable":"exception"},"conditions":[]}],"$leavingCustomActions":[{"$id":"5e626b84-9cf6-49b5-995e-53b56f2befdf","$typeOfContent":"","type":"Redirect","$title":"[GO TO] Finalizar","$invalid":false,"settings":{"context":{"type":"text/plain","value":"finalizacao"},"address":"{{resource.serviceList@finalizacao}}"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false,"typeOfStateId":"state"},"$tags":[{"background":"#0A6045","label":"REDIRECT TO","id":"blip-tag-82243cbc-e3cc-2e9d-4799-05fe802b8731","canChangeBackground":false},{"background":"#FF4A1E","label":"Set variable","id":"blip-tag-024ed08b-c8b4-9452-aa33-a09569f77a2d","canChangeBackground":false}],"id":"20f2a16a-1d69-47d1-9a24-d087fc0b331b","root":false,"$title":"[REDIRECT TO] Finalizar","$position":{"top":"253.5px","left":"1062.25px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#c8e6c9","textColor":"#000000"}},"79699b3e-9792-4285-afc5-b5aa42552260":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"6d96947e-81eb-4195-9a03-8a7f8906e5eb","type":"text/plain","textContent":"User input","content":"User input"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"7455ae48-cff1-4bbb-b8f7-34f0ecea3ba1","$typeOfContent":"","type":"Redirect","$title":"[GO TO] Menu Principal","$invalid":false,"settings":{"context":{"type":"text/plain","value":"Menu"},"address":"{{resource.serviceList@boas_vindas}}"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false,"typeOfStateId":"state"},"$tags":[{"background":"#0A6045","label":"REDIRECT TO","id":"blip-tag-82243cbc-e3cc-2e9d-4799-05fe802b8731","canChangeBackground":false}],"id":"79699b3e-9792-4285-afc5-b5aa42552260","root":false,"$title":"[REDIRECT TO] Menu Principal","$position":{"top":"387px","left":"1061px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#c8e6c9","textColor":"#000000"}},"959b012a-ccc6-442f-b9a0-28ea0ae1b8d8":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"aebf3f0a-56ac-4466-b042-70cabc54dbf4","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"{{exception@blockId}}","typeOfStateId":"variable","$id":"35fb96e1-c5fa-463f-b82f-b328a40d881a","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"ad440f48-87c3-4fa8-be77-43d1b0e5b835","$typeOfContent":"","type":"SetVariable","$title":"returnException","$invalid":false,"settings":{"variable":"returnException","value":"false"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[{"background":"#FF4A1E","label":"Set variable","id":"blip-tag-024ed08b-c8b4-9452-aa33-a09569f77a2d","canChangeBackground":false}],"id":"959b012a-ccc6-442f-b9a0-28ea0ae1b8d8","root":false,"$title":"Retorno Exceção","$position":{"top":"144px","left":"625px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#eb9694","textColor":"#000000","commentsIdList":[]}},"298d4178-2ba6-44f1-a49c-00f3beea487c":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"581d2ca6-5ab2-4e38-8726-d22b30bcf23c","type":"text/plain","textContent":"User input","content":"User input"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"8735939c-ee24-45e9-ba72-24fe28e39c0d","$typeOfContent":"","type":"Redirect","$title":"[GO TO] Transbordo","$invalid":false,"settings":{"context":{"type":"text/plain","value":"ola"},"address":"{{resource.serviceList@transbordo}}"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false,"typeOfStateId":"state"},"$tags":[{"background":"#0A6045","label":"REDIRECT TO","id":"blip-tag-82243cbc-e3cc-2e9d-4799-05fe802b8731","canChangeBackground":false}],"id":"298d4178-2ba6-44f1-a49c-00f3beea487c","root":false,"$title":"[REDIRECT TO] Transbordo","$position":{"top":"522.25px","left":"1063px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#c8e6c9","textColor":"#000000","commentsIdList":[]}},"08a4cf74-6174-4e82-8e39-c012939c432b":{"$contentActions":[{"action":{"$id":"5a8aa38a-d8ef-476d-9431-093b1ab88cde","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"272e8f27-9d68-4a75-8285-7db2a6efe2d4","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"272e8f27-9d68-4a75-8285-7db2a6efe2d4","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"6511b40b-9636-4afe-bc50-637796f11159","$typeOfContent":"text","type":"SendMessage","settings":{"id":"0fd34ed5-b133-4256-8590-d320ae74ea6c","type":"text/plain","content":"{{n1}}Trouxe uma lista de serviços para você:{{n2}}\n\n💡Digite o número da opção e conheça nossos serviços.\n\n{{n1}}1.{{n2}} Alinhamento/Balanceamento\n\n{{n1}}2.{{n2}} Troca de óleo\n\n{{n1}}3.{{n2}} Correia dentada\n\n{{n1}}4.{{n2}} Manutenção preventiva/Revisão para viagem\n\n{{n1}}5.{{n2}} Freio\n\n{{n1}}6.{{n2}} Higienização ar-condicionado\n\n{{n1}}7.{{n2}} Injeção eletrônica\n\n{{n1}}8.{{n2}} Suspensão\n\n{{n1}}9.{{n2}} Montagem de pneus\n\n{{n1}}10.{{n2}} Conserto de pneus\n\n{{n1}}11.{{n2}} Embreagem \n\n{{n1}}12.{{n2}} Outros ","metadata":{}},"$cardContent":{"document":{"id":"0fd34ed5-b133-4256-8590-d320ae74ea6c","type":"text/plain","content":"{{n1}}Trouxe uma lista de serviços para você:{{n2}}\n\n💡Digite o número da opção e conheça nossos serviços.\n\n{{n1}}1.{{n2}} Alinhamento/Balanceamento\n\n{{n1}}2.{{n2}} Troca de óleo\n\n{{n1}}3.{{n2}} Correia dentada\n\n{{n1}}4.{{n2}} Manutenção preventiva/Revisão para viagem\n\n{{n1}}5.{{n2}} Freio\n\n{{n1}}6.{{n2}} Higienização ar-condicionado\n\n{{n1}}7.{{n2}} Injeção eletrônica\n\n{{n1}}8.{{n2}} Suspensão\n\n{{n1}}9.{{n2}} Montagem de pneus\n\n{{n1}}10.{{n2}} Conserto de pneus\n\n{{n1}}11.{{n2}} Embreagem \n\n{{n1}}12.{{n2}} Outros "},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"be996d59-606a-485c-bd73-cb31970b6f66","type":"text/plain","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"1:0"},"$invalid":false}],"$conditionOutputs":[{"stateId":"becab46e-0dd2-446a-8d00-1e1e07c5beba","typeOfStateId":"state","$connId":"con_33","$id":"91f8823d-95f0-4e50-b19b-ab291c87fb0d","conditions":[{"source":"context","comparison":"equals","values":["Alinhamento/Balanceamento","Alinhar/Balancear"],"variable":"validInputJs@input"}],"$invalid":false},{"stateId":"921e6d34-75fb-49e4-8785-cee7494f4f7a","typeOfStateId":"state","$connId":"con_38","$id":"58d5362d-d5db-4a3d-83da-8673492f2c10","conditions":[{"source":"context","comparison":"equals","values":["Troca de óleo"],"variable":"validInputJs@input"}],"$invalid":false},{"stateId":"be773dfa-b873-4851-8c87-f55eb820b90f","typeOfStateId":"state","$connId":"con_43","$id":"b7abda05-393f-4438-a189-003f2a523efc","conditions":[{"source":"context","comparison":"equals","values":["Correia dentada"],"variable":"validInputJs@input"}],"$invalid":false},{"stateId":"268c1414-68c7-4257-9c45-7f3a4d642525","typeOfStateId":"state","$connId":"con_48","$id":"bd9f0348-8ed7-45c4-86b8-955120bfd524","conditions":[{"source":"context","comparison":"equals","values":["Embreagem"],"variable":"validInputJs@input"}],"$invalid":false},{"stateId":"00bc0e5a-5fda-49a6-abbc-31fcdb02b4dc","typeOfStateId":"state","$connId":"con_53","$id":"295cbfe7-92e7-4110-be29-76434ef28382","conditions":[{"source":"context","comparison":"equals","values":["Freio"],"variable":"validInputJs@input"}],"$invalid":false},{"stateId":"d3a49421-7072-4c73-b274-1813b3e3039d","typeOfStateId":"state","$connId":"con_58","$id":"fd14f218-0bdd-4e91-9e72-b3819b49c250","conditions":[{"source":"context","comparison":"equals","values":["Higienização ar-condicionado","Higienização do ar"],"variable":"validInputJs@input"}],"$invalid":false},{"stateId":"780c22c7-f7e5-4d73-bf40-34f8b67b28cc","typeOfStateId":"state","$connId":"con_63","$id":"371d0f36-97fb-47c2-93e0-490c42e23ec3","conditions":[{"source":"context","comparison":"equals","values":["Injeção eletrônica"],"variable":"validInputJs@input"}],"$invalid":false},{"stateId":"f518e534-aec4-4478-92bf-74786a78b9f5","typeOfStateId":"state","$connId":"con_68","$id":"5763b7aa-6989-4e78-839d-a4537b4e3958","conditions":[{"source":"context","comparison":"equals","values":["Suspensão"],"variable":"validInputJs@input"}],"$invalid":false},{"stateId":"7ef3ac21-78b0-461d-bf47-2c076ab94507","typeOfStateId":"state","$connId":"con_73","$id":"813a64e0-ea92-490a-8804-2fdecca1d2b0","conditions":[{"source":"context","comparison":"equals","values":["Montagem de pneus"],"variable":"validInputJs@input"}],"$invalid":false},{"stateId":"40717261-7163-4f85-b2a9-07764b4eeff0","typeOfStateId":"state","$connId":"con_78","$id":"455d2119-ca26-4de4-b311-5ace54d6af1c","conditions":[{"source":"context","comparison":"equals","values":["Conserto de pneus"],"variable":"validInputJs@input"}],"$invalid":false},{"stateId":"555faa4d-d152-4237-8145-2cdc8b2e2b7c","typeOfStateId":"state","$connId":"con_83","$id":"b726195f-a70a-48a0-ad4f-ed03bed79d73","conditions":[{"source":"context","comparison":"equals","values":["Manutenção preventiva/Revisão para viagem"],"variable":"validInputJs@input"}],"$invalid":false},{"stateId":"4756b63b-8e0e-4907-9d85-905edbe34569","typeOfStateId":"state","$connId":"con_88","$id":"a4207528-a4f2-464b-9ea5-e7af5115af09","conditions":[{"source":"context","comparison":"equals","values":["Outros"],"variable":"validInputJs@input"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"0af07bf9-f694-4636-a08b-fc1d339ed605","$typeOfContent":"","type":"ExecuteScript","$title":"inputOptionJs","$invalid":false,"settings":{"function":"run","source":"function run(hideInputText, sentenceOtherMistakesJs, returnJs, platform) {\n\n  let text = `{{n1}}Trouxe uma lista de serviços para você:{{n2}}\n\n💡Digite o número da opção e conheça nossos serviços.`\n  let opt = [\"Alinhamento/Balanceamento\", \"Troca de óleo\", \"Correia dentada\", \"Manutenção preventiva/Revisão para viagem\",\n  \"Freio\", \"Higienização ar-condicionado\", \"Injeção eletrônica\", \"Suspensão\", \n  \"Montagem de pneus\", \"Conserto de pneus\", \"Embreagem\",\"Outros\"]\n  let properties = {\n    text: text,\n    options: opt,\n    values: opt,\n    description: [],\n    itens: [\n      { name: [opt[0]] },\n      { name: [opt[1]] },\n      { name: [opt[2]] },\n      { name: [opt[3]] },\n      { name: [opt[4]] },\n      { name: [opt[5]] },\n      { name: [opt[6]] },\n      { name: [opt[7]] },\n      { name: [opt[8]] },\n      { name: [opt[9]] },\n      { name: [opt[10]] },\n      { name: [opt[11]] },\n    ],\n    menuScope: {\n      \"whatsappButton\": false,\n      \"whatsappList\": false,\n      \"blipchatQuickReply\": false,\n      \"blipchatMenu\": false,\n      \"defaultText\": true\n    }\n  }\n\n  ////////////////////////////////////////////////////////////////////////////////\n  // Exibe mensagem e exceção no MENU\n  // if (hideInputText == 'true' || hideInputText == true) {\n  //   properties.text = sentenceOtherMistakesJs\n  // } else {\n  //   // Exibe mensagem de retorno\n  //   // if (returnJs == 'true' || returnJs == true) {\n  //   //   properties.text = 'Certo! Selecione a seguir como eu posso te ajudar hoje. 👇'\n  //   // }\n  // }\n  ////////////////////////////////////////////////////////////////////////////////\n\n  properties.itens = addItensNumeracao(properties.itens);\n\n  // Adição de opções sem numeração\n  let opcoesExtras = []\n\n  opcoesExtras = addItens(opcoesExtras);\n\n  for (let i = 0; i < opcoesExtras.length; i++) {\n    properties.itens.push(opcoesExtras[i]);\n  }\n\n  return JSON.stringify(properties);\n}\n\nfunction addItens(itens) {\n  let newItens = [];\n  let newNames;\n  let name;\n  let match;\n  for (let i = 0; i < itens.length; i++) {\n    name = itens[i].name;\n    newNames = []\n    for (let y = 0; y < itens[i].name.length; y++) {\n      match = name[y];\n      newNames.push(match);\n      // Adiciona uma variação lowerCase e UpperCase para cada opção do itens\n      newNames.push(match.toLowerCase());\n      newNames.push(match.toUpperCase());\n      newItens[i] = { name: newNames };\n    }\n  }\n  return newItens;\n}\n\nfunction addItensNumeracao(itens) {\n  let newItens = [];\n  let newNames;\n  let name;\n  let match;\n  for (let i = 0; i < itens.length; i++) {\n    name = itens[i].name;\n    newNames = []\n    for (let y = 0; y < itens[i].name.length; y++) {\n      match = name[y];\n      newNames.push(match);\n      // Adiciona uma variação lowerCase e UpperCase para cada opção do itens\n      newNames.push(match.toLowerCase());\n      newNames.push(match.toUpperCase());\n      newItens[i] = { name: newNames };\n    }\n    newNames.push(`${i + 1}`); // Acrescenta numeração automática\n  }\n  return newItens;\n} \n","inputVariables":["hideInputText","sentenceOtherMistakesJs","return","platform"],"outputVariable":"inputOptionJs","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"19b44b1c-95c2-4d6f-be90-4d0f0d3f8a6e","$typeOfContent":"","type":"TrackEvent","$title":"saudacao quickreply exibicao","$invalid":false,"settings":{"extras":{},"category":"saudacao quickreply exibicao","action":"Exibicao"},"conditions":[]},{"$id":"876f7abc-07cb-4d5c-b952-0377e8bc7e52","$typeOfContent":"","type":"ExecuteScript","$title":"objMenu","$invalid":false,"settings":{"function":"run","source":"// {{resource.FunctionGetMenu}}\n\n// const run = (platform, menu) => {\n//   menu = JSON.parse(menu);\n//   platform = platform.toLowerCase();\n\n//   if (platform == 'instagram' || platform == 'messenger') {\n//     const objMenu = {\n//       'type': `text/plain`,\n//       'content' : geraMenuNumerico(menu)\n//     }\n//     return objMenu\n//   };\n\n//   let default_msg = {\n//     \"text\": menu.text,\n//     \"header\": 'Menu',\n//     \"body\": menu.text,\n//     \"footer\": '',\n//     \"button\": 'Menu',\n//     \"title\": 'Menu',\n//     \"namespaceTemplate\": '',\n//     \"nameTemplate\": '',\n//     \"options\": menu.options,\n//     \"values\": menu.values,\n//     \"submenu\": [],\n//     \"description\": menu.description,\n//     \"menuScope\": {\n//       ... menu.menuScope,\n//       \"platform\": platform\n//     },\n//   };\n\n//   var newMenu = getMenuForPlatform(default_msg);\n\n//   return newMenu;\n// };\n\n// function geraMenuNumerico(menu) {\n//   // menu = JSON.parse(menu);\n\n//   let listaOptions = '\\n\\n';\n//   for (let i = 0; i < menu.options.length; i++) {\n//     listaOptions = listaOptions + (i + 1) + '. ' + menu.options[i] + '\\n';\n//   }\n\n//   return menu.text + listaOptions;\n// }\n\n\n{{resource.FunctionGetMenu}}\n\nconst run = (platform, menu) => {\n  let convertPlatform = platform.toLowerCase();\n  menu = JSON.parse(menu);\n  platform = platform.toLowerCase();\n\n  if (platform == 'instagram' || platform == 'messenger') {\n    const objectType = {\n      'type': `text/plain`\n    }\n    return objectType\n  };\n\n  let default_msg = {\n    \"text\": menu.text,\n    \"header\": '',\n    \"body\": menu.text,\n    \"footer\": '',\n    \"button\": 'Serviços',\n    \"title\": 'Menu',\n    \"namespaceTemplate\": '',\n    \"nameTemplate\": '',\n    \"options\": menu.options,\n    \"values\": menu.values,\n    \"submenu\": [],\n    \"description\": menu.description,\n    \"menuScope\": {\n      ...menu.menuScope,\n      \"platform\": platform\n    }\n  };\n\n  var newMenu = getMenuForPlatform(default_msg);\n\n  return newMenu;\n};","inputVariables":["platform","inputOptionJs"],"outputVariable":"objMenu","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"e6ff32d4-7cda-4c81-afcf-9281bf3c63d7","$typeOfContent":"","type":"ExecuteScript","$title":"contentJs","$invalid":false,"settings":{"function":"run","source":"function run(menu, platform, objMenu) {\n  objMenu = JSON.parse(objMenu);\n  platform = platform.toLowerCase();\n\n  switch (platform) {\n    case 'instagram':\n      return geraMenuNumerico(menu);\n\n    case 'messenger':\n      return geraMenuNumerico(menu);\n\n    default:\n      return objMenu.content;\n  }\n}\n\nfunction geraMenuNumerico(menu) {\n  menu = JSON.parse(menu);\n\n  let listaOptions = '\\n\\n';\n  for (let i = 0; i < menu.options.length; i++) {\n    listaOptions = listaOptions + '{{n1}}' + (i + 1) + '.{{n2}} ' + menu.options[i] + '\\n';\n  }\n\n  return menu.text + listaOptions;\n}","inputVariables":["inputOptionJs","platform","objMenu"],"outputVariable":"contentJs","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[{"$id":"4c3fd580-c601-45cc-8eae-e805e71a605f","$typeOfContent":"","type":"ExecuteScript","$title":"validInputJs","$invalid":false,"settings":{"function":"run","source":"// ============================================================================\n//      TYPE\n// ============================================================================\n// - reserved => quando há alguma palavra reservada que o bot deverá processar, \n// como SAIR E MENU por exemplo\n// - error => quando alguma validação deverá retornar um erro para cair em exceção\n// - success => quando a validação foi bem sucedida.\n// ============================================================================\n//      INPUT\n// ============================================================================\n// Retorna o input após processamento.\n// - Se type == error => o input será a descrição do erro. Ex: ERRO CEP\n// - Se type == success => o input será o input original processado.\n// ============================================================================\n//      VALIDATION\n// ============================================================================\n// Retorna em qual validação o input foi processado. Ex: cep\n// ============================================================================\n{{resource.FunctionProcessInput}}\n\nfunction run(input, inputType, platform, menu) {\n    try {\n\n        // =================================================================================\n        //             ATENÇÃO: MANIPULAR SOMENTE AS DUAS CONSTANTES A SEGUIR\n        // =================================================================================\n        // - validacaoMenu => true para validação de Menu, false para Input\n        // - validacoesInput => insira aqui que tipo de validação de input vai ser  \n        //   necessário (se mais de um for selecionado, apenas o mais acima será validado)\n        // - erroMenuEspecial => altere somente se, caso a validação seja um Menu e para\n        //   este menu haja um tratamento diferente de exceção.\n        // =================================================================================\n        const validacaoMenu = true;\n        const erroMenuEspecial = 'ERRO DINAMICO';\n        const validacoesInput = {\n            data: false,\n            email: false,\n            cep: false,\n            img: false,\n            imgTxt: false,\n            nome: false\n        };\n        // ========================================================================\n\n        // Inicia o objeto que será retornado pela função\n        let processedInput = {\n            'type': null,\n            'input': null,\n            'validation': 'none'\n        }\n\n        // Verifica se o usuário digitou SAIR ou MENU\n        if (input == 'sair' || input == 'SAIR' || input == 'Sair') {\n            processedInput.type = 'reserved'\n            processedInput.input = 'SAIR'\n            return JSON.stringify(processedInput)\n        } else if (input == 'voltar' || input == 'VOLTAR' || input == 'Menu' || input == 'Voltar' || input == 'menu' || input == 'MENU') {\n            processedInput.type = 'reserved'\n            processedInput.input = 'VOLTAR'\n            return JSON.stringify(processedInput)\n        }\n\n        // Formata variáveis\n        menu = JSON.parse(menu);\n        platform = platform.toUpperCase()\n\n        if (validacaoMenu) {\n            // Validação de MENU\n            processedInput = validaMenu(input, menu, platform)\n\n            // Verifica se precisa mudar a mensagem de erro do Menu Dinâmico para o Especial\n            if ((processedInput.input == 'ERRO DINAMICO' || processedInput.input == 'ERRO NUMERICO') && erroMenuEspecial != '') {\n                processedInput.input = erroMenuEspecial; \n            }\n            return JSON.stringify(processedInput);\n\n        } else {\n            // Validação de INPUT\n            const val = Object.entries(validacoesInput);\n            processedInput = validaInput(val, input, inputType)\n\n            // Se nenhuma validação foi processada, retorna o input sem validação\n            if (processedInput.input == 'INPUT SEM VALIDAÇÕES') {\n                return JSON.stringify({type: 'success', input: input, validation: 'none'});\n\n            } else {\n                return JSON.stringify(processedInput);\n            }\n        }\n\n    } catch (e) {\n        return {type: 'error', input: 'ERRO INESPERADO', validation: 'none'}\n    }\n}","inputVariables":["input.content","input.type","platform","inputOptionJs"],"outputVariable":"validInputJs","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"ca0780fb-4590-4991-b281-fda1d115b2b6","$typeOfContent":"","type":"TrackEvent","$title":"saudacao quickreply selecao","$invalid":false,"settings":{"extras":{},"category":"saudacao quickreply selecao","action":"{{validInputJs@input}}"},"conditions":[{"source":"context","comparison":"equals","values":["success"],"variable":"validInputJs@type"},{"source":"input","comparison":"exists","values":[]}]},{"$id":"66155932-cd0b-4c34-9628-39d25d459551","$typeOfContent":"","type":"TrackEvent","$title":"saudacao quickreply input inesperado","$invalid":false,"settings":{"extras":{},"category":"saudacao quickreply input inesperado","action":"{{input.content}}"},"conditions":[{"source":"input","comparison":"exists","values":[]},{"source":"context","comparison":"equals","variable":"validInputJs@type","values":["error","reserved"]}]},{"$id":"7e8a0258-b590-4e06-89f5-389601bc1300","$typeOfContent":"","type":"SetVariable","$title":"hideInputText [false]","$invalid":false,"settings":{"variable":"hideInputText","value":"false"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false,"typeOfStateId":"state"},"$tags":[{"background":"#61D36F","label":"Event tracking","id":"blip-tag-c54b55c8-285f-be44-167f-ddb9370efbe9","canChangeBackground":false},{"background":"#FFEC03","label":"userInput","id":"blip-tag-59565120-de68-cdcc-653c-94c14e2b5e9e","canChangeBackground":false},{"background":"#FF961E","label":"ExecuteScript","id":"blip-tag-4cffa4e2-3244-409f-90a7-9fff4b556eb1","canChangeBackground":false}],"id":"08a4cf74-6174-4e82-8e39-c012939c432b","$title":"[SE.0.0.0] [MENU]","$position":{"top":"395px","left":"377px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"a9639756-525b-46c7-b181-8d5c6ca57a74":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"fbf92afc-a1bf-400c-8e40-22d772bf16fa","type":"text/plain","content":"User input"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"7d31e570-2f6e-4693-9895-eb1669fe5c4d","$typeOfContent":"","type":"Redirect","$title":"[GO TO] Service","$invalid":false,"settings":{"context":{"type":"text/plain","value":"{{service}}"},"address":"{{destination}}"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"$tags":[{"background":"#0A6045","label":"REDIRECT TO","id":"blip-tag-31fd5180-97e8-b29a-b296-110803b6277e","canChangeBackground":false}],"id":"a9639756-525b-46c7-b181-8d5c6ca57a74","$title":"[REDIRECT TO] Service","$position":{"top":"658px","left":"1060px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#c8e6c9","textColor":"#000000","commentsIdList":[]}},"bae30145-bd0b-4e50-a880-07a4c38e6a64":{"$contentActions":[{"action":{"$id":"73dbf7b9-c0d0-431f-980e-86a7a735cd58","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"3047035c-e4cc-4e9b-93fb-9b5b32713da8","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"3047035c-e4cc-4e9b-93fb-9b5b32713da8","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"c0c411e2-8f85-4762-a3f7-8809491f1b3b","$typeOfContent":"text","type":"SendMessage","settings":{"id":"dfd44a4c-746b-4aca-824d-b213d1865278","type":"text/plain","content":"Agora precisamos te conhecer.\n\n{{n1}}Qual é o seu nome?{{n2}}","metadata":{}},"$cardContent":{"document":{"id":"dfd44a4c-746b-4aca-824d-b213d1865278","type":"text/plain","content":"Agora precisamos te conhecer.\n\n{{n1}}Qual é o seu nome?{{n2}}"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"be996d59-606a-485c-bd73-cb31970b6f66","type":"text/plain","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"1:0"},"$invalid":false}],"$conditionOutputs":[{"stateId":"27f4c628-11be-4cf0-ae90-d96ae971bac6","typeOfStateId":"state","$connId":"con_93","$id":"4fcb6830-c1b8-4c39-80e9-33838246cb6d","conditions":[{"source":"context","comparison":"equals","values":["success"],"variable":"validInputJs@type"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"19b44b1c-95c2-4d6f-be90-4d0f0d3f8a6e","$typeOfContent":"","type":"TrackEvent","$title":"servicos nome exibicao","$invalid":false,"settings":{"extras":{},"category":"servicos nome exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[{"$id":"4c3fd580-c601-45cc-8eae-e805e71a605f","$typeOfContent":"","type":"ExecuteScript","$title":"validInputJs","$invalid":false,"settings":{"function":"run","source":"function run(input) {\n\n    const regex = {\n        \"image\": /image/,\n        \"audio\": /audio/,\n        \"video\": /video/,\n        \"emoji\": /[\\u2600-\\u26ff]|[\\u2600-\\u27ff]|[\\u2700-\\u27bf]|\\u00a9|\\u00ae|[\\u2000-\\u3300]|\\ud83c[\\ud000-\\udfff]|\\ud83d[\\ud000-\\udfff]|\\ud83e[\\ud000-\\udfff]|\\ud83c[\\udf00-\\udfff]|\\ud83d[\\udc00-\\ude4f]|\\ud83d[\\ude80-\\udeff]|\\ud83c[\\udde6-\\uddff]|\\ud83c[\\udffb-\\udfff]/,\n        \"link\": /^(((https?:\\/\\/)[^\\s.]+|(www))\\.[\\w][^\\s]+)$/,\n        \"arquivo\": /application|text\\/csv|text\\/html/,\n        \"figurinha\": /application\\/octet-stream|image\\/webp/,\n        \"numero\": /[0-9]/\n    }\n    let isString = input.replace(/[0-9]/g, 'ERRO NOME')\n    let name = isString.split(' ')\n\n    if (input.match(regex.image) || input.match(regex.audio) || input.match(regex.video) || input.match(regex.emoji) || input.match(regex.figurinha) || input.match(regex.link) || input.match(regex.arquivo) || isString.match(regex.numero)) {\n        return { type: 'error', input: 'ERRO NOME', validation: 'nome' }\n    }\n    else if (isString.includes('ERRO NOME')) {\n        return { type: 'error', input: 'ERRO NOME', validation: 'nome' }\n    }\n    else {\n        let str = isString.normalize('NFD').replace(/[\\u0300-\\u036f]/g, \"\").toLowerCase();\n        const arr = str.split(\" \");\n        for (var i = 0; i < arr.length; i++) {\n            arr[i] = arr[i].charAt(0).toUpperCase() + arr[i].slice(1);\n\n        }\n        const nomeSucess = arr.join(\" \");\n\n        return { type: 'success', input: nomeSucess, validation: 'nome' }\n    }\n    return { type: 'error', input: 'ERRO NOME', validation: 'nome' }\n}","inputVariables":["input.content"],"outputVariable":"validInputJs","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"ca0780fb-4590-4991-b281-fda1d115b2b6","$typeOfContent":"","type":"TrackEvent","$title":"servicos nome input","$invalid":false,"settings":{"extras":{},"category":"servicos nome input","action":"{{validInputJs@input}}"},"conditions":[{"source":"context","comparison":"equals","values":["success"],"variable":"validInputJs@type"},{"source":"input","comparison":"exists","values":[]}]},{"$id":"66155932-cd0b-4c34-9628-39d25d459551","$typeOfContent":"","type":"TrackEvent","$title":"servicos nome inesperado","$invalid":false,"settings":{"extras":{},"category":"servicos nome inesperado","action":"{{input.content}}"},"conditions":[{"source":"input","comparison":"exists","values":[]},{"source":"context","comparison":"equals","variable":"validInputJs@type","values":["error","reserved"]}]},{"$id":"7e8a0258-b590-4e06-89f5-389601bc1300","$typeOfContent":"","type":"SetVariable","$title":"hideInputText [false]","$invalid":false,"settings":{"variable":"hideInputText","value":"false"},"conditions":[]},{"$id":"646bac99-51c3-4d90-a4a3-4d4a71cd6766","$typeOfContent":"","type":"MergeContact","$title":"Nome","$invalid":false,"settings":{"extras":{},"name":"{{validInputJs@input}}"},"conditions":[{"values":["success"],"source":"context","comparison":"equals","variable":"validInputJs@type"}]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false,"typeOfStateId":"state"},"$tags":[{"background":"#61D36F","label":"Event tracking","id":"blip-tag-c54b55c8-285f-be44-167f-ddb9370efbe9","canChangeBackground":false},{"background":"#FFEC03","label":"userInput","id":"blip-tag-59565120-de68-cdcc-653c-94c14e2b5e9e","canChangeBackground":false},{"background":"#FF961E","label":"ExecuteScript","id":"blip-tag-4cffa4e2-3244-409f-90a7-9fff4b556eb1","canChangeBackground":false},{"background":"#2cc3d5","label":"Set Contact","id":"blip-tag-62378edf-474b-e74d-63f3-d12b9ca249fc","canChangeBackground":false}],"id":"bae30145-bd0b-4e50-a880-07a4c38e6a64","$title":"[SE.0.0.4] [INPUT] Nome","$position":{"top":"1466px","left":"478px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"340f1e58-570d-4415-a41a-db624c620799":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"bae05987-dc5c-4ac1-8276-2527b967871c","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[{"$id":"0493e5f8-a17f-4d75-81c0-20c49edcdc85","$typeOfContent":"","type":"ExecuteScript","$title":"destination","$invalid":false,"settings":{"function":"run","source":"function run() {\n\n  return 'pneus';\n}","inputVariables":[],"outputVariable":"destination","LocalTimeZoneEnabled":false},"conditions":[{"source":"context","comparison":"equals","variable":"validInputJs@type","values":["success"]}]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"79699b3e-9792-4285-afc5-b5aa42552260","$invalid":false,"typeOfStateId":"state"},"$tags":[{"background":"#3A4A65","label":"GO TO","id":"blip-tag-bb8e8b45-c8b0-9b29-6cd8-fee9ba6347db","canChangeBackground":false}],"id":"340f1e58-570d-4415-a41a-db624c620799","root":false,"$title":"[GO TO] Menu Principal","$position":{"top":"1234px","left":"613px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#fff9c4","textColor":"#000000","commentsIdList":[]}},"becab46e-0dd2-446a-8d00-1e1e07c5beba":{"$contentActions":[{"action":{"$id":"20ad54af-3c8b-4960-a51c-f0d1f859e6af","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"d12e3ac0-58dc-4fab-8c5b-65044cfeb29a","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"d12e3ac0-58dc-4fab-8c5b-65044cfeb29a","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"ccda854e-c2a2-43a0-b31f-d77a88550ea9","$typeOfContent":"text","type":"SendMessage","settings":{"id":"d4251c30-f104-4eab-a29b-9a55b769fe1a","type":"text/plain","content":"Na Pneus Nacional, nossa tradição e compromisso com a qualidade se destacam no serviço de alinhamento 3D e balanceamento de rodas.\n\nNeste serviço efetuado com equipamentos de ponta e profissionais qualificados, efetuamos o ajuste da posição das rodas na suspensão de acordo com as especificações do fabricante do veículo e a distribuição do peso entre pneu e roda de maneira dinâmica e estática.\n\nTudo isso visando assegurar segurança e estabilidade para garantir uma vida longa dos pneus, além de menor consumo de combustível e a segurança dos passageiros.","metadata":{}},"$cardContent":{"document":{"id":"d4251c30-f104-4eab-a29b-9a55b769fe1a","type":"text/plain","content":"Na Pneus Nacional, nossa tradição e compromisso com a qualidade se destacam no serviço de alinhamento 3D e balanceamento de rodas.\n\nNeste serviço efetuado com equipamentos de ponta e profissionais qualificados, efetuamos o ajuste da posição das rodas na suspensão de acordo com as especificações do fabricante do veículo e a distribuição do peso entre pneu e roda de maneira dinâmica e estática.\n\nTudo isso visando assegurar segurança e estabilidade para garantir uma vida longa dos pneus, além de menor consumo de combustível e a segurança dos passageiros."},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"d1f34960-965b-4eae-9b81-7bb2c78e43ea","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"0509fd66-2317-45de-9d94-95fdc8c1ccea","typeOfStateId":"state","$connId":"con_98","$id":"17660f43-6974-4cdc-a26d-87441419214e","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"17158d7b-ad8f-4a9f-9196-13c0f47647fc","$typeOfContent":"","type":"TrackEvent","$title":"alinhamento balanceamento exibicao","$invalid":false,"settings":{"extras":{},"category":"alinhamento balanceamento exibicao","action":"exibicao"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"0509fd66-2317-45de-9d94-95fdc8c1ccea","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"background":"#61D36F","label":"Event tracking","id":"blip-tag-ed2ab0b6-d476-fa9f-0ed2-e09dd9fec033","canChangeBackground":false}],"id":"becab46e-0dd2-446a-8d00-1e1e07c5beba","root":false,"$title":"[SE.0.0.1] Alinhamento/Balanceamento","$position":{"top":"562px","left":"177px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"0509fd66-2317-45de-9d94-95fdc8c1ccea":{"$contentActions":[{"action":{"$id":"40ccc244-df19-4bf9-a7d1-e4f5f4c46722","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"19eb619d-6f11-4923-b326-72ab8352b8ba","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"19eb619d-6f11-4923-b326-72ab8352b8ba","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"b5a6f654-d2d1-4e03-b68a-1f821b914c28","$typeOfContent":"raw-content","type":"SendRawMessage","settings":{"metadata":{},"type":"{{objMenu@type}}","rawContent":"{{contentJs}}"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"be996d59-606a-485c-bd73-cb31970b6f66","type":"text/plain","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"1:0"},"$invalid":false}],"$conditionOutputs":[{"stateId":"4756b63b-8e0e-4907-9d85-905edbe34569","typeOfStateId":"state","$connId":"con_103","$id":"91f8823d-95f0-4e50-b19b-ab291c87fb0d","conditions":[{"source":"context","comparison":"equals","values":["Falar com atendente"],"variable":"validInputJs@input"}],"$invalid":false},{"stateId":"340f1e58-570d-4415-a41a-db624c620799","typeOfStateId":"state","$connId":"con_108","$id":"58d5362d-d5db-4a3d-83da-8673492f2c10","conditions":[{"source":"context","comparison":"equals","values":["Menu Principal"],"variable":"validInputJs@input"}],"$invalid":false},{"stateId":"ac42675a-5e72-47ca-952c-16dbb3cdab41","typeOfStateId":"state","$connId":"con_113","$id":"b7abda05-393f-4438-a189-003f2a523efc","conditions":[{"source":"context","comparison":"equals","values":["Encerrar conversa"],"variable":"validInputJs@input"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"0af07bf9-f694-4636-a08b-fc1d339ed605","$typeOfContent":"","type":"ExecuteScript","$title":"inputOptionJs","$invalid":false,"settings":{"function":"run","source":"function run(hideInputText, sentenceOtherMistakesJs, returnJs, platform) {\n\n  let text = '{{n1}}Gostaria de saber mais sobre esse serviço?{{n2}}'\n  let opt = [\"Falar com atendente\", \"Menu Principal\", \"Encerrar conversa\"]\n  let properties = {\n    text: text,\n    options: opt,\n    values: opt,\n    description: [],\n    itens: [\n      { name: [opt[0], 'atendente', 'falar', 'humano'] },\n      { name: [opt[1], 'menu', 'principal'] },\n      { name: [opt[2], 'sair', 'encerrar', 'finalizar'] }\n    ],\n    menuScope: {\n      \"whatsappButton\": true,\n      \"whatsappList\": false,\n      \"blipchatQuickReply\": false,\n      \"blipchatMenu\": true,\n      \"defaultText\": false\n    }\n  }\n\n  ////////////////////////////////////////////////////////////////////////////////\n  // Exibe mensagem e exceção no MENU\n  // if (hideInputText == 'true' || hideInputText == true) {\n  //   properties.text = sentenceOtherMistakesJs\n  // } else {\n  //   // Exibe mensagem de retorno\n  //   // if (returnJs == 'true' || returnJs == true) {\n  //   //   properties.text = 'Certo! Selecione a seguir como eu posso te ajudar hoje. 👇'\n  //   // }\n  // }\n  ////////////////////////////////////////////////////////////////////////////////\n\n  properties.itens = addItensNumeracao(properties.itens);\n\n  // Adição de opções sem numeração\n  let opcoesExtras = []\n\n  opcoesExtras = addItens(opcoesExtras);\n\n  for (let i = 0; i < opcoesExtras.length; i++) {\n    properties.itens.push(opcoesExtras[i]);\n  }\n\n  return JSON.stringify(properties);\n}\n\nfunction addItens(itens) {\n  let newItens = [];\n  let newNames;\n  let name;\n  let match;\n  for (let i = 0; i < itens.length; i++) {\n    name = itens[i].name;\n    newNames = []\n    for (let y = 0; y < itens[i].name.length; y++) {\n      match = name[y];\n      newNames.push(match);\n      // Adiciona uma variação lowerCase e UpperCase para cada opção do itens\n      newNames.push(match.toLowerCase());\n      newNames.push(match.toUpperCase());\n      newItens[i] = { name: newNames };\n    }\n  }\n  return newItens;\n}\n\nfunction addItensNumeracao(itens) {\n  let newItens = [];\n  let newNames;\n  let name;\n  let match;\n  for (let i = 0; i < itens.length; i++) {\n    name = itens[i].name;\n    newNames = []\n    for (let y = 0; y < itens[i].name.length; y++) {\n      match = name[y];\n      newNames.push(match);\n      // Adiciona uma variação lowerCase e UpperCase para cada opção do itens\n      newNames.push(match.toLowerCase());\n      newNames.push(match.toUpperCase());\n      newItens[i] = { name: newNames };\n    }\n    newNames.push(`${i + 1}`); // Acrescenta numeração automática\n  }\n  return newItens;\n} \n","inputVariables":["hideInputText","sentenceOtherMistakesJs","return","platform"],"outputVariable":"inputOptionJs","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"19b44b1c-95c2-4d6f-be90-4d0f0d3f8a6e","$typeOfContent":"","type":"TrackEvent","$title":"saber mais servicos exibicao","$invalid":false,"settings":{"extras":{},"category":"saber mais servicos exibicao","action":"Exibicao"},"conditions":[]},{"$id":"577e15cf-4d77-498c-ac58-0713c9f34a14","$typeOfContent":"","type":"ExecuteScript","$title":"objMenu","$invalid":false,"settings":{"function":"run","source":"// {{resource.FunctionGetMenu}}\n\n// const run = (platform, menu) => {\n//   menu = JSON.parse(menu);\n//   platform = platform.toLowerCase();\n\n//   if (platform == 'instagram' || platform == 'messenger') {\n//     const objMenu = {\n//       'type': `text/plain`,\n//       'content' : geraMenuNumerico(menu)\n//     }\n//     return objMenu\n//   };\n\n//   let default_msg = {\n//     \"text\": menu.text,\n//     \"header\": 'Menu',\n//     \"body\": menu.text,\n//     \"footer\": '',\n//     \"button\": 'Menu',\n//     \"title\": 'Menu',\n//     \"namespaceTemplate\": '',\n//     \"nameTemplate\": '',\n//     \"options\": menu.options,\n//     \"values\": menu.values,\n//     \"submenu\": [],\n//     \"description\": menu.description,\n//     \"menuScope\": {\n//       ... menu.menuScope,\n//       \"platform\": platform\n//     },\n//   };\n\n//   var newMenu = getMenuForPlatform(default_msg);\n\n//   return newMenu;\n// };\n\n// function geraMenuNumerico(menu) {\n//   // menu = JSON.parse(menu);\n\n//   let listaOptions = '\\n\\n';\n//   for (let i = 0; i < menu.options.length; i++) {\n//     listaOptions = listaOptions + (i + 1) + '. ' + menu.options[i] + '\\n';\n//   }\n\n//   return menu.text + listaOptions;\n// }\n\n\n{{resource.FunctionGetMenu}}\n\nconst run = (platform, menu) => {\n  let convertPlatform = platform.toLowerCase();\n  menu = JSON.parse(menu);\n  platform = platform.toLowerCase();\n\n  if (platform == 'instagram' || platform == 'messenger') {\n    const objectType = {\n      'type': `text/plain`\n    }\n    return objectType\n  };\n\n  let default_msg = {\n    \"text\": menu.text,\n    \"header\": '',\n    \"body\": menu.text,\n    \"footer\": '',\n    \"button\": 'Marcas',\n    \"title\": 'Menu',\n    \"namespaceTemplate\": '',\n    \"nameTemplate\": '',\n    \"options\": menu.options,\n    \"values\": menu.values,\n    \"submenu\": [],\n    \"description\": menu.description,\n    \"menuScope\": {\n      ...menu.menuScope,\n      \"platform\": platform\n    }\n  };\n\n  var newMenu = getMenuForPlatform(default_msg);\n\n  return newMenu;\n};","inputVariables":["platform","inputOptionJs"],"outputVariable":"objMenu","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"bb25aae3-b63d-44a8-9012-a20a03750f5b","$typeOfContent":"","type":"ExecuteScript","$title":"contentJs","$invalid":false,"settings":{"function":"run","source":"function run(menu, platform, objMenu) {\n  objMenu = JSON.parse(objMenu);\n  platform = platform.toLowerCase();\n\n  switch (platform) {\n    case 'instagram':\n      return geraMenuNumerico(menu);\n\n    case 'messenger':\n      return geraMenuNumerico(menu);\n\n    default:\n      return objMenu.content;\n  }\n}\n\nfunction geraMenuNumerico(menu) {\n  menu = JSON.parse(menu);\n\n  let listaOptions = '\\n\\n';\n  for (let i = 0; i < menu.options.length; i++) {\n    listaOptions = listaOptions + '{{n1}}' + (i + 1) + '.{{n2}} ' + menu.options[i] + '\\n';\n  }\n\n  return menu.text + listaOptions;\n}","inputVariables":["inputOptionJs","platform","objMenu"],"outputVariable":"contentJs","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[{"$id":"4c3fd580-c601-45cc-8eae-e805e71a605f","$typeOfContent":"","type":"ExecuteScript","$title":"validInputJs","$invalid":false,"settings":{"function":"run","source":"// ============================================================================\n//      TYPE\n// ============================================================================\n// - reserved => quando há alguma palavra reservada que o bot deverá processar, \n// como SAIR E MENU por exemplo\n// - error => quando alguma validação deverá retornar um erro para cair em exceção\n// - success => quando a validação foi bem sucedida.\n// ============================================================================\n//      INPUT\n// ============================================================================\n// Retorna o input após processamento.\n// - Se type == error => o input será a descrição do erro. Ex: ERRO CEP\n// - Se type == success => o input será o input original processado.\n// ============================================================================\n//      VALIDATION\n// ============================================================================\n// Retorna em qual validação o input foi processado. Ex: cep\n// ============================================================================\n{{resource.FunctionProcessInput}}\n\nfunction run(input, inputType, platform, menu) {\n    try {\n\n        // =================================================================================\n        //             ATENÇÃO: MANIPULAR SOMENTE AS DUAS CONSTANTES A SEGUIR\n        // =================================================================================\n        // - validacaoMenu => true para validação de Menu, false para Input\n        // - validacoesInput => insira aqui que tipo de validação de input vai ser  \n        //   necessário (se mais de um for selecionado, apenas o mais acima será validado)\n        // - erroMenuEspecial => altere somente se, caso a validação seja um Menu e para\n        //   este menu haja um tratamento diferente de exceção.\n        // =================================================================================\n        const validacaoMenu = true;\n        const erroMenuEspecial = 'ERRO DINAMICO';\n        const validacoesInput = {\n            data: false,\n            email: false,\n            cep: false,\n            img: false,\n            imgTxt: false,\n            nome: false\n        };\n        // ========================================================================\n\n        // Inicia o objeto que será retornado pela função\n        let processedInput = {\n            'type': null,\n            'input': null,\n            'validation': 'none'\n        }\n\n        // Verifica se o usuário digitou SAIR ou MENU\n        if (input == 'sair' || input == 'SAIR' || input == 'Sair') {\n            processedInput.type = 'reserved'\n            processedInput.input = 'SAIR'\n            return JSON.stringify(processedInput)\n        } else if (input == 'voltar' || input == 'VOLTAR' || input == 'Menu' || input == 'Voltar' || input == 'menu' || input == 'MENU') {\n            processedInput.type = 'reserved'\n            processedInput.input = 'VOLTAR'\n            return JSON.stringify(processedInput)\n        }\n\n        // Formata variáveis\n        menu = JSON.parse(menu);\n        platform = platform.toUpperCase()\n\n        if (validacaoMenu) {\n            // Validação de MENU\n            processedInput = validaMenu(input, menu, platform)\n\n            // Verifica se precisa mudar a mensagem de erro do Menu Dinâmico para o Especial\n            if ((processedInput.input == 'ERRO DINAMICO' || processedInput.input == 'ERRO NUMERICO') && erroMenuEspecial != '') {\n                processedInput.input = erroMenuEspecial; \n            }\n            return JSON.stringify(processedInput);\n\n        } else {\n            // Validação de INPUT\n            const val = Object.entries(validacoesInput);\n            processedInput = validaInput(val, input, inputType)\n\n            // Se nenhuma validação foi processada, retorna o input sem validação\n            if (processedInput.input == 'INPUT SEM VALIDAÇÕES') {\n                return JSON.stringify({type: 'success', input: input, validation: 'none'});\n\n            } else {\n                return JSON.stringify(processedInput);\n            }\n        }\n\n    } catch (e) {\n        return {type: 'error', input: 'ERRO INESPERADO', validation: 'none'}\n    }\n}","inputVariables":["input.content","input.type","platform","inputOptionJs"],"outputVariable":"validInputJs","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"ca0780fb-4590-4991-b281-fda1d115b2b6","$typeOfContent":"","type":"TrackEvent","$title":"saber mais servicos selecao","$invalid":false,"settings":{"extras":{},"category":"saber mais servicos selecao","action":"{{validInputJs@input}}"},"conditions":[{"source":"context","comparison":"equals","values":["success"],"variable":"validInputJs@type"},{"source":"input","comparison":"exists","values":[]}]},{"$id":"66155932-cd0b-4c34-9628-39d25d459551","$typeOfContent":"","type":"TrackEvent","$title":"saber mais servicos inesperado","$invalid":false,"settings":{"extras":{},"category":"saber mais servicos inesperado","action":"{{input.content}}"},"conditions":[{"source":"input","comparison":"exists","values":[]},{"source":"context","comparison":"equals","variable":"validInputJs@type","values":["error","reserved"]}]},{"$id":"7e8a0258-b590-4e06-89f5-389601bc1300","$typeOfContent":"","type":"SetVariable","$title":"hideInputText [false]","$invalid":false,"settings":{"variable":"hideInputText","value":"false"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false,"typeOfStateId":"state"},"$tags":[{"background":"#61D36F","label":"Event tracking","id":"blip-tag-c54b55c8-285f-be44-167f-ddb9370efbe9","canChangeBackground":false},{"background":"#FFEC03","label":"userInput","id":"blip-tag-59565120-de68-cdcc-653c-94c14e2b5e9e","canChangeBackground":false},{"background":"#FF961E","label":"ExecuteScript","id":"blip-tag-4cffa4e2-3244-409f-90a7-9fff4b556eb1","canChangeBackground":false}],"id":"0509fd66-2317-45de-9d94-95fdc8c1ccea","$title":"[SE.0.0.2] [MENU]","$position":{"top":"1143px","left":"384px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"isAiGenerated":false},"921e6d34-75fb-49e4-8785-cee7494f4f7a":{"$contentActions":[{"action":{"$id":"20ad54af-3c8b-4960-a51c-f0d1f859e6af","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"d12e3ac0-58dc-4fab-8c5b-65044cfeb29a","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"d12e3ac0-58dc-4fab-8c5b-65044cfeb29a","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"ccda854e-c2a2-43a0-b31f-d77a88550ea9","$typeOfContent":"text","type":"SendMessage","settings":{"id":"d4251c30-f104-4eab-a29b-9a55b769fe1a","type":"text/plain","content":"A lubrificação adequada é essencial para garantir a longevidade e o desempenho do seu motor.\n\n{{n1}}Verificar regularmente o nível de óleo é fundamental, pois a falta de óleo pode danificar o motor e gerar custosas despesas de manutenção.{{n2}}\n\nA frequência da troca de óleo deve seguir o manual do proprietário, considerando o tipo de uso. \n\n⚠️ Uso urbano, com paradas frequentes e altas temperaturas, exige trocas mais frequentes.\n\nCom o tempo e quilometragem, o óleo perde suas propriedades lubrificantes, e as partículas do desgaste do motor se acumulam no filtro de óleo, que também deve ser substituído junto com o óleo.\n\nTrabalhamos com as melhores marcas de óleo lubrificante {{n1}}Castrol, Selenia, Elaion, Maxx{{n2}} e você pode ter a tranquilidade que será aplicado o produto contratado. Aqui você não leva \"gato por lebre\".","metadata":{}},"$cardContent":{"document":{"id":"d4251c30-f104-4eab-a29b-9a55b769fe1a","type":"text/plain","content":"A lubrificação adequada é essencial para garantir a longevidade e o desempenho do seu motor.\n\n{{n1}}Verificar regularmente o nível de óleo é fundamental, pois a falta de óleo pode danificar o motor e gerar custosas despesas de manutenção.{{n2}}\n\nA frequência da troca de óleo deve seguir o manual do proprietário, considerando o tipo de uso. \n\n⚠️ Uso urbano, com paradas frequentes e altas temperaturas, exige trocas mais frequentes.\n\nCom o tempo e quilometragem, o óleo perde suas propriedades lubrificantes, e as partículas do desgaste do motor se acumulam no filtro de óleo, que também deve ser substituído junto com o óleo.\n\nTrabalhamos com as melhores marcas de óleo lubrificante {{n1}}Castrol, Selenia, Elaion, Maxx{{n2}} e você pode ter a tranquilidade que será aplicado o produto contratado. Aqui você não leva \"gato por lebre\"."},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"d1f34960-965b-4eae-9b81-7bb2c78e43ea","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"0509fd66-2317-45de-9d94-95fdc8c1ccea","typeOfStateId":"state","$connId":"con_118","$id":"17660f43-6974-4cdc-a26d-87441419214e","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"17158d7b-ad8f-4a9f-9196-13c0f47647fc","$typeOfContent":"","type":"TrackEvent","$title":"troca oleo exibicao","$invalid":false,"settings":{"extras":{},"category":"troca oleo exibicao","action":"exibicao"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"0509fd66-2317-45de-9d94-95fdc8c1ccea","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"background":"#61D36F","label":"Event tracking","id":"blip-tag-ed2ab0b6-d476-fa9f-0ed2-e09dd9fec033","canChangeBackground":false}],"id":"921e6d34-75fb-49e4-8785-cee7494f4f7a","root":false,"$title":"[SE.0.0.6] Troca de óleo","$position":{"top":"573px","left":"375px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"be773dfa-b873-4851-8c87-f55eb820b90f":{"$contentActions":[{"action":{"$id":"20ad54af-3c8b-4960-a51c-f0d1f859e6af","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"d12e3ac0-58dc-4fab-8c5b-65044cfeb29a","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"d12e3ac0-58dc-4fab-8c5b-65044cfeb29a","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"ccda854e-c2a2-43a0-b31f-d77a88550ea9","$typeOfContent":"text","type":"SendMessage","settings":{"id":"d4251c30-f104-4eab-a29b-9a55b769fe1a","type":"text/plain","content":"{{n1}}Você sabe cuidar bem do motor do carro?{{n2}}\n\nPara evitar danos e reparos desnecessários no seu veiculo, é fundamental realizar a troca da correia dentada – respeitando sempre as recomendações do manual de cada veiculo.\n\nNormalmente, a recomendação é feita para cada 3 anos ou 50.000km \n\nNossa equipe de especialistas esta apta a efetuar a troca deste componente respeitando os procedimentos e utilizando o ferramental adequado para cada motorização. ","metadata":{}},"$cardContent":{"document":{"id":"d4251c30-f104-4eab-a29b-9a55b769fe1a","type":"text/plain","content":"{{n1}}Você sabe cuidar bem do motor do carro?{{n2}}\n\nPara evitar danos e reparos desnecessários no seu veiculo, é fundamental realizar a troca da correia dentada – respeitando sempre as recomendações do manual de cada veiculo.\n\nNormalmente, a recomendação é feita para cada 3 anos ou 50.000km \n\nNossa equipe de especialistas esta apta a efetuar a troca deste componente respeitando os procedimentos e utilizando o ferramental adequado para cada motorização. "},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"d1f34960-965b-4eae-9b81-7bb2c78e43ea","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"0509fd66-2317-45de-9d94-95fdc8c1ccea","typeOfStateId":"state","$connId":"con_123","$id":"17660f43-6974-4cdc-a26d-87441419214e","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"17158d7b-ad8f-4a9f-9196-13c0f47647fc","$typeOfContent":"","type":"TrackEvent","$title":"correia dentada exibicao","$invalid":false,"settings":{"extras":{},"category":"correia dentada exibicao","action":"exibicao"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"0509fd66-2317-45de-9d94-95fdc8c1ccea","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"background":"#61D36F","label":"Event tracking","id":"blip-tag-ed2ab0b6-d476-fa9f-0ed2-e09dd9fec033","canChangeBackground":false}],"id":"be773dfa-b873-4851-8c87-f55eb820b90f","root":false,"$title":"[SE.0.0.9] Correia dentada","$position":{"top":"576px","left":"569px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"268c1414-68c7-4257-9c45-7f3a4d642525":{"$contentActions":[{"action":{"$id":"20ad54af-3c8b-4960-a51c-f0d1f859e6af","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"d12e3ac0-58dc-4fab-8c5b-65044cfeb29a","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"d12e3ac0-58dc-4fab-8c5b-65044cfeb29a","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"ccda854e-c2a2-43a0-b31f-d77a88550ea9","$typeOfContent":"text","type":"SendMessage","settings":{"id":"d4251c30-f104-4eab-a29b-9a55b769fe1a","type":"text/plain","content":"Percebendo perda de potência ou um aumento no consumo de combustível em seu veículo?\nIsso pode ser resultado do desgaste da embreagem.\n\n{{n1}}A embreagem é responsável por transmitir a força do motor para a caixa de câmbio e demais componentes do sistema de transmissão.{{n2}}\n\nSe ficou com dúvidas, não hesite. \n\nTraga o seu veículo para nossos especialistas analisarem e, se necessário, efetuar a substituição da embreagem, melhorando o desempenho do seu automóvel.","metadata":{}},"$cardContent":{"document":{"id":"d4251c30-f104-4eab-a29b-9a55b769fe1a","type":"text/plain","content":"Percebendo perda de potência ou um aumento no consumo de combustível em seu veículo?\nIsso pode ser resultado do desgaste da embreagem.\n\n{{n1}}A embreagem é responsável por transmitir a força do motor para a caixa de câmbio e demais componentes do sistema de transmissão.{{n2}}\n\nSe ficou com dúvidas, não hesite. \n\nTraga o seu veículo para nossos especialistas analisarem e, se necessário, efetuar a substituição da embreagem, melhorando o desempenho do seu automóvel."},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"d1f34960-965b-4eae-9b81-7bb2c78e43ea","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"0509fd66-2317-45de-9d94-95fdc8c1ccea","typeOfStateId":"state","$connId":"con_128","$id":"17660f43-6974-4cdc-a26d-87441419214e","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"17158d7b-ad8f-4a9f-9196-13c0f47647fc","$typeOfContent":"","type":"TrackEvent","$title":"embreagem exibicao","$invalid":false,"settings":{"extras":{},"category":"embreagem exibicao","action":"exibicao"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"0509fd66-2317-45de-9d94-95fdc8c1ccea","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"background":"#61D36F","label":"Event tracking","id":"blip-tag-ed2ab0b6-d476-fa9f-0ed2-e09dd9fec033","canChangeBackground":false}],"id":"268c1414-68c7-4257-9c45-7f3a4d642525","root":false,"$title":"[SE.0.1.7] Embreagem","$position":{"top":"718px","left":"178px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"00bc0e5a-5fda-49a6-abbc-31fcdb02b4dc":{"$contentActions":[{"action":{"$id":"20ad54af-3c8b-4960-a51c-f0d1f859e6af","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"d12e3ac0-58dc-4fab-8c5b-65044cfeb29a","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"d12e3ac0-58dc-4fab-8c5b-65044cfeb29a","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"ccda854e-c2a2-43a0-b31f-d77a88550ea9","$typeOfContent":"text","type":"SendMessage","settings":{"id":"d4251c30-f104-4eab-a29b-9a55b769fe1a","type":"text/plain","content":"A segurança dos passageiros depende do bom funcionamento do sistema de freio, que assegura paradas seguras e mantém o veículo estacionado quando necessário.\n\nSentindo vibração ou ouvindo ruídos ao pisar no freio? Não deixe isso passar despercebido.\n\nPara evitar surpresas desagradáveis, traga o seu veículo para um diagnóstico e avaliação da sua segurança.\n\nAlém da troca de pastilhas de freio, somos especializados em retificar discos de freio, trocar fluidos e realizar outras manutenções relacionadas ao sistema de freio. \n\n⚠️ {{n1}}Lembre-se:{{n2}} Potência não é nada sem controle.","metadata":{}},"$cardContent":{"document":{"id":"d4251c30-f104-4eab-a29b-9a55b769fe1a","type":"text/plain","content":"A segurança dos passageiros depende do bom funcionamento do sistema de freio, que assegura paradas seguras e mantém o veículo estacionado quando necessário.\n\nSentindo vibração ou ouvindo ruídos ao pisar no freio? Não deixe isso passar despercebido.\n\nPara evitar surpresas desagradáveis, traga o seu veículo para um diagnóstico e avaliação da sua segurança.\n\nAlém da troca de pastilhas de freio, somos especializados em retificar discos de freio, trocar fluidos e realizar outras manutenções relacionadas ao sistema de freio. \n\n⚠️ {{n1}}Lembre-se:{{n2}} Potência não é nada sem controle."},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"d1f34960-965b-4eae-9b81-7bb2c78e43ea","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"0509fd66-2317-45de-9d94-95fdc8c1ccea","typeOfStateId":"state","$connId":"con_133","$id":"17660f43-6974-4cdc-a26d-87441419214e","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"17158d7b-ad8f-4a9f-9196-13c0f47647fc","$typeOfContent":"","type":"TrackEvent","$title":"freio exibicao","$invalid":false,"settings":{"extras":{},"category":"freio exibicao","action":"exibicao"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"0509fd66-2317-45de-9d94-95fdc8c1ccea","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"background":"#61D36F","label":"Event tracking","id":"blip-tag-ed2ab0b6-d476-fa9f-0ed2-e09dd9fec033","canChangeBackground":false}],"id":"00bc0e5a-5fda-49a6-abbc-31fcdb02b4dc","root":false,"$title":"[SE.0.1.1] Freio","$position":{"top":"717px","left":"375px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"d3a49421-7072-4c73-b274-1813b3e3039d":{"$contentActions":[{"action":{"$id":"20ad54af-3c8b-4960-a51c-f0d1f859e6af","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"d12e3ac0-58dc-4fab-8c5b-65044cfeb29a","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"d12e3ac0-58dc-4fab-8c5b-65044cfeb29a","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"ccda854e-c2a2-43a0-b31f-d77a88550ea9","$typeOfContent":"text","type":"SendMessage","settings":{"id":"d4251c30-f104-4eab-a29b-9a55b769fe1a","type":"text/plain","content":"O ar-condicionado é um item imprescindível para enfrentar o trânsito pesado e nossas altas temperaturas. \n\nFungos, ácaros e bactérias se acumulam no filtro do sistema de ar condicionado e evaporador, podendo causar não só a obstrução dos tubos da câmara de refrigeração, mas também danos à saúde dos ocupantes do carro.\n \nO mau cheiro é um dos principais sinais que apontam a necessidade de limpeza do ar-condicionado automotivo.\n\nUtilizamos equipamentos de Oxi-Sanitização com gás Ozônio que tem o poder de eliminar maus odores provenientes de cigarro, mofo, animais, vômito, comidas e bebidas derramadas, entre outros, além de ajudar a inativar bactérias, fungos e vírus de vários tipos.\n\nA eficiência do ozônio contra mofo e fungos é comprovada por laudos técnicos.\n \n{{n1}}Faça a Sanitização e respire aliviado.{{n2}}","metadata":{}},"$cardContent":{"document":{"id":"d4251c30-f104-4eab-a29b-9a55b769fe1a","type":"text/plain","content":"O ar-condicionado é um item imprescindível para enfrentar o trânsito pesado e nossas altas temperaturas. \n\nFungos, ácaros e bactérias se acumulam no filtro do sistema de ar condicionado e evaporador, podendo causar não só a obstrução dos tubos da câmara de refrigeração, mas também danos à saúde dos ocupantes do carro.\n \nO mau cheiro é um dos principais sinais que apontam a necessidade de limpeza do ar-condicionado automotivo.\n\nUtilizamos equipamentos de Oxi-Sanitização com gás Ozônio que tem o poder de eliminar maus odores provenientes de cigarro, mofo, animais, vômito, comidas e bebidas derramadas, entre outros, além de ajudar a inativar bactérias, fungos e vírus de vários tipos.\n\nA eficiência do ozônio contra mofo e fungos é comprovada por laudos técnicos.\n \n{{n1}}Faça a Sanitização e respire aliviado.{{n2}}"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"d1f34960-965b-4eae-9b81-7bb2c78e43ea","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"0509fd66-2317-45de-9d94-95fdc8c1ccea","typeOfStateId":"state","$connId":"con_138","$id":"17660f43-6974-4cdc-a26d-87441419214e","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"17158d7b-ad8f-4a9f-9196-13c0f47647fc","$typeOfContent":"","type":"TrackEvent","$title":"higiene ar condicionado exibicao","$invalid":false,"settings":{"extras":{},"category":"higiene ar condicionado exibicao","action":"exibicao"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"0509fd66-2317-45de-9d94-95fdc8c1ccea","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"background":"#61D36F","label":"Event tracking","id":"blip-tag-ed2ab0b6-d476-fa9f-0ed2-e09dd9fec033","canChangeBackground":false}],"id":"d3a49421-7072-4c73-b274-1813b3e3039d","root":false,"$title":"[SE.0.1.2] Higiene ar-condicionado","$position":{"top":"717px","left":"568px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"780c22c7-f7e5-4d73-bf40-34f8b67b28cc":{"$contentActions":[{"action":{"$id":"20ad54af-3c8b-4960-a51c-f0d1f859e6af","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"d12e3ac0-58dc-4fab-8c5b-65044cfeb29a","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"d12e3ac0-58dc-4fab-8c5b-65044cfeb29a","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"ccda854e-c2a2-43a0-b31f-d77a88550ea9","$typeOfContent":"text","type":"SendMessage","settings":{"id":"d4251c30-f104-4eab-a29b-9a55b769fe1a","type":"text/plain","content":"Problemas na injeção eletrônica nem sempre são fáceis de detectar, pois muitas vezes o veículo continua funcionando aparentemente normalmente.\n\nSe a luz de injeção eletrônica no painel do carro acender, é aconselhável procurar assistência e rastrear o seu veículo.\n\n{{n1}}Na Pneus Nacional, oferecemos o serviço de Rastreamento da Injeção Eletrônica.{{n2}}\n\nCom este diagnóstico, identificamos a manutenção necessária para resolver qualquer irregularidade representada pela luz acesa no painel do seu carro.","metadata":{}},"$cardContent":{"document":{"id":"d4251c30-f104-4eab-a29b-9a55b769fe1a","type":"text/plain","content":"Problemas na injeção eletrônica nem sempre são fáceis de detectar, pois muitas vezes o veículo continua funcionando aparentemente normalmente.\n\nSe a luz de injeção eletrônica no painel do carro acender, é aconselhável procurar assistência e rastrear o seu veículo.\n\n{{n1}}Na Pneus Nacional, oferecemos o serviço de Rastreamento da Injeção Eletrônica.{{n2}}\n\nCom este diagnóstico, identificamos a manutenção necessária para resolver qualquer irregularidade representada pela luz acesa no painel do seu carro."},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"d1f34960-965b-4eae-9b81-7bb2c78e43ea","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"0509fd66-2317-45de-9d94-95fdc8c1ccea","typeOfStateId":"state","$connId":"con_143","$id":"17660f43-6974-4cdc-a26d-87441419214e","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"17158d7b-ad8f-4a9f-9196-13c0f47647fc","$typeOfContent":"","type":"TrackEvent","$title":"injecao eletronica exibicao","$invalid":false,"settings":{"extras":{},"category":"injecao eletronica exibicao","action":"exibicao"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"0509fd66-2317-45de-9d94-95fdc8c1ccea","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"background":"#61D36F","label":"Event tracking","id":"blip-tag-ed2ab0b6-d476-fa9f-0ed2-e09dd9fec033","canChangeBackground":false}],"id":"780c22c7-f7e5-4d73-bf40-34f8b67b28cc","root":false,"$title":"[SE.0.1.3] Injeção eletrônica","$position":{"top":"854px","left":"178px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"f518e534-aec4-4478-92bf-74786a78b9f5":{"$contentActions":[{"action":{"$id":"20ad54af-3c8b-4960-a51c-f0d1f859e6af","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"d12e3ac0-58dc-4fab-8c5b-65044cfeb29a","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"d12e3ac0-58dc-4fab-8c5b-65044cfeb29a","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"ccda854e-c2a2-43a0-b31f-d77a88550ea9","$typeOfContent":"text","type":"SendMessage","settings":{"id":"d4251c30-f104-4eab-a29b-9a55b769fe1a","type":"text/plain","content":"O sistema de suspensão desempenha um papel fundamental em assegurar o conforto do veículo, absorvendo impactos e mantendo sua estabilidade.\n\nNossa equipe é altamente especializada em diagnóstico e reparo da suspensão de automóveis, caminhonetes e SUVs.\n\nSe você perceber qualquer ruído ou anormalidade, traga o seu veículo para um diagnóstico honesto. Isso não apenas evita que danos na suspensão prejudiquem o desempenho do seu veículo, mas também protege outros componentes do sistema de suspensão.","metadata":{}},"$cardContent":{"document":{"id":"d4251c30-f104-4eab-a29b-9a55b769fe1a","type":"text/plain","content":"O sistema de suspensão desempenha um papel fundamental em assegurar o conforto do veículo, absorvendo impactos e mantendo sua estabilidade.\n\nNossa equipe é altamente especializada em diagnóstico e reparo da suspensão de automóveis, caminhonetes e SUVs.\n\nSe você perceber qualquer ruído ou anormalidade, traga o seu veículo para um diagnóstico honesto. Isso não apenas evita que danos na suspensão prejudiquem o desempenho do seu veículo, mas também protege outros componentes do sistema de suspensão."},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"d1f34960-965b-4eae-9b81-7bb2c78e43ea","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"0509fd66-2317-45de-9d94-95fdc8c1ccea","typeOfStateId":"state","$connId":"con_148","$id":"17660f43-6974-4cdc-a26d-87441419214e","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"17158d7b-ad8f-4a9f-9196-13c0f47647fc","$typeOfContent":"","type":"TrackEvent","$title":"suspensao exibicao","$invalid":false,"settings":{"extras":{},"category":"suspensao exibicao","action":"exibicao"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"0509fd66-2317-45de-9d94-95fdc8c1ccea","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"background":"#61D36F","label":"Event tracking","id":"blip-tag-ed2ab0b6-d476-fa9f-0ed2-e09dd9fec033","canChangeBackground":false}],"id":"f518e534-aec4-4478-92bf-74786a78b9f5","root":false,"$title":"[SE.0.1.4] Suspensão","$position":{"top":"835px","left":"376px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"7ef3ac21-78b0-461d-bf47-2c076ab94507":{"$contentActions":[{"action":{"$id":"20ad54af-3c8b-4960-a51c-f0d1f859e6af","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"d12e3ac0-58dc-4fab-8c5b-65044cfeb29a","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"d12e3ac0-58dc-4fab-8c5b-65044cfeb29a","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"ccda854e-c2a2-43a0-b31f-d77a88550ea9","$typeOfContent":"text","type":"SendMessage","settings":{"id":"d4251c30-f104-4eab-a29b-9a55b769fe1a","type":"text/plain","content":"Na Pneus Nacional, oferecemos o serviço de montagem de pneus, incluindo aqueles adquiridos em lojas online ou supermercados (Pneus Automovel, Suv, Vans e Veículos Importados).\n\nNossa equipe cuidadosa realiza a instalação dos pneus nas rodas, assegurando a fixação correta.\n\nAlém disso, oferecemos serviços adicionais, como balanceamento e alinhamento, que estão disponíveis para nossos clientes conforme sua conveniência.","metadata":{}},"$cardContent":{"document":{"id":"d4251c30-f104-4eab-a29b-9a55b769fe1a","type":"text/plain","content":"Na Pneus Nacional, oferecemos o serviço de montagem de pneus, incluindo aqueles adquiridos em lojas online ou supermercados (Pneus Automovel, Suv, Vans e Veículos Importados).\n\nNossa equipe cuidadosa realiza a instalação dos pneus nas rodas, assegurando a fixação correta.\n\nAlém disso, oferecemos serviços adicionais, como balanceamento e alinhamento, que estão disponíveis para nossos clientes conforme sua conveniência."},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"d1f34960-965b-4eae-9b81-7bb2c78e43ea","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"0509fd66-2317-45de-9d94-95fdc8c1ccea","typeOfStateId":"state","$connId":"con_153","$id":"17660f43-6974-4cdc-a26d-87441419214e","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"17158d7b-ad8f-4a9f-9196-13c0f47647fc","$typeOfContent":"","type":"TrackEvent","$title":"montagem pneus exibicao","$invalid":false,"settings":{"extras":{},"category":"montagem pneus exibicao","action":"exibicao"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"0509fd66-2317-45de-9d94-95fdc8c1ccea","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"background":"#61D36F","label":"Event tracking","id":"blip-tag-ed2ab0b6-d476-fa9f-0ed2-e09dd9fec033","canChangeBackground":false}],"id":"7ef3ac21-78b0-461d-bf47-2c076ab94507","root":false,"$title":"[SE.0.1.5] Montagem de pneus","$position":{"top":"856px","left":"569px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"40717261-7163-4f85-b2a9-07764b4eeff0":{"$contentActions":[{"action":{"$id":"20ad54af-3c8b-4960-a51c-f0d1f859e6af","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"d12e3ac0-58dc-4fab-8c5b-65044cfeb29a","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"d12e3ac0-58dc-4fab-8c5b-65044cfeb29a","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"ccda854e-c2a2-43a0-b31f-d77a88550ea9","$typeOfContent":"text","type":"SendMessage","settings":{"id":"d4251c30-f104-4eab-a29b-9a55b769fe1a","type":"text/plain","content":"Consertamos seu pneu e prolongamos a sua vida útil.\n\n{{n1}}Somos especialistas neste serviço desde 1961 e destacamos:{{n2}}\n\nÉ importante saber que nem todos os danos podem ser reparados, e a segurança do veículo e dos ocupantes deve ser sempre priorizada.\n\nTemos profissionais qualificados que seguem as diretrizes estabelecidas para garantir a segurança e a integridade do pneu.","metadata":{}},"$cardContent":{"document":{"id":"d4251c30-f104-4eab-a29b-9a55b769fe1a","type":"text/plain","content":"Consertamos seu pneu e prolongamos a sua vida útil.\n\n{{n1}}Somos especialistas neste serviço desde 1961 e destacamos:{{n2}}\n\nÉ importante saber que nem todos os danos podem ser reparados, e a segurança do veículo e dos ocupantes deve ser sempre priorizada.\n\nTemos profissionais qualificados que seguem as diretrizes estabelecidas para garantir a segurança e a integridade do pneu."},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"d1f34960-965b-4eae-9b81-7bb2c78e43ea","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"0509fd66-2317-45de-9d94-95fdc8c1ccea","typeOfStateId":"state","$connId":"con_158","$id":"17660f43-6974-4cdc-a26d-87441419214e","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"17158d7b-ad8f-4a9f-9196-13c0f47647fc","$typeOfContent":"","type":"TrackEvent","$title":"conserto pneus exibicao","$invalid":false,"settings":{"extras":{},"category":"conserto pneus exibicao","action":"exibicao"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"0509fd66-2317-45de-9d94-95fdc8c1ccea","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"background":"#61D36F","label":"Event tracking","id":"blip-tag-ed2ab0b6-d476-fa9f-0ed2-e09dd9fec033","canChangeBackground":false}],"id":"40717261-7163-4f85-b2a9-07764b4eeff0","root":false,"$title":"[SE.0.1.6] Conserto de pneus","$position":{"top":"972px","left":"378px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"c5f144de-42a0-4d33-b28a-a1d243b54b13":{"$contentActions":[{"action":{"$id":"046b29e7-30bb-4d79-8092-5ef2704bd7a8","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"36c14b8e-f0c6-47ff-9668-b4f632959a11","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"36c14b8e-f0c6-47ff-9668-b4f632959a11","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"6c604e75-386f-4622-87f3-9b4b1a777f3b","$typeOfContent":"text","type":"SendMessage","settings":{"id":"d8100245-7fe5-46f1-ac72-fff59e6bdced","type":"text/plain","content":"Nossa equipe irá te atender.\n\n{{n1}}Por favor, aguarde.{{n2}} ⏳","metadata":{}},"$cardContent":{"document":{"id":"d8100245-7fe5-46f1-ac72-fff59e6bdced","type":"text/plain","content":"Nossa equipe irá te atender.\n\n{{n1}}Por favor, aguarde.{{n2}} ⏳"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"7cd000a7-9d3a-443f-b557-ebf032576970","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[{"$id":"4a0ba245-4db3-4bed-8557-e1fa1035181b","$typeOfContent":"","type":"TrackEvent","$title":"aviso transbordo servicos exibicao","$invalid":false,"settings":{"extras":{},"category":"aviso transbordo servicos exibicao","action":"exibicao"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"298d4178-2ba6-44f1-a49c-00f3beea487c","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"background":"#61D36F","label":"Event tracking","id":"blip-tag-ed2ab0b6-d476-fa9f-0ed2-e09dd9fec033","canChangeBackground":false}],"id":"c5f144de-42a0-4d33-b28a-a1d243b54b13","root":false,"$title":"[SE.0.0.3] Falar com atendente","$position":{"top":"1460px","left":"194px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"4756b63b-8e0e-4907-9d85-905edbe34569":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"72646539-edda-43cf-a60a-18773e5be1da","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"c5f144de-42a0-4d33-b28a-a1d243b54b13","typeOfStateId":"state","$connId":"con_163","$id":"625caee7-964a-4760-9dc4-fb8e5ea8d697","conditions":[{"source":"context","comparison":"equals","values":["WhatsApp"],"variable":"platform"}],"$invalid":false},{"stateId":"bae30145-bd0b-4e50-a880-07a4c38e6a64","typeOfStateId":"state","$connId":"con_168","$id":"3a652ba9-392f-4798-bf6c-75c5bcdaab60","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"bae30145-bd0b-4e50-a880-07a4c38e6a64","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[],"id":"4756b63b-8e0e-4907-9d85-905edbe34569","root":false,"$title":"[Router] Plataforma","$position":{"top":"1330px","left":"312px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"shape":"0 50% 0 50%","backgroundColor":"#bbdefb","textColor":"#000000"}},"27f4c628-11be-4cf0-ae90-d96ae971bac6":{"$contentActions":[{"action":{"$id":"73dbf7b9-c0d0-431f-980e-86a7a735cd58","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"3047035c-e4cc-4e9b-93fb-9b5b32713da8","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"3047035c-e4cc-4e9b-93fb-9b5b32713da8","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"c0c411e2-8f85-4762-a3f7-8809491f1b3b","$typeOfContent":"text","type":"SendMessage","settings":{"id":"dfd44a4c-746b-4aca-824d-b213d1865278","type":"text/plain","content":"{{n1}}E qual é o melhor telefone para contato?{{n2}}","metadata":{}},"$cardContent":{"document":{"id":"dfd44a4c-746b-4aca-824d-b213d1865278","type":"text/plain","content":"{{n1}}E qual é o melhor telefone para contato?{{n2}}"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"be996d59-606a-485c-bd73-cb31970b6f66","type":"text/plain","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"1:0"},"$invalid":false}],"$conditionOutputs":[{"stateId":"c5f144de-42a0-4d33-b28a-a1d243b54b13","typeOfStateId":"state","$connId":"con_173","$id":"c3169219-d610-4d8c-9f9d-fd9a0b6ca71f","conditions":[{"source":"context","comparison":"equals","values":["success"],"variable":"validInputJs@type"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"19b44b1c-95c2-4d6f-be90-4d0f0d3f8a6e","$typeOfContent":"","type":"TrackEvent","$title":"servicos telefone exibicao","$invalid":false,"settings":{"extras":{},"category":"servicos telefone exibicao","action":"Exibicao"},"conditions":[]}],"$leavingCustomActions":[{"$id":"2d7d504a-1a37-413b-a9f4-3ff28a09add7","$typeOfContent":"","type":"ExecuteScript","$title":"validInputJs","$invalid":false,"settings":{"function":"run","source":"// ============================================================================\n//      TYPE\n// ============================================================================\n// - reserved => quando há alguma palavra reservada que o bot deverá processar, \n// como SAIR E MENU por exemplo\n// - error => quando alguma validação deverá retornar um erro para cair em exceção\n// - success => quando a validação foi bem sucedida.\n// ============================================================================\n//      INPUT\n// ============================================================================\n// Retorna o input após processamento.\n// - Se type == error => o input será a descrição do erro. Ex: ERRO CEP\n// - Se type == success => o input será o input original processado.\n// ============================================================================\n//      VALIDATION\n// ============================================================================\n// Retorna em qual validação o input foi processado. Ex: cep\n// ============================================================================\n{{resource.FunctionProcessInput}}\n\nfunction run(input, inputType, platform, menu) {\n    try {\n\n        // =================================================================================\n        //             ATENÇÃO: MANIPULAR SOMENTE AS DUAS CONSTANTES A SEGUIR\n        // =================================================================================\n        // - validacaoMenu => true para validação de Menu, false para Input\n        // - validacoesInput => insira aqui que tipo de validação de input vai ser  \n        //   necessário (se mais de um for selecionado, apenas o mais acima será validado)\n        // - erroMenuEspecial => altere somente se, caso a validação seja um Menu e para\n        //   este menu haja um tratamento diferente de exceção.\n        // =================================================================================\n        const validacaoMenu = false;\n        const erroMenuEspecial = 'ERRO DINAMICO';\n        const validacoesInput = {\n            telefone: true\n        };\n        // ========================================================================\n\n        // Inicia o objeto que será retornado pela função\n        let processedInput = {\n            'type': null,\n            'input': null,\n            'validation': 'none'\n        }\n\n        // Verifica se o usuário digitou SAIR ou MENU\n        if (input == 'sair' || input == 'SAIR' || input == 'Sair') {\n            processedInput.type = 'reserved'\n            processedInput.input = 'SAIR'\n            return JSON.stringify(processedInput)\n        } else if (input == 'voltar' || input == 'VOLTAR' || input == 'Menu' || input == 'Voltar' || input == 'menu' || input == 'MENU') {\n            processedInput.type = 'reserved'\n            processedInput.input = 'VOLTAR'\n            return JSON.stringify(processedInput)\n        }\n\n        // Formata variáveis\n        menu = JSON.parse(menu);\n        platform = platform.toUpperCase()\n\n        if (validacaoMenu) {\n            // Validação de MENU\n            processedInput = validaMenu(input, menu, platform)\n\n            // Verifica se precisa mudar a mensagem de erro do Menu Dinâmico para o Especial\n            if ((processedInput.input == 'ERRO DINAMICO' || processedInput.input == 'ERRO NUMERICO') && erroMenuEspecial != '') {\n                processedInput.input = erroMenuEspecial; \n            }\n            return JSON.stringify(processedInput);\n\n        } else {\n            // Validação de INPUT\n            const val = Object.entries(validacoesInput);\n            processedInput = validaInput(val, input, inputType)\n\n            // Se nenhuma validação foi processada, retorna o input sem validação\n            if (processedInput.input == 'INPUT SEM VALIDAÇÕES') {\n                return JSON.stringify({type: 'success', input: input, validation: 'none'});\n\n            } else {\n                return JSON.stringify(processedInput);\n            }\n        }\n\n    } catch (e) {\n        return {type: 'error', input: 'ERRO INESPERADO', validation: 'none'}\n    }\n}","inputVariables":["input.content","input.type","platform","inputOptionJs"],"outputVariable":"validInputJs","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"ca0780fb-4590-4991-b281-fda1d115b2b6","$typeOfContent":"","type":"TrackEvent","$title":"servicos telefone input","$invalid":false,"settings":{"extras":{},"category":"servicos telefone input","action":"{{validInputJs@input}}"},"conditions":[{"source":"context","comparison":"equals","values":["success"],"variable":"validInputJs@type"},{"source":"input","comparison":"exists","values":[]}]},{"$id":"66155932-cd0b-4c34-9628-39d25d459551","$typeOfContent":"","type":"TrackEvent","$title":"servicos telefone inesperado","$invalid":false,"settings":{"extras":{},"category":"servicos telefone inesperado","action":"{{input.content}}"},"conditions":[{"source":"input","comparison":"exists","values":[]},{"source":"context","comparison":"equals","variable":"validInputJs@type","values":["error","reserved"]}]},{"$id":"7e8a0258-b590-4e06-89f5-389601bc1300","$typeOfContent":"","type":"SetVariable","$title":"hideInputText [false]","$invalid":false,"settings":{"variable":"hideInputText","value":"false"},"conditions":[]},{"$id":"646bac99-51c3-4d90-a4a3-4d4a71cd6766","$typeOfContent":"","type":"MergeContact","$title":"Telefone","$invalid":false,"settings":{"extras":{},"phoneNumber":"{{validInputJs@input}}"},"conditions":[{"values":["success"],"source":"context","comparison":"equals","variable":"validInputJs@type"}]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false,"typeOfStateId":"state"},"$tags":[{"background":"#61D36F","label":"Event tracking","id":"blip-tag-c54b55c8-285f-be44-167f-ddb9370efbe9","canChangeBackground":false},{"background":"#FFEC03","label":"userInput","id":"blip-tag-59565120-de68-cdcc-653c-94c14e2b5e9e","canChangeBackground":false},{"background":"#FF961E","label":"ExecuteScript","id":"blip-tag-4cffa4e2-3244-409f-90a7-9fff4b556eb1","canChangeBackground":false},{"background":"#7762E3","label":"Set Contact","id":"blip-tag-62378edf-474b-e74d-63f3-d12b9ca249fc","canChangeBackground":false}],"id":"27f4c628-11be-4cf0-ae90-d96ae971bac6","$title":"[SE.0.0.5] [INPUT] Telefone","$position":{"top":"1612px","left":"478px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"isAiGenerated":false},"ac42675a-5e72-47ca-952c-16dbb3cdab41":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"bae05987-dc5c-4ac1-8276-2527b967871c","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[{"$id":"0493e5f8-a17f-4d75-81c0-20c49edcdc85","$typeOfContent":"","type":"ExecuteScript","$title":"destination","$invalid":false,"settings":{"function":"run","source":"function run() {\n\n  return 'pesquisa';\n}","inputVariables":[],"outputVariable":"destination","LocalTimeZoneEnabled":false},"conditions":[{"source":"context","comparison":"equals","variable":"validInputJs@type","values":["success"]}]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"a9639756-525b-46c7-b181-8d5c6ca57a74","$invalid":false,"typeOfStateId":"state"},"$tags":[{"background":"#3A4A65","label":"GO TO","id":"blip-tag-bb8e8b45-c8b0-9b29-6cd8-fee9ba6347db","canChangeBackground":false}],"id":"ac42675a-5e72-47ca-952c-16dbb3cdab41","root":false,"$title":"[GO TO] Pesquisa","$position":{"top":"1231px","left":"824px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#fff9c4","textColor":"#000000","commentsIdList":[]},"isAiGenerated":false},"556c434f-4e7f-46d6-ad5d-33960a7ae4fa":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"aa73fb47-4f8f-4eb3-aaf5-1594ff04c41f","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"40717261-7163-4f85-b2a9-07764b4eeff0","typeOfStateId":"state","$connId":"con_178","$id":"b48c78aa-6fcb-4580-abf1-bf240751e621","conditions":[{"source":"context","comparison":"equals","values":["Conserto de pneus"],"variable":"validaIcebreakers@dados_identificados.servico"}],"$invalid":false},{"stateId":"7ef3ac21-78b0-461d-bf47-2c076ab94507","typeOfStateId":"state","$connId":"con_183","$id":"f78eb9a2-9024-4de4-be1f-ab123b2229a4","conditions":[{"source":"context","comparison":"equals","values":["Montagem de Pneus"],"variable":"validaIcebreakers@dados_identificados.servico"}],"$invalid":false},{"stateId":"becab46e-0dd2-446a-8d00-1e1e07c5beba","typeOfStateId":"state","$connId":"con_188","$id":"33f0d836-5a23-42b1-ac6b-0e1999000e67","conditions":[{"source":"context","comparison":"equals","values":["Alinhamento e balanceamento"],"variable":"validaIcebreakers@dados_identificados.servico"}],"$invalid":false},{"stateId":"be773dfa-b873-4851-8c87-f55eb820b90f","typeOfStateId":"state","$connId":"con_193","$id":"4774ca10-e49a-4d94-8417-6373547b0b7e","conditions":[{"source":"context","comparison":"equals","values":["Correia dentada"],"variable":"validaIcebreakers@dados_identificados.servico"}],"$invalid":false},{"stateId":"268c1414-68c7-4257-9c45-7f3a4d642525","typeOfStateId":"state","$connId":"con_198","$id":"773e8e02-c96d-45f6-8748-bfd670131c78","conditions":[{"source":"context","comparison":"equals","values":["Embreagem"],"variable":"validaIcebreakers@dados_identificados.servico"}],"$invalid":false},{"stateId":"00bc0e5a-5fda-49a6-abbc-31fcdb02b4dc","typeOfStateId":"state","$connId":"con_203","$id":"6bdf8334-24e6-4402-ba6e-315b3a2dfc35","conditions":[{"source":"context","comparison":"equals","values":["Freio"],"variable":"validaIcebreakers@dados_identificados.servico"}],"$invalid":false},{"stateId":"d3a49421-7072-4c73-b274-1813b3e3039d","typeOfStateId":"state","$connId":"con_208","$id":"f636db39-0771-492b-b414-5cca6c7d97a1","conditions":[{"source":"context","comparison":"equals","values":["Higienização do ar condicionado"],"variable":"validaIcebreakers@dados_identificados.servico"}],"$invalid":false},{"stateId":"780c22c7-f7e5-4d73-bf40-34f8b67b28cc","typeOfStateId":"state","$connId":"con_213","$id":"6d17a4c6-3473-447d-a33a-fd10638367eb","conditions":[{"source":"context","comparison":"equals","values":["Injeção eletrônica"],"variable":"validaIcebreakers@dados_identificados.servico"}],"$invalid":false},{"stateId":"f518e534-aec4-4478-92bf-74786a78b9f5","typeOfStateId":"state","$connId":"con_218","$id":"051731cd-ac93-45d1-aa42-0d5e0f902f7e","conditions":[{"source":"context","comparison":"equals","values":["Suspensão"],"variable":"validaIcebreakers@dados_identificados.servico"}],"$invalid":false},{"stateId":"921e6d34-75fb-49e4-8785-cee7494f4f7a","typeOfStateId":"state","$connId":"con_223","$id":"71916b8a-2640-40bf-b24a-f9c591c23224","conditions":[{"source":"context","comparison":"equals","values":["Troca de óleo"],"variable":"validaIcebreakers@dados_identificados.servico"}],"$invalid":false},{"stateId":"555faa4d-d152-4237-8145-2cdc8b2e2b7c","typeOfStateId":"state","$connId":"con_228","$id":"2fc1840d-a8c1-4b86-9785-abacddf1f3e4","conditions":[{"source":"context","comparison":"equals","values":["Manutenção Preventiva / Revisão para Viagem"],"variable":"validaIcebreakers@dados_identificados.servico"}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"08a4cf74-6174-4e82-8e39-c012939c432b","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"background":"#3A4A65","label":"GO TO","id":"blip-tag-bb8e8b45-c8b0-9b29-6cd8-fee9ba6347db","canChangeBackground":false}],"id":"556c434f-4e7f-46d6-ad5d-33960a7ae4fa","root":false,"$title":"[GO TO] Icebreaker","$position":{"top":"312px","left":"812px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false,"addonsSettings":{"backgroundColor":"#fff9c4","textColor":"#000000"}},"555faa4d-d152-4237-8145-2cdc8b2e2b7c":{"$contentActions":[{"action":{"$id":"20ad54af-3c8b-4960-a51c-f0d1f859e6af","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"d12e3ac0-58dc-4fab-8c5b-65044cfeb29a","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"d12e3ac0-58dc-4fab-8c5b-65044cfeb29a","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"ccda854e-c2a2-43a0-b31f-d77a88550ea9","$typeOfContent":"text","type":"SendMessage","settings":{"id":"d4251c30-f104-4eab-a29b-9a55b769fe1a","type":"text/plain","content":"Na Pneus Nacional, oferecemos um serviço de manutenção preventiva que visa garantir a segurança e o desempenho do seu veículo.\n\nNossa equipe especializada realiza uma análise minuciosa de “parte” dos componentes críticos do seu automóvel, identificando desgastes decorrentes do uso.\n\nCom isso, proporcionamos a tranquilidade de saber que estamos cuidando bem do seu veículo, ajudando a prevenir surpresas desagradáveis na estrada.\n\nConte com os nossos serviços de manutenção preventiva para manter o seu automóvel em ótimas condições.","metadata":{}},"$cardContent":{"document":{"id":"d4251c30-f104-4eab-a29b-9a55b769fe1a","type":"text/plain","content":"Na Pneus Nacional, oferecemos um serviço de manutenção preventiva que visa garantir a segurança e o desempenho do seu veículo.\n\nNossa equipe especializada realiza uma análise minuciosa de “parte” dos componentes críticos do seu automóvel, identificando desgastes decorrentes do uso.\n\nCom isso, proporcionamos a tranquilidade de saber que estamos cuidando bem do seu veículo, ajudando a prevenir surpresas desagradáveis na estrada.\n\nConte com os nossos serviços de manutenção preventiva para manter o seu automóvel em ótimas condições."},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"d1f34960-965b-4eae-9b81-7bb2c78e43ea","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"0509fd66-2317-45de-9d94-95fdc8c1ccea","typeOfStateId":"state","$connId":"con_233","$id":"17660f43-6974-4cdc-a26d-87441419214e","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"17158d7b-ad8f-4a9f-9196-13c0f47647fc","$typeOfContent":"","type":"TrackEvent","$title":"manutencao preventiva exibicao","$invalid":false,"settings":{"extras":{},"category":"manutencao preventiva exibicao","action":"exibicao"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"0509fd66-2317-45de-9d94-95fdc8c1ccea","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"background":"#61D36F","label":"Event tracking","id":"blip-tag-ed2ab0b6-d476-fa9f-0ed2-e09dd9fec033","canChangeBackground":false}],"id":"555faa4d-d152-4237-8145-2cdc8b2e2b7c","root":false,"$title":"[SE.0.1.0] Manutenção Preventiva/Revisão p Viagem","$position":{"top":"860px","left":"761px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false}},"globalActions":{"$contentActions":[],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"74423562-3d0d-4063-be50-c19e4cd922ce","$typeOfContent":"","type":"ExecuteScript","$title":"SET lastStateWithInput","$invalid":false,"settings":{"function":"run","source":"function run(stateName, stateId, previousStateName = null, previousStateId = null, service) {\n    return {\n        name: stateName,\n        id: stateId,\n        previousName: previousStateName,\n        previousId: previousStateId,\n        service: service\n    }\n}","inputVariables":["state.name","state.id","state.previous.name","state.previous.id","service"],"outputVariable":"lastStateWithInput"},"conditions":[{"$$hashKey":"object:736","values":["[INPUT]"],"source":"context","comparison":"contains","variable":"state.name"}]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[],"id":"global-actions","$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false}}