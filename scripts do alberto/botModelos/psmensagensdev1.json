{"flow":{"onboarding":{"$contentActions":[{"input":{"bypass":false,"$cardContent":{"document":{"id":"a7a8b7ec-36ea-45e9-b63c-9284e7210beb","type":"text/plain","content":"Entrada do usu√°rio"},"editable":false,"deletable":false,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"welcome","conditions":[{"source":"input","comparison":"matches","values":[".*"]}],"$id":"ae12826c-bb26-4f82-ba15-1d3de66bf774","$connId":"con_3","$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[],"id":"onboarding","root":true,"$title":"In√≠cio","$position":{"top":"41px","left":"476px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"fallback":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"cf6283ae-7209-4a7d-9cc2-2b7b66ad0f7b","type":"text/plain","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"error","conditions":[{"source":"input","comparison":"matches","values":[".*"]}],"$id":"60d037ed-558a-4f4d-9a50-feadb2129744","$connId":"con_8","$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"$tags":[],"id":"fallback","$title":"Exce√ß√µes","$position":{"top":"161px","left":"136px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"welcome":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"b637123e-680a-4b7f-a9af-5a125c9f45f4","type":"text/plain","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false,"$$hashKey":"object:1264"}],"$conditionOutputs":[{"stateId":"5ca02763-104d-45aa-a2eb-933629a189c5","$connId":"con_13","$id":"af0ddacf-c469-4a90-9920-6c8cebcc0959","conditions":[{"source":"context","comparison":"equals","values":["Default"],"variable":"messageExcep","$$hashKey":"object:1326"}],"$invalid":false,"$$hashKey":"object:1289"},{"stateId":"96c9f2be-9c26-42c2-8480-694df7e82e82","$connId":"con_18","$id":"03819152-9e5e-4291-9f56-fdb431c67545","conditions":[{"source":"context","comparison":"equals","values":["Dados"],"variable":"messageExcep","$$hashKey":"object:1353"}],"$invalid":false,"$$hashKey":"object:1290"},{"stateId":"177fb872-6b48-44b7-89c8-0bf4154aae8d","$connId":"con_23","$id":"b234a65b-5be0-4b64-b0d5-8c701443d840","conditions":[{"source":"context","comparison":"equals","values":["Conteudos"],"variable":"messageExcep","$$hashKey":"object:1380"}],"$invalid":false,"$$hashKey":"object:1291"},{"stateId":"6224007d-03d9-4b91-b196-5451b7ae8e80","$connId":"con_28","$id":"17a2e45b-c10d-4b14-bc2e-8339d164bfe2","conditions":[{"source":"context","comparison":"equals","values":["Menu"],"variable":"messageExcep","$$hashKey":"object:1407"}],"$invalid":false,"$$hashKey":"object:1292"},{"stateId":"8884d9a7-4391-44a7-8b08-aee278883094","$connId":"con_33","$id":"33122a18-5a54-4c00-9c8e-2ea768904029","conditions":[{"source":"context","comparison":"equals","values":["API"],"variable":"messageExcep","$$hashKey":"object:1434"}],"$invalid":false,"$$hashKey":"object:1293"},{"stateId":"01886311-c23d-4ada-8f0d-f1d625831112","$connId":"con_38","$id":"814392b1-cfbc-4bc9-85bd-2ae12e9f7e05","conditions":[{"source":"context","comparison":"equals","values":["Login"],"variable":"messageExcep","$$hashKey":"object:1461"}],"$invalid":false,"$$hashKey":"object:1294"},{"stateId":"fe961f4d-66e6-4cab-8509-75f0e3013bac","$connId":"con_43","$id":"b9343956-3c8e-4f85-b2b9-b381f34e9fa2","conditions":[{"source":"context","comparison":"equals","values":["BadWord"],"variable":"messageExcep","$$hashKey":"object:1488"}],"$invalid":false,"$$hashKey":"object:1295"}],"$enteringCustomActions":[{"$id":"9f27ff80-3672-4d0a-ad97-da2416595828","$typeOfContent":"","type":"ExecuteScript","$title":"Type Message Exception","$invalid":false,"settings":{"function":"run","source":"const run = (newObj) => {\n    const messages = [\n        {\n            'exceptions': [\"Default\", \"Menu\", \"Intencao\", \"Dinamico\", \"Escolha\"],\n            'type': 'Default'\n        },\n        {\n            'exceptions': [\"Email\", \"Cep\", \"Telefone\", \"Celular\", \"CNPJ\", \"CNPJValido\", \"CPF\", \"CPFValido\", \"Quantidade\", \"Data\", \"NPS\", \"Endereco\", \"TextoLongos\", \"Nome\", \"Numero\", \"Serial\", \"Pedido\", \"Id\"],\n            'type': 'Dados'\n        },\n        {\n            'exceptions': [\"Emoticons\", \"Figurinhas\", \"Images\", \"Audios\", \"Videos\", \"Link\", \"Arquivos\", \"Contatos\"],\n            'type': 'Conteudos'\n        },\n        {\n            'exceptions': [\"Inativo\", \"Persistente\"],\n            'type': 'Menu'\n        },\n        {\n            'exceptions': [\"Error\", \"ErrorAPI\", \"ErrorContato\", \"ErrorTransbordo\", \"ErrorEmail\"],\n            'type': 'API'\n        },\n        {\n            \"exceptions\": [\"SwearWord\", \"Insult\", \"Preconception\", \"Depreciate\", \"Injury\", \"Prejudgement\"],\n            \"type\": 'BadWord'\n        },\n        {\n            'exceptions': [\"Login\", \"Deslogar\"],\n            'type': 'Login'\n        },\n        {\n            'exceptions': [\"Intent\"],\n            'type': 'Intent'\n        },\n    ];\n\n    return getTypeMessage(newObj, messages);\n};\n\nfunction getTypeMessage(obj, objMessages) {\n    let excecao = obj;\n    if (typeof obj === typeof toString()) {\n        excecao = JSON.parse(obj);\n    }\n\n    for (let i = 0; i < objMessages.length; i++) {\n        for (let j = 0; j < objMessages[i].exceptions.length; j++) {\n            if (excecao.stateDestination == objMessages[i].exceptions[j]) {\n                return objMessages[i].type;\n            }\n        }\n    }\n}","inputVariables":["objExcecao"],"LocalTimeZoneEnabled":false,"outputVariable":"messageExcep"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"768a207f-4f6e-48c6-bcab-4039a178b614","$invalid":false},"$tags":[{"background":"#FF6F1E","label":"ExecuteScript","id":"blip-tag-04e98f44-0340-209a-c01e-1f695637619f","canChangeBackground":false}],"id":"welcome","$title":"M.1.0.0 Identifica excecao","$position":{"top":"33px","left":"669px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"error":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"c6c18c36-51c2-4029-ab7b-1b01be13cd01","type":"text/plain","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[{"$id":"b587625e-fc1e-4269-b9ea-26bbb1115dac","$typeOfContent":"","type":"ExecuteScript","$title":"OBJEXCECAO","$invalid":false,"settings":{"function":"run","source":"{{resource.FunctionGetRedirectMessage}}\n\nconst run = (processedInput, lastStateWithInput, countException) => {\n    const destination = \"excecao\";\n    const origin = \"mensagens\";\n    return getRedirectMessage(destination, origin, processedInput, lastStateWithInput, countException);\n};","inputVariables":["processedInput","lastStateWithInput","countException"],"outputVariable":"objExcecao","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"0a86423b-0c72-4569-9345-cc35df20f6a3","$invalid":false},"$tags":[{"background":"#FF6F1E","label":"ExecuteScript","id":"blip-tag-04e98f44-0340-209a-c01e-1f695637619f","canChangeBackground":false}],"id":"error","$title":"[SET] Object Exception","$position":{"top":"259px","left":"136px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"a0843fcc-02b2-44e5-984f-5b6402175d1a":{"$contentActions":[{"action":{"$id":"11b13db1-07cc-4eb6-9ba5-fd95376a932c","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"95e577b8-271d-4857-8776-17afebd964cf","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"95e577b8-271d-4857-8776-17afebd964cf","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"35142500-9167-498e-b4ad-235fda6674ac","$typeOfContent":"raw-content","type":"SendRawMessage","settings":{"metadata":{},"type":"{{objMenu@type}}","rawContent":"{{objMenu@content}}"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"36f3a74e-d6c6-4a54-9d9c-3f4f82abff3d","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"2:0"},"$invalid":false}],"$conditionOutputs":[{"stateId":"646020ef-3130-4782-9087-4d53cd84278f","$connId":"con_48","$id":"5b29565d-8b86-472f-ab0b-c7dbe333f09d","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"4cb1a10c-9a6b-44e7-b12c-05c12a267e42","$typeOfContent":"","type":"ExecuteScript","$title":"DEFINIR MENU","$invalid":false,"settings":{"function":"run","source":"{{resource.FunctionGetMenu}}\n\nconst run = (platform, boldValue, italicValue) => {\n    let convertPlatform = platform.toLowerCase();\n    let convertBold = boldValue;\n    if (typeof boldValue === typeof toString()) {\n        convertBold = JSON.parse(boldValue);\n    }\n    let convertItalic = italicValue;\n    if (typeof italicValue === typeof toString()) {\n        convertItalic = JSON.parse(italicValue);\n    }\n\n    const default_msg = {\n        \"whatsapp\": {\n            \"button\": {\n                \"active\": true,\n                \"header\": '',\n                \"body\": 'Poxa... Parece que n√£o estou conseguindo entender o que voc√™ esta querendo. üòî',\n                \"options\": ['Tentar de novo', 'Finalizar'],\n                \"footer\": ''\n            },\n            \"list\": {\n                \"active\": false,\n                \"header\": '',\n                \"body\": '',\n                \"button\": '',\n                \"title\": '',\n                \"options\": [],\n                \"description\": [],\n                \"footer\": ''\n            },\n            \"template\": {\n                \"active\": false,\n                \"codeTemplate\": \"\",\n                \"nameTemplate\": \"\",\n                \"idiomTemplate\": \"pt_BR\"\n            },\n            \"image\": {\n                \"active\": false,\n                \"url\": '',\n                \"body\": '',\n                \"options\": [],\n                \"footer\": ''\n            }\n        },\n        \"blipchat\": {\n            \"quickReplay\": {\n                \"active\": false,\n                \"addNumber\": false,\n                \"separated\": \"\",\n                \"text\": '',\n                \"options\": [],\n                \"values\": []\n            },\n            \"menu\": {\n                \"active\": true,\n                \"addNumber\": false,\n                \"separated\": \"\",\n                \"text\": 'Poxa... Parece que n√£o estou conseguindo entender o que voc√™ esta querendo. üòî',\n                \"options\": ['Tentar de novo', 'Finalizar'],\n                \"values\": ['Tentar de novo', 'Finalizar']\n            }\n        },\n        \"default\": {\n            \"text\": {\n                \"active\": false,\n                \"addNumber\": true,\n                \"separated\": \"\",\n                \"text\": '',\n                \"options\": []\n            },\n            \"textMenu\": {\n                \"active\": false,\n                \"addNumber\": true,\n                \"separated\": \"\",\n                \"text\": '',\n                \"init\": 0,\n                \"options\": [],\n                \"subMenu\": []\n            }\n        },\n        \"config\": {\n            \"platform\": convertPlatform,\n            \"activeBold\": true,\n            \"boldValue\": convertBold,\n            \"activereplaceBold\": true,\n            \"replaceBold\": {\n                \"open\": \"%%%\",\n                \"close\": \"@@@\"\n            },\n            \"activeItalic\": false,\n            \"italicValue\": convertItalic,\n            \"activereplaceItalic\": false,\n            \"replaceItalic\": {\n                \"open\": \"###\",\n                \"close\": \"&&&\"\n            },\n            \"BreakLine\": '\\n',\n            \"replaceBreakLine\": '---',\n            \"replaceToBreakLine\": '___'\n        }\n    };\n\n    return getMenuForPlatform(default_msg);\n};","inputVariables":["platform","boldValue","italicValue"],"outputVariable":"objMenu","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"646020ef-3130-4782-9087-4d53cd84278f","$invalid":false},"$tags":[{"background":"#FF6F1E","label":"ExecuteScript","id":"blip-tag-04e98f44-0340-209a-c01e-1f695637619f","canChangeBackground":false},{"background":"#B2B229","label":"Menu","id":"blip-tag-e3d38186-9649-bb13-1c3c-4a1a2ca8c911","canChangeBackground":false},{"background":"#CC99FF","label":"UserInput","id":"blip-tag-a135d488-0fbf-29bd-714f-f3388ee2d198","canChangeBackground":false}],"id":"a0843fcc-02b2-44e5-984f-5b6402175d1a","root":false,"$title":"M.1.2.0 X.2 Erro persistente","$position":{"top":"866px","left":"452px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"74246fea-d6e7-41e4-99ab-57233ab27c78":{"$contentActions":[{"action":{"$id":"2ad58ec3-049f-40ed-8e76-5e6d98ab8e9c","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"9e958d17-95e2-4505-b738-62e8be93d94d","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"9e958d17-95e2-4505-b738-62e8be93d94d","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"7884166c-366b-43fb-9bbe-f8859975f291","$typeOfContent":"text","type":"SendMessage","settings":{"id":"1a4f46d3-d007-40a9-adf6-ced1b4d19ee7","type":"text/plain","content":"{{messageExcep}}","metadata":{}},"$cardContent":{"document":{"id":"1a4f46d3-d007-40a9-adf6-ced1b4d19ee7","type":"text/plain","content":"{{messageExcep}}"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"d47c3fae-f6b9-4d31-8abc-5a8fac695c6f","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"6abb18bd-6ce9-49ec-a900-5a6d14b09deb","$connId":"con_53","$id":"8448367b-723c-4541-b896-0bdb50a1dc3a","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"9167809c-cf65-465e-84c0-f08f2482248d","$invalid":false},"$tags":[],"id":"74246fea-d6e7-41e4-99ab-57233ab27c78","root":false,"$title":"M.1.1.0 X.1","$position":{"top":"362px","left":"424px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"69d84b61-bffd-471d-9e22-ac3879ee29d4":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"f76c15be-8512-41cc-a838-8d400522672d","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"8dfa4706-64fd-42eb-b221-eb481e89716e","$typeOfContent":"","type":"Redirect","$title":"Redirecionar a um servi√ßo","$invalid":false,"settings":{"context":{"type":"text/plain","value":"nota"},"address":"nota"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"$tags":[{"background":"#61D36F","label":"Redirect","id":"blip-tag-10de53c4-a196-b5f9-19ba-56a89724aef9","canChangeBackground":false}],"id":"69d84b61-bffd-471d-9e22-ac3879ee29d4","root":false,"$title":"[REDIRECT TO] NPS","$position":{"top":"941px","left":"142px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"69f0139b-f8eb-48a3-932b-290493cbfa2c":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"9b906842-c6db-4a60-91b3-9519ee075b7a","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"2f25fea3-1d4b-426c-88f9-6854d79a8619","$typeOfContent":"","type":"Redirect","$title":"Redirecionar a um servi√ßo","$invalid":false,"settings":{"context":{"type":"text/plain","value":"{{objExcecao}}"},"address":"{{objExcecao@origin}}"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"$tags":[{"background":"#61D36F","label":"Redirect","id":"blip-tag-10de53c4-a196-b5f9-19ba-56a89724aef9","canChangeBackground":false}],"id":"69f0139b-f8eb-48a3-932b-290493cbfa2c","root":false,"$title":"[REDIRECT TO] Menu principal","$position":{"top":"796px","left":"145px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"67f28177-4bb0-46cb-bbaf-482d3a2ee995":{"$contentActions":[{"action":{"$id":"d607b24d-5037-4b02-bdcb-73188d29767f","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"ace0c3e7-0ef8-4940-8445-28b8e9a32e78","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"ace0c3e7-0ef8-4940-8445-28b8e9a32e78","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"2d4cc65c-3ada-4ac3-aea1-0b7be48a2a64","$typeOfContent":"raw-content","type":"SendRawMessage","settings":{"metadata":{},"type":"{{objMenu@type}}","rawContent":"{{objMenu@content}}"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"d47c3fae-f6b9-4d31-8abc-5a8fac695c6f","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"0:15"},"$invalid":false}],"$conditionOutputs":[{"stateId":"00ef576c-2dc4-468c-bbc4-3ff6243a009e","$connId":"con_58","$id":"eed5c9f8-9195-4c57-a5ba-f6602186b927","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"2699f46d-a619-4d11-bdb6-9821b5a816fe","$typeOfContent":"","type":"ExecuteScript","$title":"DEFINIR MENU","$invalid":false,"settings":{"function":"run","source":"{{resource.FunctionGetMenu}}\n\nconst run = (platform, boldValue, italicValue) => {\n    let convertPlatform = platform.toLowerCase();\n    let convertBold = boldValue;\n    if (typeof boldValue === typeof toString()) {\n        convertBold = JSON.parse(boldValue);\n    }\n    let convertItalic = italicValue;\n    if (typeof italicValue === typeof toString()) {\n        convertItalic = JSON.parse(italicValue);\n    }\n\n    const default_msg = {\n        \"whatsapp\": {\n            \"button\": {\n                \"active\": true,\n                \"header\": '',\n                \"body\": 'Vi que voc√™ parou de responder...___N√£o deseja continuar com a solicita√ß√£o?',\n                \"options\": ['Continuar', 'Finalizar'],\n                \"footer\": ''\n            },\n            \"list\": {\n                \"active\": false,\n                \"header\": '',\n                \"body\": '',\n                \"button\": '',\n                \"title\": '',\n                \"options\": [],\n                \"description\": [],\n                \"footer\": ''\n            },\n            \"template\": {\n                \"active\": false,\n                \"codeTemplate\": \"\",\n                \"nameTemplate\": \"\",\n                \"idiomTemplate\": \"pt_BR\"\n            },\n            \"image\": {\n                \"active\": false,\n                \"url\": '',\n                \"body\": '',\n                \"options\": [],\n                \"footer\": ''\n            }\n        },\n        \"blipchat\": {\n            \"quickReplay\": {\n                \"active\": false,\n                \"addNumber\": false,\n                \"separated\": \"\",\n                \"text\": '',\n                \"options\": [],\n                \"values\": []\n            },\n            \"menu\": {\n                \"active\": true,\n                \"addNumber\": false,\n                \"separated\": \"\",\n                \"text\": 'Vi que voc√™ parou de responder...___N√£o deseja continuar com a solicita√ß√£o?',\n                \"options\": ['Continuar', 'Finalizar'],\n                \"values\": ['Continuar', 'Finalizar']\n            }\n        },\n        \"default\": {\n            \"text\": {\n                \"active\": false,\n                \"addNumber\": true,\n                \"separated\": \"\",\n                \"text\": '',\n                \"options\": []\n            },\n            \"textMenu\": {\n                \"active\": false,\n                \"addNumber\": true,\n                \"separated\": \"\",\n                \"text\": '',\n                \"init\": 0,\n                \"options\": [],\n                \"subMenu\": []\n            }\n        },\n        \"config\": {\n            \"platform\": convertPlatform,\n            \"activeBold\": false,\n            \"boldValue\": convertBold,\n            \"activereplaceBold\": false,\n            \"replaceBold\": {\n                \"open\": \"%%%\",\n                \"close\": \"@@@\"\n            },\n            \"activeItalic\": false,\n            \"italicValue\": convertItalic,\n            \"activereplaceItalic\": false,\n            \"replaceItalic\": {\n                \"open\": \"###\",\n                \"close\": \"&&&\"\n            },\n            \"BreakLine\": '\\n',\n            \"replaceBreakLine\": '---',\n            \"replaceToBreakLine\": '___'\n        }\n    };\n\n    return getMenuForPlatform(default_msg);\n};","inputVariables":["platform","boldValue","italicValue"],"outputVariable":"objMenu","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"00ef576c-2dc4-468c-bbc4-3ff6243a009e","$invalid":false},"$tags":[{"background":"#B2B229","label":"Menu","id":"blip-tag-e3d38186-9649-bb13-1c3c-4a1a2ca8c911","canChangeBackground":false},{"background":"#FF6F1E","label":"ExecuteScript","id":"blip-tag-04e98f44-0340-209a-c01e-1f695637619f","canChangeBackground":false},{"background":"#CC99FF","label":"UserInput","id":"blip-tag-a135d488-0fbf-29bd-714f-f3388ee2d198","canChangeBackground":false}],"id":"67f28177-4bb0-46cb-bbaf-482d3a2ee995","root":false,"$title":"M.1.4.0 - Inatividade","$position":{"top":"870px","left":"817px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"a2e2448c-2ac6-40a4-9ac4-35502c79c02a":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"b637123e-680a-4b7f-a9af-5a125c9f45f4","type":"text/plain","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[{"$id":"133b8205-5054-4136-84a4-1f7415a2063a","$typeOfContent":"","type":"ExecuteScript","$title":"Retorno","$invalid":false,"settings":{"function":"run","source":"function run(excecao) {\n    return excecao.split(\"-\")[0]; \n}","inputVariables":["excessao"],"outputVariable":"retorno","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"0ecbb7b6-744c-48a7-b450-afc3468aef1b","$typeOfContent":"","type":"ExecuteScript","$title":"validar conteudo","$invalid":false,"settings":{"function":"run","source":"function run(content) {\n    \n    content = JSON.parse(content);\n    var phraseSuport;\n    if(content.type.includes(\"image\")){\n        phraseSuport = \"Desculpe, ainda n√£o sei processar imagens. Entendo apenas texto. üòâ\";\n    }\n    else if(content.type.includes(\"audio\")){\n        phraseSuport = \"Desculpe... ainda n√£o consigo entender arquivos de √°udio, mas podemos conversar por texto. üòâ\"\n    }\n    else if(content.type.includes(\"video\")){\n        phraseSuport = \"Desculpe, por enquanto n√£o consigo assistir v√≠deos üé•, mas voc√™ pode conversar comigo por texto. üòâ\"\n    }\n    else if(content.type.includes(\"pdf\")){\n        phraseSuport = \"Desculpe, ainda n√£o entendo este tipo de conte√∫do üìÑ. Por enquanto s√≥ consigo ler mensagens de texto. üòâ\"\n    }else if (/(\\u00a9|\\u00ae|[\\u2000-\\u3300]|\\ud83c[\\ud000-\\udfff]|\\ud83d[\\ud000-\\udfff]|\\ud83e[\\ud000-\\udfff])/.test(content)) {\n        phraseSuport = \"Desculpe, ainda n√£o consigo ler emojis ou figurinhas. Por enquanto, s√≥ mensagens de texto. üòâ\"\n    }\n    return phraseSuport;\n}","inputVariables":["input.content"],"outputVariable":"phraseSuport","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"f369b88b-7b45-477d-9f92-8dbbd38c839a","$typeOfContent":"","type":"ExecuteScript","$title":"Valida state","$invalid":false,"settings":{"function":"run","source":"function run(excecao) {\n    \nvar retorno = 'Erro persistente'\n    if(excecao == 'principal-inputCPF' || excecao == 'principal-cpfNaoCadastrado'){\n      retorno = 'erro cpf';\n    }else if(excecao == 'principal-menuCliente' || excecao == 'principal-cpfCadastrado'){\n      retorno = 'menu dinamico';\n    }else if(excecao == 'principal-opcaoDesejada' || excecao == ''){\n      retorno = 'menu estatico';\n    }\n    return retorno; \n}","inputVariables":["excecao"],"outputVariable":"direcionaErro","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"d627e9d8-d5f7-4840-b5ee-cf9204e20246","$typeOfContent":"","type":"ExecuteScript","$title":"Executar execessaoAnterior","$invalid":false,"settings":{"function":"run","source":"function run(excecao, excecaoAnterior) {\n    \n    var anterior = JSON.parse(excecaoAnterior);\n    if(anterior.excecao == excecao){\n       anterior.igual = true\n    }else{\n         anterior.excecao = excecao;\n         anterior.igual = false\n    }\n\n     return anterior;\n}","inputVariables":["excecao","excecaoAnterior"],"outputVariable":"execessaoAnterior","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"2e6ee1cd-9316-44c3-8f64-130a6e5daca9","$typeOfContent":"","type":"ExecuteScript","$title":"Count Error","$invalid":false,"settings":{"function":"run","source":"function run(erro, excecao, excecaoAnterior) {\n\n    var anterior = JSON.parse(excecaoAnterior);\n    if(anterior.igual == true){\n        erro++;\n    }else{\n        erro = 0\n    }\n\n    return erro; \n}","inputVariables":["erro","excessao","excecaoAnterior"],"outputVariable":"erro","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[{"background":"#FF1E90","label":"Http","id":"blip-tag-aefc1f19-48e4-67a4-2d7d-c973d302eaf5","canChangeBackground":false},{"background":"#167491","label":"Event","id":"blip-tag-7fdca123-c247-340f-96b0-96f4620c06eb","canChangeBackground":false},{"background":"#4F0E87","label":"SetContact","id":"blip-tag-f9943d94-9a3b-d32b-4181-d3fead0d17be","canChangeBackground":false},{"background":"#61D36F","label":"Redirect","id":"blip-tag-faafc359-f558-6880-b0c8-a73f06d80bcb","canChangeBackground":false},{"background":"#FF6F1E","label":"ExecuteScript","id":"blip-tag-13730057-a7af-4307-f591-44893325fd9e","canChangeBackground":false},{"background":"#FF4A1E","label":"SetVariable","id":"blip-tag-458cd3fe-cadf-f31e-cc42-66d836c74748","canChangeBackground":false},{"background":"#B2B229","label":"Menu","id":"blip-tag-e3d38186-9649-bb13-1c3c-4a1a2ca8c911","canChangeBackground":false},{"background":"#FFEC03","label":"GoTo","id":"blip-tag-acaeeeb9-8edb-b4f6-18b1-3ec3103da0c2","canChangeBackground":false},{"background":"#CC99FF","label":"UserInput","id":"blip-tag-a135d488-0fbf-29bd-714f-f3388ee2d198","canChangeBackground":false},{"background":"#6E7B91","label":"Medias","id":"blip-tag-fb3882d7-1587-f159-082b-d51beea5cced","canChangeBackground":false},{"background":"#0747A6","label":"ContentAssistant","id":"blip-tag-0309dd6a-9ac0-98cd-a3b3-273a80e31a6b","canChangeBackground":false},{"background":"#000000","label":"Mask","id":"blip-tag-60127e42-1743-43aa-aef5-84f0ac4c4e07"}],"id":"a2e2448c-2ac6-40a4-9ac4-35502c79c02a","$title":"Tags","$position":{"top":"18px","left":"138px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"1a67f7e8-4cd6-47c5-abf5-05a8a17d63c6":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"0e7a55ab-9791-432c-a08a-491c18126171","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"65dd7cef-60bd-4e13-983e-7f513e3adc83","$typeOfContent":"","type":"Redirect","$title":"Redirecionar a um servi√ßo","$invalid":false,"settings":{"context":{"type":"text/plain","value":"{{objExcecao}}"},"address":"{{objExcecao@origin}}"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"$tags":[{"background":"#61D36F","label":"Redirect","id":"blip-tag-10de53c4-a196-b5f9-19ba-56a89724aef9","canChangeBackground":false}],"id":"1a67f7e8-4cd6-47c5-abf5-05a8a17d63c6","root":false,"$title":"[REDIRECT TO] Solution","$position":{"top":"652px","left":"147px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"f2132a40-5d4c-4a5b-8091-a480b181de92":{"$contentActions":[{"action":{"$id":"7716fe19-ee29-4315-95b4-5035f847d36f","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"6738eabf-6779-4e47-8fbe-3f8b34ae2d5b","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"6738eabf-6779-4e47-8fbe-3f8b34ae2d5b","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"c8ca320f-4674-45d4-86e0-961b58f0a1bc","$typeOfContent":"raw-content","type":"SendRawMessage","settings":{"metadata":{},"type":"{{objMenu@type}}","rawContent":"{{objMenu@content}}"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"36f3a74e-d6c6-4a54-9d9c-3f4f82abff3d","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"expiration":"2:0"},"$invalid":false}],"$conditionOutputs":[{"stateId":"2a97a168-bd72-4ce6-8226-d5b08122ca78","$connId":"con_63","$id":"ba564818-9dc4-4006-850b-ab9ee00cd929","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"c57e688c-8566-4f6c-bf53-9547fb912bbc","$typeOfContent":"","type":"ExecuteScript","$title":"DEFINIR MENU","$invalid":false,"settings":{"function":"run","source":"{{resource.FunctionGetMenu}}\n\nconst run = (platform, boldValue, italicValue) => {\n    let convertPlatform = platform.toLowerCase();\n    let convertBold = boldValue;\n    if (typeof boldValue === typeof toString()) {\n        convertBold = JSON.parse(boldValue);\n    }\n    let convertItalic = italicValue;\n    if (typeof italicValue === typeof toString()) {\n        convertItalic = JSON.parse(italicValue);\n    }\n\n    const default_msg = {\n        \"whatsapp\": {\n            \"button\": {\n                \"active\": true,\n                \"header\": '',\n                \"body\": 'Poxa... Parece que n√£o estou conseguindo entender o que voc√™ esta querendo. üòî',\n                \"options\": ['Tentar de novo', 'Menu inicial', 'Finalizar'],\n                \"footer\": ''\n            },\n            \"list\": {\n                \"active\": false,\n                \"header\": '',\n                \"body\": '',\n                \"button\": '',\n                \"title\": '',\n                \"options\": [],\n                \"description\": [],\n                \"footer\": ''\n            },\n            \"template\": {\n                \"active\": false,\n                \"codeTemplate\": \"\",\n                \"nameTemplate\": \"\",\n                \"idiomTemplate\": \"pt_BR\"\n            },\n            \"image\": {\n                \"active\": false,\n                \"url\": '',\n                \"body\": '',\n                \"options\": [],\n                \"footer\": ''\n            }\n        },\n        \"blipchat\": {\n            \"quickReplay\": {\n                \"active\": false,\n                \"addNumber\": false,\n                \"separated\": \"\",\n                \"text\": '',\n                \"options\": [],\n                \"values\": []\n            },\n            \"menu\": {\n                \"active\": true,\n                \"addNumber\": false,\n                \"separated\": \"\",\n                \"text\": 'Poxa... Parece que n√£o estou conseguindo entender o que voc√™ esta querendo. üòî',\n                \"options\": ['Tentar de novo', 'Menu inicial', 'Finalizar'],\n                \"values\": ['Tentar de novo', 'Menu inicial', 'Finalizar']\n            }\n        },\n        \"default\": {\n            \"text\": {\n                \"active\": false,\n                \"addNumber\": true,\n                \"separated\": \"\",\n                \"text\": '',\n                \"options\": []\n            },\n            \"textMenu\": {\n                \"active\": false,\n                \"addNumber\": true,\n                \"separated\": \"\",\n                \"text\": '',\n                \"init\": 0,\n                \"options\": [],\n                \"subMenu\": []\n            }\n        },\n        \"config\": {\n            \"platform\": convertPlatform,\n            \"activeBold\": true,\n            \"boldValue\": convertBold,\n            \"activereplaceBold\": false,\n            \"replaceBold\": {\n                \"open\": \"%%%\",\n                \"close\": \"@@@\"\n            },\n            \"activeItalic\": false,\n            \"italicValue\": convertItalic,\n            \"activereplaceItalic\": false,\n            \"replaceItalic\": {\n                \"open\": \"###\",\n                \"close\": \"&&&\"\n            },\n            \"BreakLine\": '\\n',\n            \"replaceBreakLine\": '---',\n            \"replaceToBreakLine\": '___'\n        }\n    };\n\n    return getMenuForPlatform(default_msg);\n};","inputVariables":["platform","boldValue","italicValue"],"outputVariable":"objMenu","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"2a97a168-bd72-4ce6-8226-d5b08122ca78","$invalid":false},"$tags":[{"background":"#FF6F1E","label":"ExecuteScript","id":"blip-tag-04e98f44-0340-209a-c01e-1f695637619f","canChangeBackground":false},{"background":"#B2B229","label":"Menu","id":"blip-tag-e3d38186-9649-bb13-1c3c-4a1a2ca8c911","canChangeBackground":false},{"background":"#CC99FF","label":"UserInput","id":"blip-tag-a135d488-0fbf-29bd-714f-f3388ee2d198","canChangeBackground":false}],"id":"f2132a40-5d4c-4a5b-8091-a480b181de92","root":false,"$title":"M.1.3.0 X.3 Erro persistente","$position":{"top":"865.333px","left":"634.667px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"2a97a168-bd72-4ce6-8226-d5b08122ca78":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"6a986b0d-f40e-4fd8-9137-82e1e648ea07","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"bbccda3a-29a9-477f-b617-0298ea406e34","$connId":"con_68","$id":"2be79111-5fd4-4c59-ad8d-ede9f5ca706d","conditions":[{"source":"context","comparison":"equals","values":["Menu inicial"],"variable":"processedInput@input"}],"$invalid":false},{"stateId":"9167809c-cf65-465e-84c0-f08f2482248d","$connId":"con_73","$id":"0e043e29-c33c-4996-9021-a356cf7e2da3","conditions":[{"source":"context","comparison":"equals","values":["Tentar de novo"],"variable":"processedInput@input"}],"$invalid":false},{"stateId":"d10abda2-10d6-4536-89ba-24051376aa2d","$connId":"con_78","$id":"34d0c2e5-6414-4301-8b0d-8fd2fb43221d","conditions":[{"source":"context","comparison":"equals","values":["Finalizar"],"variable":"processedInput@input"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"8c27c942-1e4b-43dd-81db-8457e6940ec1","$typeOfContent":"","type":"ExecuteScript","$title":"PROCESS INPUT","$invalid":false,"settings":{"function":"run","source":"{{resource.FunctionGetOptionSelected}}\n\nconst run = (selected, inputType, intent, platform, apiName, contentAssistant) => {\n    intent = (typeof intent !== 'undefined') ? intent : 'None';\n    platform = (typeof platform !== 'undefined') ? platform : 'BlipChat';\n    apiName = (typeof apiName !== 'undefined') ? apiName : false;\n    contentAssistant = (typeof contentAssistant !== 'undefined') ? contentAssistant : null;\n\n    const itens = [\n      {\n        name: ['Tentar de novo', '1', 'tentar denovo', 'novamente', 'denovo', 'tentar', 'tentar novamente', 'tentar de novo'],\n      },\n      {\n        name: ['Menu inicial', '2', 'voltar para o menu', 'voltar', 'inicio', 'reiniciar', 'comeco', 'come√ßo'],\n      },\n      {\n        name: ['Finalizar', '3', 'finalizar', 'fim', 'xau', 'bye', 'adeus'],\n      }\n    ];\n\n    let validation = {\n        'menuDinamic': true,\n        'isInputNoValidate': false,\n        'isTrueFalse': false,\n        'textLong': false,\n        'intentValidate': false,\n        'isIntent': false,\n        'isOptionMenu': false,\n        'contentAssistant': false,\n        'shortcutMenu': false,\n        'shortcut': false,\n        'badWord': false,\n        'NPS': false,\n        'Email': false,\n        'Cep': false,\n        'Telefone': false,\n        'Celular': false,\n        'CNPJ': false,\n        'CNPJValido': false,\n        'CPF': false,\n        'CPFValido': false,\n        'Quantidade': false,\n        'Data': false,\n        'Numero': false,\n        'Nome': false,\n    };\n\n    if (platform === 'WhatsApp') {\n        validation.menuDinamic = false;\n    }\n\n    const mainMenus = [\n        {\n            name: [],\n        },\n    ];\n\n    const shortcuts = [\n        {\n            name: [],\n        },\n    ];\n\n    const selectResponse = getOptionSelected(\n        selected,\n        inputType,\n        itens,\n        validation,\n        intent,\n        mainMenus,\n        shortcuts,\n        apiName,\n        contentAssistant\n    );\n\n    return selectResponse;\n}; ","inputVariables":["input.content","input.type","input.intent.name","platform"],"outputVariable":"processedInput","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"4bc29394-4ee9-492d-af7b-4555ae99bbb4","$typeOfContent":"","type":"ExecuteScript","$title":"LAST STATE WITH INPUT","$invalid":false,"settings":{"function":"run","source":"{{resource.utilGetLastStateWithInput}}\n\nfunction run(stateName, stateId, lastStateWithInputCurrent) {\n    return getLastStateWithInput(stateName, stateId, lastStateWithInputCurrent);\n}","inputVariables":["state.name","state.id","lastStateWithInput"],"outputVariable":"lastStateWithInput","LocalTimeZoneEnabled":false},"conditions":[{"source":"context","comparison":"notEquals","variable":"state.id","values":["onboarding"]}]},{"$id":"7a784f22-3fa5-4682-8343-e70c5cbe65ae","$typeOfContent":"","type":"ExecuteScript","$title":"COUNT EXCEPTION","$invalid":false,"settings":{"function":"run","source":"{{resource.utilGetCountException}}\n\nfunction run(countExceptionCurrent, lastStateWithInput) {\n    return getCountException(countExceptionCurrent, lastStateWithInput);\n}","inputVariables":["countException","lastStateWithInput"],"outputVariable":"countException","LocalTimeZoneEnabled":false},"conditions":[{"source":"context","comparison":"notEquals","variable":"state.id","values":["onboarding"]}]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"d10abda2-10d6-4536-89ba-24051376aa2d","$invalid":false},"$tags":[{"background":"#FF6F1E","label":"ExecuteScript","id":"blip-tag-04e98f44-0340-209a-c01e-1f695637619f","canChangeBackground":false}],"id":"2a97a168-bd72-4ce6-8226-d5b08122ca78","root":false,"$title":"[Val] M.1.3.0 X.3 Erro persistente","$position":{"top":"999px","left":"634.667px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"646020ef-3130-4782-9087-4d53cd84278f":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"6a986b0d-f40e-4fd8-9137-82e1e648ea07","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"9167809c-cf65-465e-84c0-f08f2482248d","$connId":"con_83","$id":"b4b7972c-43d7-4609-8914-bad7f975d490","conditions":[{"source":"context","comparison":"equals","values":["Tentar de novo"],"variable":"processedInput@input"}],"$invalid":false},{"stateId":"d10abda2-10d6-4536-89ba-24051376aa2d","$connId":"con_88","$id":"564a8153-8c02-4ce1-b626-e40ceda77156","conditions":[{"source":"context","comparison":"equals","values":["Finalizar"],"variable":"processedInput@input"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"8c27c942-1e4b-43dd-81db-8457e6940ec1","$typeOfContent":"","type":"ExecuteScript","$title":"PROCESS INPUT","$invalid":false,"settings":{"function":"run","source":"{{resource.FunctionGetOptionSelected}}\n\nconst run = (selected, inputType, intent, platform, apiName, contentAssistant) => {\n    intent = (typeof intent !== 'undefined') ? intent : 'None';\n    platform = (typeof platform !== 'undefined') ? platform : 'BlipChat';\n    apiName = (typeof apiName !== 'undefined') ? apiName : false;\n    contentAssistant = (typeof contentAssistant !== 'undefined') ? contentAssistant : null;\n\n    const itens = [\n      {\n        name: ['Tentar de novo', 'tentar denovo', '1', 'novamente', 'denovo', 'tentar', 'tentar novamente', 'tentar de novo'],\n      },\n      {\n        name: ['Finalizar', 'finalizar', 'fim', 'xau', 'bye', 'adeus', '2',],\n      }\n    ];\n\n    let validation = {\n        'menuDinamic': true,\n        'isInputNoValidate': false,\n        'isTrueFalse': false,\n        'textLong': false,\n        'intentValidate': false,\n        'isIntent': false,\n        'isOptionMenu': false,\n        'contentAssistant': false,\n        'shortcutMenu': false,\n        'shortcut': false,\n        'badWord': false,\n        'NPS': false,\n        'Email': false,\n        'Cep': false,\n        'Telefone': false,\n        'Celular': false,\n        'CNPJ': false,\n        'CNPJValido': false,\n        'CPF': false,\n        'CPFValido': false,\n        'Quantidade': false,\n        'Data': false,\n        'Numero': false,\n        'Nome': false,\n    };\n\n    if (platform === 'WhatsApp') {\n        validation.menuDinamic = false;\n    }\n\n    const mainMenus = [\n        {\n            name: [],\n        },\n    ];\n\n    const shortcuts = [\n        {\n            name: [],\n        },\n    ];\n\n    const selectResponse = getOptionSelected(\n        selected,\n        inputType,\n        itens,\n        validation,\n        intent,\n        mainMenus,\n        shortcuts,\n        apiName,\n        contentAssistant\n    );\n\n    return selectResponse;\n};","inputVariables":["input.content","input.type","input.intent.name"],"outputVariable":"processedInput","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"e1a9bf1c-e3f8-466c-901d-a496c1367e54","$typeOfContent":"","type":"ExecuteScript","$title":"LAST STATE WITH INPUT","$invalid":false,"settings":{"function":"run","source":"{{resource.utilGetLastStateWithInput}}\n\nfunction run(stateName, stateId, lastStateWithInputCurrent) {\n    return getLastStateWithInput(stateName, stateId, lastStateWithInputCurrent);\n}","inputVariables":["state.name","state.id","lastStateWithInput"],"outputVariable":"lastStateWithInput","LocalTimeZoneEnabled":false},"conditions":[{"source":"context","comparison":"notEquals","variable":"state.id","values":["onboarding"]}]},{"$id":"403247cb-9945-4175-901f-f55488d2a409","$typeOfContent":"","type":"ExecuteScript","$title":"COUNT EXCEPTION","$invalid":false,"settings":{"function":"run","source":"{{resource.utilGetCountException}}\n\nfunction run(countExceptionCurrent, lastStateWithInput) {\n    return getCountException(countExceptionCurrent, lastStateWithInput);\n}","inputVariables":["countException","lastStateWithInput"],"outputVariable":"countException","LocalTimeZoneEnabled":false},"conditions":[{"source":"context","comparison":"notEquals","variable":"state.id","values":["onboarding"]}]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"d10abda2-10d6-4536-89ba-24051376aa2d","$invalid":false},"$tags":[{"background":"#FF6F1E","label":"ExecuteScript","id":"blip-tag-04e98f44-0340-209a-c01e-1f695637619f","canChangeBackground":false}],"id":"646020ef-3130-4782-9087-4d53cd84278f","root":false,"$title":"[Val] M.1.2.0 X.2 Erro persistente","$position":{"top":"999px","left":"452px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"bbccda3a-29a9-477f-b617-0298ea406e34":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"a4205c67-79fb-451e-8da4-6439374e76e1","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"69f0139b-f8eb-48a3-932b-290493cbfa2c","$invalid":false},"$tags":[{"background":"#FFEC03","label":"GoTo","id":"blip-tag-acaeeeb9-8edb-b4f6-18b1-3ec3103da0c2","canChangeBackground":false}],"id":"bbccda3a-29a9-477f-b617-0298ea406e34","root":false,"$title":"[GO TO] Menu","$position":{"top":"1132px","left":"450px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"9167809c-cf65-465e-84c0-f08f2482248d":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"31ea9f4f-db70-4372-9bff-402636bb2904","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"1a67f7e8-4cd6-47c5-abf5-05a8a17d63c6","$invalid":false},"$tags":[{"background":"#FFEC03","label":"GoTo","id":"blip-tag-acaeeeb9-8edb-b4f6-18b1-3ec3103da0c2","canChangeBackground":false}],"id":"9167809c-cf65-465e-84c0-f08f2482248d","root":false,"$title":"[GO TO] Redirect Solution","$position":{"top":"1130px","left":"635.333px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"0a86423b-0c72-4569-9345-cc35df20f6a3":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"9b906842-c6db-4a60-91b3-9519ee075b7a","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"2f25fea3-1d4b-426c-88f9-6854d79a8619","$typeOfContent":"","type":"Redirect","$title":"Redirecionar a um servi√ßo","$invalid":false,"settings":{"context":{"type":"text/plain","value":"{{objExcecao}}"},"address":"excecao"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"$tags":[{"background":"#61D36F","label":"Redirect","id":"blip-tag-10de53c4-a196-b5f9-19ba-56a89724aef9","canChangeBackground":false}],"id":"0a86423b-0c72-4569-9345-cc35df20f6a3","root":false,"$title":"[REDIRECT TO] EXCECAO","$position":{"top":"397px","left":"135px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"54a81a8e-8c77-47ac-97c3-61b5c6363350":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"f76c15be-8512-41cc-a838-8d400522672d","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"8dfa4706-64fd-42eb-b221-eb481e89716e","$typeOfContent":"","type":"Redirect","$title":"Redirecionar a um servi√ßo","$invalid":false,"settings":{"context":{"type":"text/plain","value":"finalizacao"},"address":"finalizacao"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"$tags":[{"background":"#61D36F","label":"Redirect","id":"blip-tag-10de53c4-a196-b5f9-19ba-56a89724aef9","canChangeBackground":false}],"id":"54a81a8e-8c77-47ac-97c3-61b5c6363350","root":false,"$title":"[REDIRECT TO] Finaliza√ß√£o","$position":{"top":"1060px","left":"138px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"00ef576c-2dc4-468c-bbc4-3ff6243a009e":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"6a986b0d-f40e-4fd8-9137-82e1e648ea07","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"9167809c-cf65-465e-84c0-f08f2482248d","$connId":"con_93","$id":"b4b7972c-43d7-4609-8914-bad7f975d490","conditions":[{"source":"context","comparison":"equals","values":["Continuar"],"variable":"processedInput@input"}],"$invalid":false},{"stateId":"d10abda2-10d6-4536-89ba-24051376aa2d","$connId":"con_98","$id":"564a8153-8c02-4ce1-b626-e40ceda77156","conditions":[{"source":"context","comparison":"equals","values":["Finalizar"],"variable":"processedInput@input"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"8c27c942-1e4b-43dd-81db-8457e6940ec1","$typeOfContent":"","type":"ExecuteScript","$title":"PROCESS INPUT","$invalid":false,"settings":{"function":"run","source":"{{resource.FunctionGetOptionSelected}}\n\nconst run = (selected, inputType, intent, platform, apiName, contentAssistant) => {\n    intent = (typeof intent !== 'undefined') ? intent : 'None';\n    platform = (typeof platform !== 'undefined') ? platform : 'BlipChat';\n    apiName = (typeof apiName !== 'undefined') ? apiName : false;\n    contentAssistant = (typeof contentAssistant !== 'undefined') ? contentAssistant : null;\n\n    const itens = [\n      {\n        name: ['Sim, por favor', 'sim, por favor', 'sim', '1'],\n      },\n      {\n        name: ['N√£o, obrigado', 'nao, obrigado', 'nao', '2',],\n      }\n    ];\n\n    let validation = {\n        'menuDinamic': true,\n        'isInputNoValidate': false,\n        'isTrueFalse': false,\n        'textLong': false,\n        'intentValidate': false,\n        'isIntent': false,\n        'isOptionMenu': false,\n        'contentAssistant': false,\n        'shortcutMenu': false,\n        'shortcut': false,\n        'badWord': false,\n        'NPS': false,\n        'Email': false,\n        'Cep': false,\n        'Telefone': false,\n        'Celular': false,\n        'CNPJ': false,\n        'CNPJValido': false,\n        'CPF': false,\n        'CPFValido': false,\n        'Quantidade': false,\n        'Data': false,\n        'Numero': false,\n        'Nome': false,\n    };\n\n    if (platform === 'WhatsApp') {\n        validation.menuDinamic = false;\n    }\n\n    const mainMenus = [\n        {\n            name: [],\n        },\n    ];\n\n    const shortcuts = [\n        {\n            name: [],\n        },\n    ];\n\n    const selectResponse = getOptionSelected(\n        selected,\n        inputType,\n        itens,\n        validation,\n        intent,\n        mainMenus,\n        shortcuts,\n        apiName,\n        contentAssistant\n    );\n\n    return selectResponse;\n};","inputVariables":["input.content","input.type","input.intent.name","platform"],"outputVariable":"processedInput","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"e1a9bf1c-e3f8-466c-901d-a496c1367e54","$typeOfContent":"","type":"ExecuteScript","$title":"LAST STATE WITH INPUT","$invalid":false,"settings":{"function":"run","source":"{{resource.utilGetLastStateWithInput}}\n\nfunction run(stateName, stateId, lastStateWithInputCurrent) {\n    return getLastStateWithInput(stateName, stateId, lastStateWithInputCurrent);\n}","inputVariables":["state.name","state.id","lastStateWithInput"],"outputVariable":"lastStateWithInput","LocalTimeZoneEnabled":false},"conditions":[{"source":"context","comparison":"notEquals","variable":"state.id","values":["onboarding"]}]},{"$id":"403247cb-9945-4175-901f-f55488d2a409","$typeOfContent":"","type":"ExecuteScript","$title":"COUNT EXCEPTION","$invalid":false,"settings":{"function":"run","source":"{{resource.utilGetCountException}}\n\nfunction run(countExceptionCurrent, lastStateWithInput) {\n    return getCountException(countExceptionCurrent, lastStateWithInput);\n}","inputVariables":["countException","lastStateWithInput"],"outputVariable":"countException","LocalTimeZoneEnabled":false},"conditions":[{"source":"context","comparison":"notEquals","variable":"state.id","values":["onboarding"]}]}],"$leavingCustomActions":[{"$id":"e6f045fb-190a-46ae-8f6a-ca0d8156cd6a","$typeOfContent":"","type":"ExecuteScript","$title":"processed Input","$invalid":false,"settings":{"function":"run","source":"const run = () => {\n    return {     \n        'type': 'Inatividade',     \n        'input': \"Inatividade\" \n    }\n}","inputVariables":[],"outputVariable":"processedInput"},"conditions":[{"source":"input","comparison":"notExists","values":[]}]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"d10abda2-10d6-4536-89ba-24051376aa2d","$invalid":false},"$tags":[{"background":"#FF6F1E","label":"ExecuteScript","id":"blip-tag-04e98f44-0340-209a-c01e-1f695637619f","canChangeBackground":false}],"id":"00ef576c-2dc4-468c-bbc4-3ff6243a009e","root":false,"$title":"[Val] M.1.4.0 - Inatividade","$position":{"top":"988px","left":"819px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"d10abda2-10d6-4536-89ba-24051376aa2d":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"182e04b5-f23c-4829-8961-07a9b8bbaeb0","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"54a81a8e-8c77-47ac-97c3-61b5c6363350","$invalid":false},"$tags":[{"background":"#FFEC03","label":"GoTo","id":"blip-tag-acaeeeb9-8edb-b4f6-18b1-3ec3103da0c2","canChangeBackground":false}],"id":"d10abda2-10d6-4536-89ba-24051376aa2d","root":false,"$title":"[GO TO] Finaliza√ß√£o","$position":{"top":"1131px","left":"820px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"28744f0a-e6cb-4a83-b672-3fd0931bc06a":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"4022a1bd-1525-40b1-81a2-95c8029d1b7c","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"e7fe877c-aa5e-4dd2-9fe7-8f2b55c5f432","$connId":"con_103","$id":"577125d3-4e3a-46b7-85a4-aff7d70beae3","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"5572b216-480a-4172-9da5-cbdf00c13022","$typeOfContent":"","type":"ExecuteScript","$title":"Message Exception","$invalid":false,"settings":{"function":"run","source":"const run = (obj) => {\n    const messages = [\n        {\n            'message': 'Ainda n√£o consigo ler emojis. Por enquanto, s√≥ mensagens de texto. üòâ',\n            'type': 'Emoticons'\n        },\n        {\n            'message': 'Ainda n√£o consigo ler figurinhas. Por enquanto, s√≥ mensagens de texto. üòâ',\n            'type': 'Figurinhas'\n        },\n        {\n            'message': 'Ainda n√£o sei processar imagens. Entendo apenas texto. üòâ',\n            'type': 'Images'\n        },\n        {\n            'message': 'Ainda n√£o consigo entender arquivos de √°udio, mas podemos conversar por texto. üòâ',\n            'type': 'Audios'\n        },\n        {\n            'message': 'Por enquanto n√£o consigo assistir v√≠deos üé•, mas voc√™ pode conversar comigo por texto. üòâ',\n            'type': 'Videos'\n        },\n        {\n            'message': 'Ainda n√£o consigo acessar nenhum link üåê, mas voc√™ pode conversar comigo por texto. üòâ',\n            'type': 'Link'\n        },\n        {\n            'message': 'Ainda n√£o entendo este tipo de conte√∫do üìÑ. Por enquanto s√≥ consigo ler mensagens de texto. üòâ',\n            'type': 'Arquivos'\n        },\n        {\n            'message': 'Ainda n√£o consigo acessar contatos, mas voc√™ pode conversar comigo por texto. üòâ',\n            'type': 'Contatos'\n        },\n    ];\n\n    return getMessage(obj, messages);\n};\n\nfunction getMessage(obj, objMessages) {\n    let excecao = obj;\n    if (typeof obj === typeof toString()) {       \n        excecao = JSON.parse(obj);     \n    }\n\n    for (let i = 0; i < objMessages.length; i++) {\n        if (excecao.stateDestination == objMessages[i].type) {\n            return objMessages[i].message;\n        }\n    }\n}","inputVariables":["objExcecao","boldValue","italicValue"],"outputVariable":"messageExcep","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"e7fe877c-aa5e-4dd2-9fe7-8f2b55c5f432","$invalid":false},"$tags":[{"background":"#FF6F1E","label":"ExecuteScript","id":"blip-tag-04e98f44-0340-209a-c01e-1f695637619f","canChangeBackground":false}],"id":"28744f0a-e6cb-4a83-b672-3fd0931bc06a","root":false,"$title":"[Val] Conte√∫do n√£o suportado","$position":{"top":"56px","left":"1536px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"a25b518e-a1bb-4c5d-867a-6e8b2bece660":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"1a4823bf-ccbf-4a94-a2e0-ba8ae03da582","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"a3565f09-f29a-4159-8fb1-773e38c1e0c1","$connId":"con_108","$id":"27eedf56-997c-4056-9e89-1bfa3ee58e81","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"3a876829-8776-45b5-a75b-44906d2dc3d8","$typeOfContent":"","type":"ExecuteScript","$title":"Message Exception","$invalid":false,"settings":{"function":"run","source":"const run = (obj, boldValue, italicValue) => {\n  const messages = [\n    {\n      'message': '',\n      'type': 'Error'\n    },\n  ];\n\n  let convertBold = boldValue;\n  if (typeof boldValue === typeof toString()) {\n    convertBold = JSON.parse(boldValue);\n  }\n  let convertItalic = italicValue;\n  if (typeof italicValue === typeof toString()) {\n    convertItalic = JSON.parse(italicValue);\n  }\n\n  const config = {\n    \"activeBold\": true,\n    \"boldValue\": convertBold,\n    \"replaceBold\": {\n      \"open\": \"%%%\",\n      \"close\": \"@@@\"\n    },\n    \"activeItalic\": false,\n    \"italicValue\": convertItalic,\n    \"replaceItalic\": {\n      \"open\": \"###\",\n      \"close\": \"&&&\"\n    },\n    \"BreakLine\": '\\n',\n    \"replaceBreakLine\": '---',\n    \"replaceToBreakLine\": '___'\n  };\n\n  let message = getMessage(obj, messages);\n\n  if (config.activeBold) {\n    message = myFunctionBold(message, config);\n  }\n\n  if (config.activeItalic) {\n    message = myFunctionItalic(message, config);\n  }\n\n  message = myFunctionBreakLine(message, config);\n\n  return message;\n};\n\nfunction getMessage(obj, objMessages) {\n  let excecao = obj;\n  if (typeof obj === typeof toString()) {\n    excecao = JSON.parse(obj);\n  }\n\n  const message = objMessages.find(element => element.type === excecao.stateDestination);\n\n  return message.message;\n}\n\nfunction myFunctionBold(item, obj) {\n  const matchingOpen = RegExp(obj.replaceBold.open, \"g\");\n  const matchingClose = RegExp(obj.replaceBold.close, \"g\");\n  item = item.replace(matchingOpen, obj.boldValue.open);\n  item = item.replace(matchingClose, obj.boldValue.close);\n\n  return item;\n}\n\nfunction myFunctionItalic(item, obj) {\n  const matchingOpen = RegExp(obj.replaceItalic.open, \"g\");\n  const matchingClose = RegExp(obj.replaceItalic.close, \"g\");\n  item = item.replace(matchingOpen, obj.italicValue.open);\n  item = item.replace(matchingClose, obj.italicValue.close);\n\n  return item;\n}\n\nfunction myFunctionBreakLine(item, obj) {\n  const matchingRBL = RegExp(obj.replaceBreakLine, \"g\");\n  const matchingRBL2 = RegExp(obj.replaceToBreakLine, \"g\");\n  const bl2 = `${obj.BreakLine}${obj.BreakLine}`;\n  item = item.replace(matchingRBL, obj.BreakLine);\n  item = item.replace(matchingRBL2, bl2);\n\n  return item;\n}","inputVariables":["objExcecao","boldValue","italicValue"],"outputVariable":"messageExcep","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"a3565f09-f29a-4159-8fb1-773e38c1e0c1","$invalid":false},"$tags":[{"background":"#FF6F1E","label":"ExecuteScript","id":"blip-tag-04e98f44-0340-209a-c01e-1f695637619f","canChangeBackground":false}],"id":"a25b518e-a1bb-4c5d-867a-6e8b2bece660","root":false,"$title":"[Val] Login","$position":{"top":"66px","left":"1761px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"b7876e84-8917-4779-b7b5-6332c116268b":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"46a1f6c8-af83-47a7-912b-9b5f63d4b4f7","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"7e9b0209-9cbe-4698-9b27-722880733993","$connId":"con_113","$id":"3be80a42-31ce-4540-a3dc-0d156e3b8e36","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"a646828b-e266-4f3e-aedc-b2107af7eaf8","$typeOfContent":"","type":"ExecuteScript","$title":"Message Exception","$invalid":false,"settings":{"function":"run","source":"const run = (obj, boldValue, italicValue) => {\n  const messages = [\n    {\n      'message': '',\n      'type': 'Error'\n    },\n    {\n      'message': '',\n      'type': 'ErrorAPI'\n    },\n    {\n      'message': '',\n      'type': 'ErrorContato'\n    },\n    {\n      'message': '',\n      'type': 'ErrorTransbordo'\n    },\n    {\n      'message': '',\n      'type': 'ErrorEmail'\n    },\n  ];\n\n  let convertBold = boldValue;\n  if (typeof boldValue === typeof toString()) {\n    convertBold = JSON.parse(boldValue);\n  }\n  let convertItalic = italicValue;\n  if (typeof italicValue === typeof toString()) {\n    convertItalic = JSON.parse(italicValue);\n  }\n\n  const config = {\n    \"activeBold\": true,\n    \"boldValue\": convertBold,\n    \"replaceBold\": {\n      \"open\": \"%%%\",\n      \"close\": \"@@@\"\n    },\n    \"activeItalic\": false,\n    \"italicValue\": convertItalic,\n    \"replaceItalic\": {\n      \"open\": \"###\",\n      \"close\": \"&&&\"\n    },\n    \"BreakLine\": '\\n',\n    \"replaceBreakLine\": '---',\n    \"replaceToBreakLine\": '___'\n  };\n\n  let message = getMessage(obj, messages);\n\n  if (config.activeBold) {\n    message = myFunctionBold(message, config);\n  }\n\n  if (config.activeItalic) {\n    message = myFunctionItalic(message, config);\n  }\n\n  message = myFunctionBreakLine(message, config);\n\n  return message;\n};\n\nfunction getMessage(obj, objMessages) {\n  let excecao = obj;\n  if (typeof obj === typeof toString()) {\n    excecao = JSON.parse(obj);\n  }\n\n  const message = objMessages.find(element => element.type === excecao.stateDestination);\n\n  return message.message;\n}\n\nfunction myFunctionBold(item, obj) {\n  const matchingOpen = RegExp(obj.replaceBold.open, \"g\");\n  const matchingClose = RegExp(obj.replaceBold.close, \"g\");\n  item = item.replace(matchingOpen, obj.boldValue.open);\n  item = item.replace(matchingClose, obj.boldValue.close);\n\n  return item;\n}\n\nfunction myFunctionItalic(item, obj) {\n  const matchingOpen = RegExp(obj.replaceItalic.open, \"g\");\n  const matchingClose = RegExp(obj.replaceItalic.close, \"g\");\n  item = item.replace(matchingOpen, obj.italicValue.open);\n  item = item.replace(matchingClose, obj.italicValue.close);\n\n  return item;\n}\n\nfunction myFunctionBreakLine(item, obj) {\n  const matchingRBL = RegExp(obj.replaceBreakLine, \"g\");\n  const matchingRBL2 = RegExp(obj.replaceToBreakLine, \"g\");\n  const bl2 = `${obj.BreakLine}${obj.BreakLine}`;\n  item = item.replace(matchingRBL, obj.BreakLine);\n  item = item.replace(matchingRBL2, bl2);\n\n  return item;\n}","inputVariables":["objExcecao","boldValue","italicValue"],"outputVariable":"messageExcep","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"7e9b0209-9cbe-4698-9b27-722880733993","$invalid":false},"$tags":[{"background":"#FF6F1E","label":"ExecuteScript","id":"blip-tag-04e98f44-0340-209a-c01e-1f695637619f","canChangeBackground":false}],"id":"b7876e84-8917-4779-b7b5-6332c116268b","root":false,"$title":"[Val] API","$position":{"top":"67px","left":"1973px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"c0456c90-9dae-4070-80df-ed6ad4c2b896":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"1ce0fbbc-422d-406a-969c-1fc38138dc23","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"02358925-069d-41e6-a9b1-de499ea09208","$connId":"con_118","$id":"712ac02d-174e-48b4-946a-a464873ebb72","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"056a07ca-6ffe-43a9-8d0b-f8be952e8504","$typeOfContent":"","type":"ExecuteScript","$title":"Message Exception","$invalid":false,"settings":{"function":"run","source":"const run = (obj, boldValue, italicValue) => {\n  const messages = [\n    {\n      'message': 'Ops... n√£o consegui entender o seu e-mail.',\n      'type': 'Email'\n    },\n    {\n      'message': '',\n      'type': 'Cep'\n    },\n    {\n      'message': '',\n      'type': 'Telefone'\n    },\n    {\n      'message': '',\n      'type': 'Celular'\n    },\n    {\n      'message': '',\n      'type': 'CNPJ'\n    },\n    {\n      'message': '',\n      'type': 'CNPJValido'\n    },\n    {\n      'message': '',\n      'type': 'CPF'\n    },\n    {\n      'message': '',\n      'type': 'CPFValido'\n    },\n    {\n      'message': '',\n      'type': 'Quantidade'\n    },\n    {\n      'message': '',\n      'type': 'Data'\n    },\n    {\n      'message': '',\n      'type': 'NPS'\n    },\n    {\n      'message': '',\n      'type': 'Endereco'\n    },\n    {\n      'message': '',\n      'type': 'TextoLongos'\n    },\n    {\n      'message': '',\n      'type': 'Nome'\n    },\n    {\n      'message': '',\n      'type': 'Numero'\n    },\n    {\n      'message': 'N√£o consegui entender seu n√∫mero de serial. üôÅ',\n      'type': 'Serial'\n    },\n    {\n      'message': 'N√£o consegui entender o n√∫mero do pedido. üôÅ',\n      'type': 'Pedido'\n    },\n    {\n      'message': 'N√£o consegui entender seu ID para acesso remoto. üôÅ',\n      'type': 'Id'\n    },\n  ];\n\n  let convertBold = boldValue;\n  if (typeof boldValue === typeof toString()) {\n    convertBold = JSON.parse(boldValue);\n  }\n  let convertItalic = italicValue;\n  if (typeof italicValue === typeof toString()) {\n    convertItalic = JSON.parse(italicValue);\n  }\n\n  const config = {\n    \"activeBold\": true,\n    \"boldValue\": convertBold,\n    \"replaceBold\": {\n      \"open\": \"%%%\",\n      \"close\": \"@@@\"\n    },\n    \"activeItalic\": false,\n    \"italicValue\": convertItalic,\n    \"replaceItalic\": {\n      \"open\": \"###\",\n      \"close\": \"&&&\"\n    },\n    \"BreakLine\": '\\n',\n    \"replaceBreakLine\": '---',\n    \"replaceToBreakLine\": '___'\n  };\n\n  let message = getMessage(obj, messages);\n\n  if (config.activeBold) {\n    message = myFunctionBold(message, config);\n  }\n\n  if (config.activeItalic) {\n    message = myFunctionItalic(message, config);\n  }\n\n  message = myFunctionBreakLine(message, config);\n\n  return message;\n};\n\nfunction getMessage(obj, objMessages) {\n  let excecao = obj;\n  if (typeof obj === typeof toString()) {\n    excecao = JSON.parse(obj);\n  }\n\n  const message = objMessages.find(element => element.type === excecao.stateDestination);\n\n  return message.message;\n}\n\nfunction myFunctionBold(item, obj) {\n  const matchingOpen = RegExp(obj.replaceBold.open, \"g\");\n  const matchingClose = RegExp(obj.replaceBold.close, \"g\");\n  item = item.replace(matchingOpen, obj.boldValue.open);\n  item = item.replace(matchingClose, obj.boldValue.close);\n\n  return item;\n}\n\nfunction myFunctionItalic(item, obj) {\n  const matchingOpen = RegExp(obj.replaceItalic.open, \"g\");\n  const matchingClose = RegExp(obj.replaceItalic.close, \"g\");\n  item = item.replace(matchingOpen, obj.italicValue.open);\n  item = item.replace(matchingClose, obj.italicValue.close);\n\n  return item;\n}\n\nfunction myFunctionBreakLine(item, obj) {\n  const matchingRBL = RegExp(obj.replaceBreakLine, \"g\");\n  const matchingRBL2 = RegExp(obj.replaceToBreakLine, \"g\");\n  const bl2 = `${obj.BreakLine}${obj.BreakLine}`;\n  item = item.replace(matchingRBL, obj.BreakLine);\n  item = item.replace(matchingRBL2, bl2);\n\n  return item;\n}","inputVariables":["objExcecao","boldValue","italicValue"],"outputVariable":"messageExcep","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[{"$id":"5e9fbc78-edcb-467c-8ebb-25148c640419","$typeOfContent":"","type":"TrackEvent","$title":"Erro Serial Exibicao","$invalid":false,"settings":{"extras":{},"category":"Erro Serial Exibicao","action":"Exibicao"},"conditions":[{"source":"context","comparison":"equals","variable":"objExcecao@stateDestination","values":["Serial"]}]},{"$id":"a8a4dda2-55c0-4d28-956d-188ebb66772c","$typeOfContent":"","type":"TrackEvent","$title":"Erro Id Exibicao","$invalid":false,"settings":{"extras":{},"action":"Exibicao","category":"Erro Id Exibicao"},"conditions":[{"source":"context","comparison":"equals","variable":"objExcecao@stateDestination","values":["Id"]}]},{"$id":"e54eaed9-f4e2-4e52-9d53-df903f1193de","$typeOfContent":"","type":"TrackEvent","$title":"Erro Numero Pedido Exibicao","$invalid":false,"settings":{"extras":{},"action":"Exibicao","category":"Erro Numero Pedido Exibicao"},"conditions":[{"source":"context","comparison":"equals","variable":"objExcecao@stateDestination","values":["Pedido"]}]},{"$id":"a9e4bf41-279a-42ab-83a7-f836fbb439bd","$typeOfContent":"","type":"TrackEvent","$title":"Erro Email Exibicao","$invalid":false,"settings":{"extras":{},"action":"Exibicao","category":"Erro Email Exibicao"},"conditions":[{"source":"context","comparison":"equals","variable":"objExcecao@stateDestination","values":["Email"]}]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"02358925-069d-41e6-a9b1-de499ea09208","$invalid":false},"$tags":[{"background":"#FF6F1E","label":"ExecuteScript","id":"blip-tag-04e98f44-0340-209a-c01e-1f695637619f","canChangeBackground":false},{"background":"#167491","label":"Event","id":"blip-tag-7fdca123-c247-340f-96b0-96f4620c06eb","canChangeBackground":false}],"id":"c0456c90-9dae-4070-80df-ed6ad4c2b896","root":false,"$title":"[Val] Dados","$position":{"top":"60px","left":"1324px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"becc24da-33b0-4f44-9e7f-490656810dd8":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"3478ed64-0347-49a7-9137-57a4b9267615","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"a0843fcc-02b2-44e5-984f-5b6402175d1a","$connId":"con_123","$id":"616d966e-b9a0-4f09-911f-1e903d6f28e8","conditions":[{"source":"context","comparison":"equals","values":["Persistente"],"variable":"objExcecao@stateDestination"}],"$invalid":false},{"stateId":"67f28177-4bb0-46cb-bbaf-482d3a2ee995","$connId":"con_128","$id":"06d86a6a-8058-438d-bf64-5a73d611db84","conditions":[{"source":"context","comparison":"equals","values":["Inativo"],"variable":"objExcecao@stateDestination"}],"$invalid":false},{"stateId":"f2132a40-5d4c-4a5b-8091-a480b181de92","$connId":"con_133","$id":"9b780756-a2b9-4817-b839-e9f3b147df2b","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"df04876b-00d9-485f-8df8-e44e54ebc1a8","$typeOfContent":"","type":"TrackEvent","$title":"Inativo Exibicao","$invalid":false,"settings":{"extras":{},"category":"Inativo Exibicao","action":"Exibicao"},"conditions":[{"source":"context","comparison":"equals","variable":"objExcecao@stateDestination","values":["Inativo"]}]},{"$id":"26467a9c-07ee-4a36-a4b5-4096651ec5a0","$typeOfContent":"","type":"TrackEvent","$title":"Erro Persistente Exibicao","$invalid":false,"settings":{"extras":{},"category":"Erro Persistente Exibicao","action":"Exibicao"},"conditions":[{"source":"context","comparison":"equals","variable":"objExcecao@stateDestination","values":["Persistente"]}]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"768a207f-4f6e-48c6-bcab-4039a178b614","$invalid":false},"$tags":[{"background":"#FF6F1E","label":"ExecuteScript","id":"blip-tag-04e98f44-0340-209a-c01e-1f695637619f","canChangeBackground":false},{"background":"#167491","label":"Event","id":"blip-tag-7fdca123-c247-340f-96b0-96f4620c06eb","canChangeBackground":false}],"id":"becc24da-33b0-4f44-9e7f-490656810dd8","root":false,"$title":"[Val] Menu","$position":{"top":"739px","left":"630px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"d13a37b8-51c2-42bf-9327-0cea1b285235":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"a0a6ba8b-acd2-4d33-b413-3fd65ffa04fb","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"74246fea-d6e7-41e4-99ab-57233ab27c78","$connId":"con_138","$id":"5ebb5733-d2dd-4719-9072-7eda1a47d3cb","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"e9f18638-5d78-4636-b8a3-e98ab2019a8b","$typeOfContent":"","type":"ExecuteScript","$title":"Message Exception","$invalid":false,"settings":{"function":"run","source":"const run = (obj, boldValue, italicValue) => {\n    const messages = [\n        {\n            'message': 'N√£o consegui entender. üôÅ',\n            'type': 'Default'\n        },\n        {\n            'message': '',\n            'type': 'Intencao'\n        },\n        {\n            'message': 'N√£o consegui entender. üôÅ---Para continuar, preciso que %%%digite o n√∫mero@@@ uma das op√ß√µes a baixo. ‚¨áÔ∏è',\n            'type': 'Menu'\n        },\n        {\n            'message': 'N√£o consegui entender. üôÅ---Para continuar, preciso que %%%selecione@@@ uma das op√ß√µes a baixo. ‚¨áÔ∏è',\n            'type': 'Dinamico'\n        },\n        {\n            'message': 'N√£o consegui entender. üôÅ---Para continuar, preciso que %%%selecione@@@ uma das op√ß√µes Sim ou o N√£o. ‚¨áÔ∏è',\n            'type': 'Escolha'\n        },\n    ];\n\n    let convertBold = boldValue;\n    if (typeof boldValue === typeof toString()) {\n        convertBold = JSON.parse(boldValue);\n    }\n    let convertItalic = italicValue;\n    if (typeof italicValue === typeof toString()) {\n        convertItalic = JSON.parse(italicValue);\n    }\n\n    const config = {\n        \"activeBold\": true,\n        \"boldValue\": convertBold,\n        \"replaceBold\": {\n            \"open\": \"%%%\",\n            \"close\": \"@@@\"\n        },\n        \"activeItalic\": false,\n        \"italicValue\": convertItalic,\n        \"replaceItalic\": {\n            \"open\": \"###\",\n            \"close\": \"&&&\"\n        },\n        \"BreakLine\": '\\n',\n        \"replaceBreakLine\": '---',\n        \"replaceToBreakLine\": '___'\n    };\n\n    let message = getMessage(obj, messages);\n\n    if (config.activeBold) {\n        message = myFunctionBold(message, config);\n    }\n\n    if (config.activeItalic) {\n        message = myFunctionItalic(message, config);\n    }\n\n    message = myFunctionBreakLine(message, config);\n\n    return message;\n};\n\nfunction getMessage(obj, objMessages) {\n    let excecao = obj;\n    if (typeof obj === typeof toString()) {\n        excecao = JSON.parse(obj);\n    }\n\n    const message = objMessages.find(element => element.type === excecao.stateDestination);\n\n    return message.message;\n}\n\nfunction myFunctionBold(item, obj) {\n    const matchingOpen = RegExp(obj.replaceBold.open, \"g\");\n    const matchingClose = RegExp(obj.replaceBold.close, \"g\");\n    item = item.replace(matchingOpen, obj.boldValue.open);\n    item = item.replace(matchingClose, obj.boldValue.close);\n\n    return item;\n}\n\nfunction myFunctionItalic(item, obj) {\n    const matchingOpen = RegExp(obj.replaceItalic.open, \"g\");\n    const matchingClose = RegExp(obj.replaceItalic.close, \"g\");\n    item = item.replace(matchingOpen, obj.italicValue.open);\n    item = item.replace(matchingClose, obj.italicValue.close);\n\n    return item;\n}\n\nfunction myFunctionBreakLine(item, obj) {\n    const matchingRBL = RegExp(obj.replaceBreakLine, \"g\");\n    const matchingRBL2 = RegExp(obj.replaceToBreakLine, \"g\");\n    const bl2 = `${obj.BreakLine}${obj.BreakLine}`;\n    item = item.replace(matchingRBL, obj.BreakLine);\n    item = item.replace(matchingRBL2, bl2);\n\n    return item;\n}","inputVariables":["objExcecao","boldValue","italicValue"],"outputVariable":"messageExcep","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[{"$id":"1807d739-def2-40ed-ad6b-e8bbe2309017","$typeOfContent":"","type":"TrackEvent","$title":"Erro Generico Exibicao","$invalid":false,"settings":{"extras":{},"category":"Erro Generico Exibicao","action":"Exibicao"},"conditions":[{"source":"context","comparison":"equals","variable":"objExcecao@stateDestination","values":["Default"]}]},{"$id":"0ec5c157-734e-4720-8ae8-e40cf7d0d717","$typeOfContent":"","type":"TrackEvent","$title":"Erro Menu Dinamico Exibicao","$invalid":false,"settings":{"extras":{},"category":"Erro Menu Dinamico Exibicao","action":"Exibicao"},"conditions":[{"source":"context","comparison":"equals","variable":"objExcecao@stateDestination","values":["Dinamico"]}]},{"$id":"2037f2b5-6a43-4240-b0b6-672c4add7905","$typeOfContent":"","type":"TrackEvent","$title":"Erro Menu Lista Exibicao","$invalid":false,"settings":{"extras":{},"category":"Erro Menu Lista Exibicao","action":"Exibicao"},"conditions":[{"source":"context","comparison":"equals","values":["Menu"],"variable":"objExcecao@stateDestination"}]},{"$id":"12a4b6b1-99fe-42c0-81c0-96c8bd534954","$typeOfContent":"","type":"TrackEvent","$title":"Erro Menu Escolha Exibicao","$invalid":false,"settings":{"extras":{},"category":"Erro Menu Escolha Exibicao","action":"Exibicao"},"conditions":[{"source":"context","comparison":"equals","variable":"objExcecao@stateDestination","values":["Escolha"]}]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"74246fea-d6e7-41e4-99ab-57233ab27c78","$invalid":false},"$tags":[{"background":"#FF6F1E","label":"ExecuteScript","id":"blip-tag-04e98f44-0340-209a-c01e-1f695637619f","canChangeBackground":false},{"background":"#167491","label":"Event","id":"blip-tag-7fdca123-c247-340f-96b0-96f4620c06eb","canChangeBackground":false}],"id":"d13a37b8-51c2-42bf-9327-0cea1b285235","root":false,"$title":"[Val] Default","$position":{"top":"244px","left":"424px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"5ca02763-104d-45aa-a2eb-933629a189c5":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"a760f71f-f75f-48ea-98a3-dd268b6c3c52","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"d13a37b8-51c2-42bf-9327-0cea1b285235","$invalid":false},"$tags":[{"background":"#FFEC03","label":"GoTo","id":"blip-tag-acaeeeb9-8edb-b4f6-18b1-3ec3103da0c2","canChangeBackground":false}],"id":"5ca02763-104d-45aa-a2eb-933629a189c5","root":false,"$title":"[GO TO] Default","$position":{"top":"35px","left":"880px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"96c9f2be-9c26-42c2-8480-694df7e82e82":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"a760f71f-f75f-48ea-98a3-dd268b6c3c52","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"c0456c90-9dae-4070-80df-ed6ad4c2b896","$invalid":false},"$tags":[{"background":"#FFEC03","label":"GoTo","id":"blip-tag-acaeeeb9-8edb-b4f6-18b1-3ec3103da0c2","canChangeBackground":false}],"id":"96c9f2be-9c26-42c2-8480-694df7e82e82","root":false,"$title":"[GO TO] Dados","$position":{"top":"150px","left":"878px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"177fb872-6b48-44b7-89c8-0bf4154aae8d":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"a760f71f-f75f-48ea-98a3-dd268b6c3c52","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"28744f0a-e6cb-4a83-b672-3fd0931bc06a","$invalid":false},"$tags":[{"background":"#FFEC03","label":"GoTo","id":"blip-tag-acaeeeb9-8edb-b4f6-18b1-3ec3103da0c2","canChangeBackground":false}],"id":"177fb872-6b48-44b7-89c8-0bf4154aae8d","root":false,"$title":"[GO TO] Conteudos","$position":{"top":"263px","left":"877px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"6224007d-03d9-4b91-b196-5451b7ae8e80":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"a760f71f-f75f-48ea-98a3-dd268b6c3c52","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"becc24da-33b0-4f44-9e7f-490656810dd8","$invalid":false},"$tags":[{"background":"#FFEC03","label":"GoTo","id":"blip-tag-acaeeeb9-8edb-b4f6-18b1-3ec3103da0c2","canChangeBackground":false}],"id":"6224007d-03d9-4b91-b196-5451b7ae8e80","root":false,"$title":"[GO TO] Menu","$position":{"top":"37px","left":"1067px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"8884d9a7-4391-44a7-8b08-aee278883094":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"a760f71f-f75f-48ea-98a3-dd268b6c3c52","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"b7876e84-8917-4779-b7b5-6332c116268b","$invalid":false},"$tags":[{"background":"#FFEC03","label":"GoTo","id":"blip-tag-acaeeeb9-8edb-b4f6-18b1-3ec3103da0c2","canChangeBackground":false}],"id":"8884d9a7-4391-44a7-8b08-aee278883094","root":false,"$title":"[GO TO] API","$position":{"top":"152px","left":"1063px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"01886311-c23d-4ada-8f0d-f1d625831112":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"a760f71f-f75f-48ea-98a3-dd268b6c3c52","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[{"background":"#FFEC03","label":"GoTo","id":"blip-tag-acaeeeb9-8edb-b4f6-18b1-3ec3103da0c2","canChangeBackground":false}],"id":"01886311-c23d-4ada-8f0d-f1d625831112","root":false,"$title":"[GO TO] Login","$position":{"top":"265px","left":"1065px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"6abb18bd-6ce9-49ec-a900-5a6d14b09deb":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"a760f71f-f75f-48ea-98a3-dd268b6c3c52","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"1a67f7e8-4cd6-47c5-abf5-05a8a17d63c6","$invalid":false},"$tags":[{"background":"#FFEC03","label":"GoTo","id":"blip-tag-acaeeeb9-8edb-b4f6-18b1-3ec3103da0c2","canChangeBackground":false}],"id":"6abb18bd-6ce9-49ec-a900-5a6d14b09deb","root":false,"$title":"[GO TO] [REDIRECT TO] Solution","$position":{"top":"465px","left":"425px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"e7fe877c-aa5e-4dd2-9fe7-8f2b55c5f432":{"$contentActions":[{"action":{"$id":"68d42124-c0ed-4005-aed1-a45c5a424915","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"a315f173-60e7-4d81-86cf-bf7c919a4fcd","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"a315f173-60e7-4d81-86cf-bf7c919a4fcd","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"a436fde8-e6fc-4766-9002-59b3b8b9e068","$typeOfContent":"text","type":"SendMessage","settings":{"id":"5b80cb39-8964-46bf-a626-d7d8d3906734","type":"text/plain","content":"{{messageExcep}}","metadata":{}},"$cardContent":{"document":{"id":"5b80cb39-8964-46bf-a626-d7d8d3906734","type":"text/plain","content":"{{messageExcep}}"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"955d5dcd-ab72-45db-ae97-407d1908e846","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"6abb18bd-6ce9-49ec-a900-5a6d14b09deb","$invalid":false},"$tags":[],"id":"e7fe877c-aa5e-4dd2-9fe7-8f2b55c5f432","root":false,"$title":"M.2.0.0 X.4","$position":{"top":"196px","left":"1534px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"02358925-069d-41e6-a9b1-de499ea09208":{"$contentActions":[{"action":{"$id":"68d42124-c0ed-4005-aed1-a45c5a424915","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"a315f173-60e7-4d81-86cf-bf7c919a4fcd","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"a315f173-60e7-4d81-86cf-bf7c919a4fcd","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"a436fde8-e6fc-4766-9002-59b3b8b9e068","$typeOfContent":"text","type":"SendMessage","settings":{"id":"5b80cb39-8964-46bf-a626-d7d8d3906734","type":"text/plain","content":"{{messageExcep}}","metadata":{}},"$cardContent":{"document":{"id":"5b80cb39-8964-46bf-a626-d7d8d3906734","type":"text/plain","content":"{{messageExcep}}"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"955d5dcd-ab72-45db-ae97-407d1908e846","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"6abb18bd-6ce9-49ec-a900-5a6d14b09deb","$invalid":false},"$tags":[],"id":"02358925-069d-41e6-a9b1-de499ea09208","root":false,"$title":"M.3.0.0 X.5","$position":{"top":"183px","left":"1325px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"a3565f09-f29a-4159-8fb1-773e38c1e0c1":{"$contentActions":[{"action":{"$id":"68d42124-c0ed-4005-aed1-a45c5a424915","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"a315f173-60e7-4d81-86cf-bf7c919a4fcd","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"a315f173-60e7-4d81-86cf-bf7c919a4fcd","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"a436fde8-e6fc-4766-9002-59b3b8b9e068","$typeOfContent":"text","type":"SendMessage","settings":{"id":"5b80cb39-8964-46bf-a626-d7d8d3906734","type":"text/plain","content":"{{messageExcep}}","metadata":{}},"$cardContent":{"document":{"id":"5b80cb39-8964-46bf-a626-d7d8d3906734","type":"text/plain","content":"{{messageExcep}}"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"955d5dcd-ab72-45db-ae97-407d1908e846","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"6abb18bd-6ce9-49ec-a900-5a6d14b09deb","$invalid":false},"$tags":[],"id":"a3565f09-f29a-4159-8fb1-773e38c1e0c1","root":false,"$title":"M.5.0.0 X.7","$position":{"top":"180px","left":"1762px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"7e9b0209-9cbe-4698-9b27-722880733993":{"$contentActions":[{"action":{"$id":"68d42124-c0ed-4005-aed1-a45c5a424915","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"a315f173-60e7-4d81-86cf-bf7c919a4fcd","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"a315f173-60e7-4d81-86cf-bf7c919a4fcd","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"a436fde8-e6fc-4766-9002-59b3b8b9e068","$typeOfContent":"text","type":"SendMessage","settings":{"id":"5b80cb39-8964-46bf-a626-d7d8d3906734","type":"text/plain","content":"{{messageExcep}}","metadata":{}},"$cardContent":{"document":{"id":"5b80cb39-8964-46bf-a626-d7d8d3906734","type":"text/plain","content":"{{messageExcep}}"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"955d5dcd-ab72-45db-ae97-407d1908e846","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"6abb18bd-6ce9-49ec-a900-5a6d14b09deb","$invalid":false},"$tags":[],"id":"7e9b0209-9cbe-4698-9b27-722880733993","root":false,"$title":"M.4.0.0 X.6","$position":{"top":"185px","left":"1973px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"fe961f4d-66e6-4cab-8509-75f0e3013bac":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"a760f71f-f75f-48ea-98a3-dd268b6c3c52","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"797117e0-fdea-41de-9244-f69e52af9a3c","$invalid":false},"$tags":[{"background":"#FFEC03","label":"GoTo","id":"blip-tag-acaeeeb9-8edb-b4f6-18b1-3ec3103da0c2","canChangeBackground":false}],"id":"fe961f4d-66e6-4cab-8509-75f0e3013bac","root":false,"$title":"[GO TO] BadWord","$position":{"top":"185px","left":"671px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"768a207f-4f6e-48c6-bcab-4039a178b614":{"$contentActions":[{"action":{"$id":"4f311783-f5fb-4084-8f67-a3cae4c3a067","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"bf48542d-3ef4-4345-864d-e19ec02aae83","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"bf48542d-3ef4-4345-864d-e19ec02aae83","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"796c4e94-40e6-49c1-97de-5df3c7c1afb6","$typeOfContent":"text","type":"SendMessage","settings":{"id":"7d5f0a62-5f39-49f7-af94-2d2f375f40a9","type":"text/plain","content":"Sinto muito, n√£o consegui te {{n1}}entender{{n2}} muito bem","metadata":{}},"$cardContent":{"document":{"id":"7d5f0a62-5f39-49f7-af94-2d2f375f40a9","type":"text/plain","content":"Sinto muito, n√£o consegui te {{n1}}entender{{n2}} muito bem"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"690ff403-cb28-4cf9-bd35-f8fbe7f1615b","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"6abb18bd-6ce9-49ec-a900-5a6d14b09deb","$invalid":false},"$tags":[],"id":"768a207f-4f6e-48c6-bcab-4039a178b614","root":false,"$title":"Default","$position":{"top":"377px","left":"648px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"797117e0-fdea-41de-9244-f69e52af9a3c":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"1ce0fbbc-422d-406a-969c-1fc38138dc23","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"1d460f68-cdbd-41e0-a1bb-acf37c584aa6","$connId":"con_143","$id":"712ac02d-174e-48b4-946a-a464873ebb72","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"056a07ca-6ffe-43a9-8d0b-f8be952e8504","$typeOfContent":"","type":"ExecuteScript","$title":"Message Exception","$invalid":false,"settings":{"function":"run","source":"const run = (obj, boldValue, italicValue) => {\n  const messages = [\n    {\n      'message': '',\n      'type': 'SwearWord'\n    },\n    {\n      'message': '',\n      'type': 'Insult'\n    },\n    {\n      'message': '',\n      'type': 'Preconception'\n    },\n    {\n      'message': '',\n      'type': 'Depreciate'\n    },\n    {\n      'message': '',\n      'type': 'Injury'\n    },\n    {\n      'message': '',\n      'type': 'Prejudgement'\n    },\n  ];\n\n  let convertBold = boldValue;\n  if (typeof boldValue === typeof toString()) {\n    convertBold = JSON.parse(boldValue);\n  }\n  let convertItalic = italicValue;\n  if (typeof italicValue === typeof toString()) {\n    convertItalic = JSON.parse(italicValue);\n  }\n\n  const config = {\n    \"activeBold\": true,\n    \"boldValue\": convertBold,\n    \"replaceBold\": {\n      \"open\": \"%%%\",\n      \"close\": \"@@@\"\n    },\n    \"activeItalic\": false,\n    \"italicValue\": convertItalic,\n    \"replaceItalic\": {\n      \"open\": \"###\",\n      \"close\": \"&&&\"\n    },\n    \"BreakLine\": '\\n',\n    \"replaceBreakLine\": '---',\n    \"replaceToBreakLine\": '___'\n  };\n\n  let message = getMessage(obj, messages);\n\n  if (config.activeBold) {\n    message = myFunctionBold(message, config);\n  }\n\n  if (config.activeItalic) {\n    message = myFunctionItalic(message, config);\n  }\n\n  message = myFunctionBreakLine(message, config);\n\n  return message;\n};\n\nfunction getMessage(obj, objMessages) {\n  let excecao = obj;\n  if (typeof obj === typeof toString()) {\n    excecao = JSON.parse(obj);\n  }\n\n  const message = objMessages.find(element => element.type === excecao.stateDestination);\n\n  return message.message;\n}\n\nfunction myFunctionBold(item, obj) {\n  const matchingOpen = RegExp(obj.replaceBold.open, \"g\");\n  const matchingClose = RegExp(obj.replaceBold.close, \"g\");\n  item = item.replace(matchingOpen, obj.boldValue.open);\n  item = item.replace(matchingClose, obj.boldValue.close);\n\n  return item;\n}\n\nfunction myFunctionItalic(item, obj) {\n  const matchingOpen = RegExp(obj.replaceItalic.open, \"g\");\n  const matchingClose = RegExp(obj.replaceItalic.close, \"g\");\n  item = item.replace(matchingOpen, obj.italicValue.open);\n  item = item.replace(matchingClose, obj.italicValue.close);\n\n  return item;\n}\n\nfunction myFunctionBreakLine(item, obj) {\n  const matchingRBL = RegExp(obj.replaceBreakLine, \"g\");\n  const matchingRBL2 = RegExp(obj.replaceToBreakLine, \"g\");\n  const bl2 = `${obj.BreakLine}${obj.BreakLine}`;\n  item = item.replace(matchingRBL, obj.BreakLine);\n  item = item.replace(matchingRBL2, bl2);\n\n  return item;\n}","inputVariables":["objExcecao","boldValue","italicValue"],"outputVariable":"messageExcep","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"1d460f68-cdbd-41e0-a1bb-acf37c584aa6","$invalid":false},"$tags":[{"background":"#FF6F1E","label":"ExecuteScript","id":"blip-tag-04e98f44-0340-209a-c01e-1f695637619f","canChangeBackground":false}],"id":"797117e0-fdea-41de-9244-f69e52af9a3c","root":false,"$title":"[Val] BadWord","$position":{"top":"68px","left":"2198px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"1d460f68-cdbd-41e0-a1bb-acf37c584aa6":{"$contentActions":[{"action":{"$id":"68d42124-c0ed-4005-aed1-a45c5a424915","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"a315f173-60e7-4d81-86cf-bf7c919a4fcd","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"a315f173-60e7-4d81-86cf-bf7c919a4fcd","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"a436fde8-e6fc-4766-9002-59b3b8b9e068","$typeOfContent":"text","type":"SendMessage","settings":{"id":"5b80cb39-8964-46bf-a626-d7d8d3906734","type":"text/plain","content":"{{messageExcep}}","metadata":{}},"$cardContent":{"document":{"id":"5b80cb39-8964-46bf-a626-d7d8d3906734","type":"text/plain","content":"{{messageExcep}}"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"955d5dcd-ab72-45db-ae97-407d1908e846","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"6abb18bd-6ce9-49ec-a900-5a6d14b09deb","$invalid":false},"$tags":[],"id":"1d460f68-cdbd-41e0-a1bb-acf37c584aa6","root":false,"$title":"M.6.0.0 X.8","$position":{"top":"189px","left":"2198px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false}},"globalAction":{"$contentActions":[],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[],"id":"global-actions","$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false}}